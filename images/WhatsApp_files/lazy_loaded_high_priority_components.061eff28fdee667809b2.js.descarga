/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{baaafjdcde:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),p=a("dghfbecefg"),h=i(a("ccbgfecegc")),m=i(a("bbfjdcedab")),g=i(a("dhigahgdjb")),b=i(a("gfebgebbi")),v=i(a("bdeebiagii")),j=i(a("bdjjabfecc")),E=a("cgjcdbggeb"),M=n(a("chbeahhfcj")),C=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).isGroupParticipant=function(e){return!!a.props.chat.groupMetadata.participants.get(e)},a.customSecondaryText=function(e){return a.props.chat.groupMetadata.participants.get(e)?j.default.t(1746):null},a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!g.default.isFilteredContact(e)&&(!t.participants.get(e.id)||j.default.t(1746))},a.confirmAddParticipant=function(e){var t=a.props.chat;a.push(f.createElement(m.default,{onOK:a.onAddParticipant.bind((0,s.default)(a),e),okText:j.default.t(1744,{_plural:e.length}),onCancel:a._pop,cancelText:j.default.t(1436)},f.createElement(b.default,{text:a.makeNameEnumeration(e,t.contact.name)})))},a.makeNameEnumeration=function(e,t){var a=e.map((function(e){return e.formattedShortName||e.shortName})).reduce((function(t,a,n){return[].concat((0,o.default)(t),[a,n!==e.length-1&&j.default.t(526)||""])}),[]);return j.default.t(421,{participants:a.join(""),subject:t})},a.onAddParticipant=function(e){(0,E.addParticipants)(a.props.chat,e).catch((function(){})),h.default.closeModal()},a._pop=function(){a.pop()},a}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){this.push(f.createElement(M.default,{onConfirm:this.confirmAddParticipant,filter:this.contactFilter,title:j.default.t(1744),isDisabled:this.isGroupParticipant,isSelected:this.isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:M.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:p.FooterType.CONFIRM,multipleSelectionFooterType:p.FooterType.CONFIRM}))}}]),t}(v.default);t.default=C},bagchhaeje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dhdffaicfc")),f=i(a("dbdfbgehgj")),p=i(a("cfadcbbiie")),h=i(a("ccbgfecegc")),m=i(a("ieeidjijb")),g=i(a("dhigahgdjb")),b=n(a("hhcjfgifh")),v=i(a("dahagdijgh")),j=i(a("bjheffjbgd")),E=i(a("cciafahdib")),M=n(a("bjjhgjdbhd")),C=i(a("ddeefhbafc")),y=i(a("bgheieccaj")),_=i(a("dbfjeecgih")),S=a("ddbdgibbbi"),k=i(a("bhbdiadfhj")),P=i(a("jheedhagg")),T=i(a("bdjjabfecc")),N=i(a("ebddggeaib")),I=i(a("cdicaaigga")),A=i(a("dcdbbhicce")),D=a("cjfegjecaj"),R=i(a("dgdcjccfdi")),O=i(a("dhhjhedjij")),w=i(a("jccfhaecf")),L=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new _.default,a.onParticipantClick=function(e,t){w.default.equals((0,S.getMaybeMeUser)(),t.id)||f.default.find(t.id).then((function(e){h.default.openChatFromUnread(e).then((function(t){t&&h.default.focusChatTextInput(e)}))}))},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onDelete=function(){h.default.deleteOrExitChat((0,D.unproxy)(a.props.chat))},a.renderItem=function(e){var t=e.participant,n=g.default.gadd(t.id);return s.createElement(m.default,{contact:n,theme:"drawer-list",admin:!!t.isAdmin,onClick:a.onParticipantClick,key:t.id.toString(),waitIdle:!0})},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata;this.props.listeners.add(t.participants,"add remove sort reset",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return this.props.chat.groupMetadata.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){var e=this.props.chat,t=null;if(this.props.onMediaGallery){var a=s.createElement(R.default,{className:u.default.chevron,name:"chevron-right-alt",directional:!0}),n=k.default.supportsFeature(k.default.F.LINK_DOC_GALLERY)?T.default.t(823):T.default.t(820);t=s.createElement(C.default,{title:n,titleOnClick:this.props.onMediaGallery||function(){},subtitle:a,theme:"padding"},s.createElement(I.default,{chat:(0,D.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var i,o=this.props.chat.groupMetadata.participants,c=s.createElement(O.default,{theme:"section-title"},T.default.n(o.length)),r=o.length?s.createElement(C.default,{title:T.default.t(1644),subtitle:c},s.createElement(y.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})):null,l=s.createElement(C.default,null,s.createElement(E.default,{a8nText:"li-delete-broadcast",icon:s.createElement(R.default,{name:"delete"}),color:"danger",theme:"list-aligned",onClick:this.onDelete},T.default.t(1477)));return e.groupMetadata.creation?(i=p.default.createdStr(e.groupMetadata.creation),i=s.createElement(O.default,{theme:"small",block:!0},i)):i=null,s.createElement(v.default,{key:"contact-info-modal",theme:"striped"},s.createElement(M.default,{type:M.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose},s.createElement(O.default,{theme:"title",block:!0},T.default.t(313)),i),s.createElement(j.default,{flatListControllers:[this.flatListController]},s.createElement("div",{className:u.default.body},s.createElement("div",{className:u.default.photo},s.createElement(b.default,{id:e.id,size:b.DETAIL_IMAGE_SIZE.LARGE})),t,null,r,l)))}}]),t}(s.Component);L.CONCERNS={chat:["id","groupMetadata"]};var x=(0,P.default)((0,N.default)((0,A.default)(L,L.CONCERNS)));t.default=x},bajacafbgd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),p=i(a("bdjjabfecc")),h=i(a("ccfihccafi")),m=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,r.default)(this,(0,l.default)(t).call(this,e)))._handleOK=function(){var e=a.state.selectedValue;null!=e&&a.props.onSelect(e),a.closeModal()},a._handleChange=function(e){var t=e.target;t instanceof HTMLInputElement&&a.setState({selectedValue:parseInt(t.value,10)})},a.closeModal=function(){u.default.closeModal()},a.state={selectedValue:e.initialValue},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this,t=this.props.options.map((function(t){var a=t.value,n=t.label;return s.createElement("li",{key:"setting-".concat(a)},s.createElement("label",{className:h.default.label},s.createElement("input",{type:"radio",className:h.default.input,value:String(a),checked:a===e.state.selectedValue,onChange:e._handleChange}),n))}));return s.createElement(f.default,{title:this.props.title,okText:p.default.t(422),onOK:this._handleOK,onCancel:this.closeModal},s.createElement("form",null,s.createElement("ol",null,t)))}}]),t}(s.PureComponent);t.default=m},bbgbbhfdaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=d,t.businessHoursFromConfig=s,t.getWebsiteLink=function(e){var t=encodeURIComponent(e);return"https://l.wl.co/l?u=".concat(t)},t.getBusinessHours=function(e){var t=e.config,a=(new Date).getDay();return o.DAYS_OF_WEEK.map((function(e,n){var i=(a+n)%o.DAYS_OF_WEEK.length,c=o.DAYS_OF_WEEK[i];return{day:d(i),hours:s(t[c]),first:0===n}}))};var i=n(a("dgdjiicfdg")),o=a("bechdajic"),c=n(a("cfadcbbiie")),r=n(a("bdjjabfecc"));function l(e){return i.default.utc().startOf("day").add(e,"minutes").format(c.default.timestampStrFormat())}function d(e){return i.default.weekdays(e)}function s(e){switch(e&&e.mode){case o.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e.hours?e.hours.map((function(e){return e.map(l).join(" - ")})).join("\n"):"";case o.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return r.default.t(315);case o.BUSINESS_HOUR_MODES.OPEN_24H:return r.default.t(317);default:return r.default.t(316)}}},bdaddecbdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("daghjjjedc")),p=i(a("cfadcbbiie")),h=i(a("ccbgfecegc")),m=i(a("bbfjdcedab")),g=i(a("gaeccibgi")),b=i(a("bdjjabfecc")),v=i(a("dcdbbhicce")),j=a("cjfegjecaj"),E=i(a("dhhjhedjij")),M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onMute=function(e){h.default.muteChat((0,j.unproxy)(a.props.chat),e)},a.onUnmute=function(){var e=a.props.chat.isGroup?b.default.t(444):b.default.t(442);h.default.openModal(s.createElement(m.default,{onOK:a.unmute,okText:b.default.t(56),onCancel:function(){return h.default.closeModal()},cancelText:b.default.t(1436)},e))},a.unmute=function(){a.onMute(!1),h.default.closeModal()},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props.mute.isMuted,n=this.props.chat.muteExpiration,i=a?this.onUnmute:function(){t.onMute(!0)},o=s.createElement(f.default,{checked:a,onChange:i}),c=a?b.default.t(1444):b.default.t(1569);if(a&&n){var r=p.default.untilStr(n);e=s.createElement(E.default,{theme:"muted",block:!0},r)}return s.createElement(g.default,{a8nText:u.default.key("block-mute"),side:o,onClick:i,multiline:!(!a||!n)},s.createElement(E.default,{theme:"title"},c),e)}}]),t}(s.PureComponent);M.CONCERNS={chat:["isGroup","muteExpiration"],mute:["isMuted"]};var C=(0,v.default)(M,M.CONCERNS);t.default=C},bdjgdghiah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("hhegggegb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),h=a("cdhbdacigj"),m=i(a("edfgfbdfg")),g=i(a("cbgigghcji")),b=i(a("ccadaajdfc")),v=a("cjfegjecaj"),j=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._setScrollContainer=function(e){a._scrollContainer=e},a._onScroll=function(e){a._handleScroll(e.target)},a._handleScroll=(0,s.default)((function(e){var t=a.props,n=t.hasBefore,i=t.msgsCollection,o=t.setScrollOffset,c=e.scrollHeight-e.clientHeight-e.scrollTop<p.default.SCROLL_FUDGE;n&&c&&a._queryCollection(i.head()),o&&o(e.scrollTop)}),100),a._handleClickMsg=function(e,t){var n=(0,v.unproxy)(e);a.props.selectable&&void 0!==t?a.props.onMessageSelect(n,t):f.default.openChatAt(n.chat,n.chat.getSearchContext(n))},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hasBefore,a=e.scrollOffset;t&&this._queryCollection(),this._scrollContainer&&(this._scrollContainer.scrollTop=a)}},{key:"componentWillUnmount",value:function(){this._handleScroll.cancel()}},{key:"_queryCollection",value:function(e){var t=this.props,a=t.hasBefore,n=t.queryCollection;a&&n(e)}},{key:"_renderElements",value:function(){var e=this,t=this.props,a=t.msgsCollection,n=t.selectedMessages,i=t.renderElements;return i?i(this._handleClickMsg):a.map((function(t,a){return u.createElement(b.default,{key:"".concat(t.id.toString(),"_").concat(a),msg:t,selectable:e.props.selectable,selectedMessages:n,onMessageSelect:e.props.onMessageSelect,displayType:p.default.DISP_TYPE.GALLERY,onClickMsg:e._handleClickMsg,onProductClick:e.props.onProductDetail})})).reverse()}},{key:"render",value:function(){var e=this.props,t=e.queryBefore,a=e.hasBefore,n=e.msgsCollection,i=e.emptyText,o=this._renderElements();if(t){if(0===o.length)return u.createElement(h.Loading,null);o.push(u.createElement(m.default,null))}return 0!==n.length||t||a?u.createElement("div",{ref:this._setScrollContainer,onScroll:this._onScroll,className:g.default.wrapper},o):u.createElement(h.Empty,{text:i,a8nText:"no-elements"})}}]),t}(u.Component);t.default=j,j.defaultProps={scrollOffset:0}},bfachifdii:function(e,t){e.exports={header:"eOeEk"}},bfdjaabbje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BusinessProfile=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dbejedjeej")),p=i(a("jjcagibhi")),h=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("cciafahdib")),b=i(a("ddeefhbafc")),v=i(a("gfebgebbi")),j=i(a("djaiggcdb")),E=i(a("bhbdiadfhj")),M=i(a("bdjjabfecc")),C=i(a("cbedabhaa")),y=i(a("cjafajdgce")),_=a("igiffibee"),S=i(a("bdcchebfge")),k=a("bbgbbhfdaj"),P=i(a("ecdebjcgfa")),T=i(a("dcdbbhicce")),N=i(a("dgdcjccfdi")),I=m.default.VERIFIED_LEVEL,A=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={collapsedHours:!0},a.onBusinessHoursClick=function(){a.setState({collapsedHours:!a.state.collapsedHours})},a.onBusinessInfoClick=function(){h.default.openModal(u.createElement(f.default,{contact:a.props.contact}))},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){new S.default.ViewBusinessProfile({viewBusinessProfileAction:S.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,businessProfileJid:this.props.contact.id.toString()}).commit()}},{key:"getBusinessInfoTitle",value:function(){var e,t=this.props.contact,a=!t.name||t.name===t.verifiedName,n="psa-unverified";switch(t.verifiedLevel){case I.HIGH:n="psa-verified",a?e=u.createElement(v.default,{className:p.default.verifiedLabel,text:M.default.t(329)}):(e=u.createElement(v.default,{className:p.default.verifiedLabel,text:M.default.t(327)}),e=u.createElement(C.default,{id:328,params:{verified:e,businessName:t.verifiedName}}));break;case I.LOW:e=a?u.createElement(v.default,{text:M.default.t(325)}):M.default.t(324,{businessName:t.verifiedName});break;case I.UNKNOWN:e=M.default.t(323)}return u.createElement(R,{icon:n,className:p.default.businessMarker,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessInfoTitleV2",value:function(){var e;switch(this.props.contact.verifiedLevel){case I.HIGH:e=M.default.t(326);break;case I.LOW:case I.UNKNOWN:e=M.default.t(323)}return u.createElement(g.default,{a8nText:"business-title",className:p.default.businessTitleText,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessHours",value:function(e){var t=this,a=(0,k.getBusinessHours)(e).map((function(e){var a=e.day,n=e.hours,i=e.first;return!i&&t.state.collapsedHours?null:u.createElement(D,{day:a,key:a,hours:n,first:i,collapsed:t.state.collapsedHours})}));return u.createElement(R,{icon:"business-hours",onClick:this.onBusinessHoursClick},a)}},{key:"getAddressString",value:function(e){var t=e.streetAddress,a=e.localizedCityName,n=e.zipCode;return t&&a&&n?M.default.t(322,{streetAddress:t,city:a,zipCode:n}):t&&a?M.default.t(321,{streetAddress:t,city:a}):t}},{key:"getAddress",value:function(e,t,a,n){var i,o,c,r=n?this.getAddressString(n):null;(null!=t&&null!=a&&(i=u.createElement("div",{style:{height:150},className:p.default.businessMap},u.createElement(y.default,{lat:t,lng:a,name:r||e,width:565,height:150}))),r)&&(c=null!=t&&null!=a?(0,_.getMapUrl)(t,a,r):(0,_.getSearchUrl)(r),o=u.createElement("div",{className:p.default.address},u.createElement(j.default,{href:c},u.createElement(v.default,{selectable:!0,direction:"auto",text:r}))));return o||i?u.createElement(R,{icon:"business-address"},o,i):null}},{key:"render",value:function(){var e,t,a,n,i,o,c,r;e=E.default.supportsFeature(E.default.F.VNAME_V_2)?this.getBusinessInfoTitleV2():this.getBusinessInfoTitle();var l,d=this.props.businessProfile;if(d.stale)t=u.createElement("div",{className:p.default.contactBusinessInfoSpinner},u.createElement(P.default,{size:20,stroke:5}));else if(a=d.categories&&d.categories.length?u.createElement(R,{icon:"business-category"},u.createElement(v.default,{selectable:!0,direction:"auto",text:d.categories.map((function(e){return e.localized_display_name})).join(M.default.t(526))})):null,n=d.description?u.createElement(R,{icon:"business-description"},u.createElement(v.default,{selectable:!0,direction:"auto",text:d.description})):null,i=this.getAddress(this.props.contact.name,d.latitude,d.longitude,d.structuredAddress),d.website&&Array.isArray(d.website)&&d.website.length&&(o=d.website.map((function(e,t){var a=(0,k.getWebsiteLink)(e),n=u.createElement(v.default,{selectable:!0,direction:"auto",text:e}),i=u.createElement(j.default,{className:p.default.link,href:a},n);return u.createElement(R,{icon:"business-website",key:t},i)}))),d.businessHours&&(c=this.getBusinessHours(d.businessHours)),d.email){var s=u.createElement(v.default,{selectable:!0,direction:"auto",text:d.email}),f=u.createElement(j.default,{className:p.default.link,href:"mailto:".concat(d.email)},s);r=u.createElement(R,{icon:"business-email",dir:"auto"},f)}return(t||null!=i||a||n||null!=c||r||o)&&(l=u.createElement(b.default,{theme:"padding"},u.createElement("div",{className:p.default.contactBusinessInfo},t,i,a,n,c,r,o))),u.createElement(u.Fragment,null,u.createElement(b.default,null,e),l)}}]),t}(u.PureComponent);t.BusinessProfile=A,A.CONCERNS={contact:["id","verifiedLevel","name","verifiedName"],businessProfile:["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]};var D=function(e){var t=e.first?u.createElement("div",{className:p.default.businessHoursChevron,role:"button"},u.createElement(N.default,{className:e.collapsed?"":p.default.flipSvg,display:"inline",name:"chevron-down-alt"})):null;return u.createElement("div",{className:p.default.businessHoursRow},u.createElement("div",{className:p.default.businessHoursDay},u.createElement(v.default,{direction:"auto",text:e.day})),u.createElement("div",{className:p.default.businessHoursHours},u.createElement(v.default,{direction:"auto",text:e.hours})),t)},R=function(e){return u.createElement("div",{className:(0,s.default)(p.default.dataRow,e.className),onClick:e.onClick},u.createElement("div",{className:p.default.dataRowIcon},u.createElement(N.default,{name:e.icon})),u.createElement("div",{className:p.default.dataRowText},e.children))},O=(0,T.default)(A,A.CONCERNS);t.default=O},bgcfdacged:function(e,t){e.exports={section:"_1MQ2P",control:"_1Let4"}},bgcibhihaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.size!==t.size)return!1;for(var a of e){var n=(0,i.default)(a,2),o=n[0],c=n[1];if(t.get(o)!==c)return!1}return!0};var i=n(a("hbddjfeei"))},bgdcbcbibj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),h=i(a("dhigahgdjb")),m=i(a("bdacheahgj")),g=i(a("gfebgebbi")),b=i(a("bdeebiagii")),v=i(a("bdjjabfecc")),j=a("cgjcdbggeb"),E=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!h.default.isFilteredContact(e)&&(!t.participants.get(e.id)||v.default.t(1746))},a.confirmAddParticipant=function(e){var t=a.onAddParticipant.bind((0,d.default)(a),e),n=v.default.t(420,{participant:e.formattedName,subject:a.props.chat.contact.name});a.push(u.createElement(p.default,{onOK:t,okText:v.default.t(1744),onCancel:a._pop,cancelText:v.default.t(1436)},u.createElement(g.default,{text:n})))},a.onAddParticipant=function(e){(0,j.addParticipants)(a.props.chat,[e]).catch((function(){})),f.default.closeModal()},a._pop=function(){a.pop()},a}return(0,s.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.push(u.createElement(m.default,{title:v.default.t(1744),filter:this.contactFilter,onCancel:this._pop,onSelect:this.confirmAddParticipant}))}}]),t}(b.default);t.default=E},bhfbajceed:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),h=i(a("jigjfjjij")),m=i(a("ebicahbfai")),g=i(a("bacefjjjdb")),b=n(a("bjdccffhaj")),v=i(a("ccbgfecegc")),j=i(a("ebcfjdcbhh")),E=i(a("bbfjdcedab")),M=a("ihfehgab"),C=i(a("hgigjbgie")),y=i(a("dfjejeffdj")),_=i(a("gfebgebbi")),S=i(a("eiighchhi")),k=a("bgddggdhc"),P=a("bjegcccgec"),T=i(a("ddbeddiehf")),N=a("dhegcfddhg"),I=a("gaifbabbj"),A=i(a("bdjjabfecc")),D=i(a("dcjigehfeb")),R=i(a("dhbjadiajj")),O=i(a("cejhhjegdc")),w=i(a("dajceebgdj")),L=i(a("cfccehgdic")),x=i(a("chihecbaj")),G=i(a("cbjadbhidj")),F=i(a("bdcchebfge")),U=i(a("djcajecjgh")),B=i(a("difhgjjfcb")),W=a("deffjjfcba"),V=i(a("dcdbbhicce")),H=a("cjfegjecaj"),q=a("hjbbdjjdf"),Y=i(a("cgjdibiahi")),z=i(a("bcifhbgija")),K=i(a("ecfabjjeda"));function Z(){var e=(0,o.default)(["type: ",""]);return Z=function(){return e},e}var X=function(e){function t(e){var a;return(0,c.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).setMediaImage=function(e){a.mediaImage=e},a.setMediaVideo=function(e){a.mediaVideo=e},a.onImageLoad=function(e){a.props.onImageLoad&&a.props.onImageLoad();var t=a.state.zoomElement;t&&e&&a.props.zoomIn&&e instanceof HTMLElement&&(a.zoomed||(a.zoomed=!0,a.animateZoom(t,e)))},a.animateZoom=function(e,t){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),o=i.top-n.top,c=i.left-n.left,r=e.clientWidth/t.clientWidth;o-=(t.clientHeight-e.clientHeight)/2,c-=(t.clientWidth-e.clientWidth)/2,(0,z.default)(t,{opacity:[1,0],translateX:[0,c],translateY:[0,o],scale:[1,r]},{duration:C.default.MEDIA_VIEWER.ANIMATION_DURATION,easing:[.1,.82,.25,1]});var l=(0,k.forbiddenFindDOMNode)(a.caption);l&&(0,z.default)(l,{opacity:[1,0]},{duration:C.default.MEDIA_VIEWER.ANIMATION_DURATION})},a.openForwardFlow=function(e){e.stopPropagation();var t=a.props.msg;t.isUnsentMedia?v.default.openModal(p.createElement(E.default,{title:A.default.t(580),onOK:function(){return v.default.closeModal()},okText:A.default.t(1588)},A.default.t(577))):v.default.openModal(p.createElement(T.default,{msgs:[(0,H.unproxy)(t)]}),{transition:"modal-flow"})},a.onReplyClick=function(){a.onClose(),Promise.delay(C.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION).then((function(){var e=(0,H.unproxy)(a.props.msg),t=e.chat;t.composeQuotedMsg=e,v.default.focusChatTextInput(t)}))},a.onDeleteClick=function(){var e=a.props.msg;v.default.openModal(p.createElement(y.default,{chat:e.chat,msgList:[(0,H.unproxy)(e)],deletePrompt:!0,revokePrompt:e.canRevoke()}))},a.onMsgInfoClick=function(){a.onClose(),Promise.delay(C.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION+250).then((function(){v.default.msgInfoDrawer((0,H.unproxy)(a.props.msg))}))},a.onScroll=function(e){Math.abs(e.deltaY)>7&&a.onClose()},a.onImgZoomIn=function(e){var t=a.mediaImage;e&&t&&(a.listenToMouseMove=t.heightOverflow>0||t.widthOverflow>0),a.setState({imgZoomed:e}),a.props.onImgZoomIn(e)},a.onZoomOut=function(e){var t=a.mediaImage;t&&a.state.imgZoomed&&t.onImageClick(e)},a.onMouseMove=function(e){a.handleMouseMove(e.pageX,e.pageY)},a._handleMouseMove=function(e,t){if(!a.state.annotationTooltipDisplayed){var n=a.mediaImage;if(n){var i=n.image;if(i){var o=(0,k.forbiddenAssertDOMNode)(i);if(o){var c=o.parentNode,r=c.parentNode,l=n.getTranslatePosition(r,e,t),d=l.translateX,s=l.translateY;(0,z.default)(c,"stop"),(0,z.default)(c,{translateX:d,translateY:s,scale:C.default.MEDIA_VIEWER.ZOOM_IN_FACTOR},{duration:0})}}}}},a.onDownloadClick=function(e){e.stopPropagation(),S.default.initDownload((0,H.unproxy)(a.props.msg))},a.onStarClick=function(e){e.stopPropagation();var t=a.props.msg;v.default.sendStarMsgs(t.chat,[(0,H.unproxy)(t)])},a.onUnstarClick=function(e){e.stopPropagation();var t=a.props.msg;v.default.sendUnstarMsgs(t.chat,[(0,H.unproxy)(t)])},a.onGoToMsgClick=function(e){e.stopPropagation(),a.onClose(),v.default.existsDrawerRight((function(e){e&&2===j.default.column&&v.default.closeDrawerRight()}));var t=a.props.msg,n=t.chat.getSearchContext((0,H.unproxy)(t));v.default.openChatAt(t.chat,n).then((function(e){e&&v.default.focusChatTextInput(t.chat)}))},a.onClose=function(){if(!a.closing){a.closing=!0,(0,q.isFunction)(a.props.onExitAnimation)&&a.props.onExitAnimation();var e,t=a.props.getZoomNode&&a.props.getZoomNode(a.props.msg.id);if(!t)return a.props.onBack();if(a.props.mediaData.type===D.default.TYPE.IMAGE&&a.mediaImage?e=a.mediaImage.image:a.props.mediaData.isGif&&a.mediaVideo&&(e=a.mediaVideo.player),!e)return a.props.onBack();var n=(e=(0,k.forbiddenAssertDOMNode)(e)).getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.top-n.top,c=i.left-n.left,r=t.clientWidth/e.clientWidth;o-=(e.clientHeight-t.clientHeight)/2,c-=(e.clientWidth-t.clientWidth)/2,(0,z.default)(e,{translateX:[c,0],translateY:[o,0],scale:[r,1]},{duration:C.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]}).then((function(){a.props.onBack()}));var l=(0,k.forbiddenFindDOMNode)(a.caption);l&&(0,z.default)(l,{opacity:[0,1]},{duration:C.default.MEDIA_VIEWER.CLOSE_ANIMATION_DURATION,easing:[.1,.82,.25,1]})}},a.onAnnotationTooltipDisplay=function(){return a.setState({annotationTooltipDisplayed:!0})},a.onAnnotationTooltipDismiss=function(){return a.setState({annotationTooltipDisplayed:!1})},a.handleMouseMove=(0,u.default)(a._handleMouseMove,42),a.zoomed=!1,a.closing=!1,a.listenToMouseMove=!1,a.state={imgZoomed:!1,zoomElement:null,annotationTooltipDisplayed:!1},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){if(this.props.mediaData.mediaStage===D.default.STAGE.RESOLVED&&this.props.zoomIn&&this.props.getZoomNode){var e=this.props.getZoomNode(this.props.msg.id);this.setState({zoomElement:e})}}},{key:"componentWillUnmount",value:function(){this.handleMouseMove.cancel()}},{key:"render",value:function(){var e,t,a=this.props,n=a.msg,i=a.mediaData;switch(i.type){case D.default.TYPE.IMAGE:e=p.createElement(R.default,{msg:n,mediaData:i,key:n.id.toString(),onLoad:this.onImageLoad,onImgZoomIn:this.onImgZoomIn,onAnnotationTooltipDisplay:this.onAnnotationTooltipDisplay,onAnnotationTooltipDismiss:this.onAnnotationTooltipDismiss,ref:this.setMediaImage});break;case D.default.TYPE.VIDEO:e=p.createElement($,{msg:n,mediaData:i,key:n.id.toString(),onLoad:i.isGif?this.onImageLoad:null,startTime:this.props.startTime,onClose:this.onClose,ref:this.setMediaVideo});break;case D.default.TYPE.AUDIO:e=p.createElement(te,{mediaData:i,key:n.id.toString()});break;default:__LOG__(4,!1,new Error)(Z(),i.type),SEND_LOGS("MediaViewerModal: unexpected media type")}var o=this.props.msgIndexInAlbum>=0&&this.props.albumSize>=0;if(n.caption||o){var c;if(o){var r={number:this.props.msgIndexInAlbum+1,totalNumber:this.props.albumSize};c=A.default.t(1020,r)}var l=I.Configuration.TrustedConversation({mentions:n.mentionMap(),links:n.getLinks()}),d=this.props.zoomIn&&(i.isGif||i.type===D.default.TYPE.IMAGE),s=(0,f.default)(G.default.mediaCaption,{[G.default.captionHidden]:d});t=p.createElement(_.default,{className:s,formatters:l,ref:(0,N.GetRef)("caption",this),text:n.caption||c})}var u=(0,f.default)(G.default.media,{[G.default.mediaWithCaption]:!!t}),h=p.createElement("div",{className:(0,f.default)(G.default.btnMediaNext)},p.createElement(b.default,{type:b.ButtonType.Next,onClick:this.props.onNext||function(e){return e&&e.stopPropagation()},onKeyDown:this.props.onNext||function(e){return e&&e.stopPropagation()},disabled:!this.props.onNext||this.state.imgZoomed,theme:W.RoundTheme.Default})),m=p.createElement("div",{className:(0,f.default)(G.default.btnMediaPrev)},p.createElement(b.default,{type:b.ButtonType.Prev,onClick:this.props.onPrev||function(e){return e&&e.stopPropagation()},onKeyDown:this.props.onPrev||function(e){return e&&e.stopPropagation()},disabled:!this.props.onPrev||this.state.imgZoomed,theme:W.RoundTheme.Default})),g=(0,f.default)("overlay",G.default.mediaViewer,{[G.default.mediaViewerAnimate]:this.props.zoomIn,[G.default.cursorZoomOut]:this.state.imgZoomed}),v=this.state.imgZoomed?null:this.onScroll,j=this.state.imgZoomed?null:this.onClose,E=this.state.imgZoomed&&this.listenToMouseMove?this.onMouseMove:null,M=this.state.imgZoomed?this.onZoomOut:null;return p.createElement(Y.default,{displayName:"MediaViewer",escapable:!0,requestDismiss:this.onClose},p.createElement("div",{className:g,"data-animate-media-viewer":!0,onClick:M,onMouseMove:E},p.createElement(w.default,{msg:n,mediaData:i,onGoToMsgClick:this.onGoToMsgClick,onReplyClick:this.onReplyClick,onUnstarClick:this.onUnstarClick,onStarClick:this.onStarClick,onDeleteClick:this.onDeleteClick,openForwardFlow:this.openForwardFlow,onDownloadClick:this.onDownloadClick,onMsgInfoClick:this.onMsgInfoClick,onClose:this.onClose,msgIndexInAlbum:this.props.msgIndexInAlbum}),p.createElement("div",{className:G.default.mediaContent,dir:"ltr",onWheel:v,onClick:j},m,p.createElement("div",{className:u},p.createElement(L.default,{msg:n,mediaData:i}),e,t),h)))}}]),t}(p.PureComponent);X.CONCERNS={msg:["id","star","isUnsentMedia","chat","caption","interactiveAnnotations"],mediaData:["mediaStage","type","isGif"]};var Q=(0,V.default)(X,X.CONCERNS);t.default=Q;var J=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).state={played:!1,size:{width:0,height:0},isFullscreenMode:!1},a.updateSize=function(){var e=a.props.mediaData;(e.mediaStage===D.default.STAGE.RESOLVED||e.streamable&&e.isStreamable())&&e.fullWidth&&e.fullHeight&&a.setState({size:a.getSize()})},a.stopPropagation=function(e){e.stopPropagation()},a.getSize=function(){var e=a.props.mediaData;if(e.isGif){return e.fullWidth>=330?{width:e.fullWidth,height:e.fullHeight}:{width:330,height:330*e.fullHeight/e.fullWidth}}return e.fullWidth>=P.MIN_WIDTH?{width:e.fullWidth,height:e.fullHeight}:{width:P.MIN_WIDTH,height:e.fullHeight}},a.handleFullscreenToggle=function(e){a.setState({isFullscreenMode:e})},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateSize()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this.updateSize()}},{key:"componentDidMount",value:function(){this.props.mediaData.isStreamable()||this.props.msg.downloadMedia(!0,F.default.WEBC_RMR_REASON_CODE.MEDIA_VIEWER)}},{key:"componentWillUnmount",value:function(){this.props.msg.mediaObject&&this.props.msg.cancelDownload()}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=n.isGif,o=n.mediaStage===D.default.STAGE.RESOLVED||n.streamable&&n.isStreamable();if(o=o||a.isForcingRMR()){var c,r,l=A.default.t(1339);return!this.state.isFullscreenMode&&a&&a.interactiveAnnotations&&a.interactiveAnnotations.length>0&&(c=p.createElement(h.default,{annotations:a.interactiveAnnotations})),r=i?p.createElement("div",{className:O.default.mediaViewerImg,ref:(0,N.GetRef)("player",this)},p.createElement(K.default,{src:n.renderableUrl,onClick:this.stopPropagation,autoPlay:!0,loop:!0},l),c):p.createElement("div",{className:O.default.mediaViewerImg,onClick:this.stopPropagation},p.createElement(U.default,{ref:(0,N.GetRef)("player",this),msg:a,mediaData:n,startTime:this.props.startTime,onClose:this.props.onClose,onError:function(){},onFullscreenToggle:this.handleFullscreenToggle,autoPlay:!0,type:M.PLAYER_TYPE.MEDIA_VIEWER,overlays:c})),p.createElement(B.default,{type:"scaleDown",position:"relative",objectPosition:"relative",size:this.state.size,onObjectLoad:this.props.onLoad},r)}return p.createElement(g.default,{altText:null!==(e=a.caption)&&void 0!==e?e:"",mediaData:n})}}]),t}(p.PureComponent);J.CONCERNS={mediaData:["mediaStage","fullWidth","fullHeight","isGif","preview","renderableUrl","streamable"]},J.defaultProps={startTime:0};var $=function(e){function t(){return(0,c.default)(this,t),(0,l.default)(this,(0,d.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"player",get:function(){return this.getComponent().player}}]),t}((0,V.default)(J,J.CONCERNS)),ee=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).stopPropagation=function(e){e.stopPropagation()},a._renderAudioTag=function(e){return p.createElement(m.default,{url:e,className:G.default.mediaViewerAudio,onClick:a.stopPropagation,autoPlay:!0,controls:!0},A.default.t(214))},a._renderPlaceholder=function(){return p.createElement("div",{className:G.default.imageAudio,onClick:a.stopPropagation})},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.mediaData;return p.createElement(x.default,{mediaData:e,placeholderRenderer:this._renderPlaceholder},this._renderAudioTag)}}]),t}(p.PureComponent);ee.CONCERNS={mediaData:["mediaStage","renderableUrl"]};var te=(0,V.default)(ee,ee.CONCERNS)},biiiigbhdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g((0,p.unproxy)(e),t)};var o=i(a("dfadhaifh")),c=n(a("ddhijeejag")),r=a("dheeaichcj"),l=i(a("ccbgfecegc")),d=a("bgihjbde"),s=n(a("cajijabhgb")),u=i(a("bdjjabfecc")),f=a("babicefcfg"),p=a("cjfegjecaj"),h=a("dcjbdhhjge");function m(){var e=(0,o.default)(["models:chat:setSubject dropped"]);return m=function(){return e},e}function g(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)(),n=t.trim();if(!n)return Promise.reject(new s.ActionError);if(n===e.contact.name)return Promise.reject(new s.ActionError);var i=(0,f.sendSetGroupSubject)(e.id,n),o=e.contact.name,p=new r.ActionType(u.default.t(96)),b=i.then((function(){return new r.ActionType(u.default.t(95,{subject:n}),u.default.t(177),(function(){return g(e,o,a)}))})).catchType(d.ServerStatusCodeError,(function(e){if(e.status>=400)return new r.ActionType(u.default.t(94))})).catch((function(){return __LOG__(3)(m()),new r.ActionType(u.default.t(94),u.default.t(173),(function(){return g(e,n,a)}))}));return l.default.openToast(c.createElement(r.ActionToast,{id:a,initialAction:p,pendingAction:b})),i.then((function(t){if(!t._duplicate){var a={name:n};return(0,h.updateLocal)(e.contact.id,a).then((function(){e.contact.set(a)}))}})).catchType(d.ServerStatusCodeError,(function(){}))}},bjdbcehgha:function(e,t){e.exports={header:"_39v5W",icon:"_3e2TN"}},bjfdejcecg:function(e,t){e.exports={body:"_1TM40",avatar:"_2Ixxw",description:"_24nYt",nameSecondary:"_1005i",chevron:"U1VSS",iconSearch:"_3lS1C"}},cajgbiifbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("bgfcjjddjf")),p=i(a("bfdjaabbje")),h=i(a("ejegihaeh")),m=i(a("deccgghbae")),g=i(a("dbdfbgehgj")),b=i(a("ccbgfecegc")),v=i(a("cebjjhdbec")),j=i(a("bbfjdcedab")),E=i(a("degcgieda")),M=n(a("hhcjfgifh")),C=i(a("dahagdijgh")),y=i(a("gaeccibgi")),_=i(a("bjheffjbgd")),S=i(a("cciafahdib")),k=n(a("bjjhgjdbhd")),P=i(a("ddeefhbafc")),T=i(a("gfebgebbi")),N=i(a("ddbhiaeibf")),I=i(a("dbfjeecgih")),A=i(a("bhbdiadfhj")),D=i(a("jheedhagg")),R=a("dfhgeaeig"),O=i(a("chhebaafhb")),w=i(a("bdjjabfecc")),L=i(a("cbedabhaa")),x=i(a("ebddggeaib")),G=i(a("dbbhcaicgf")),F=i(a("cdicaaigga")),U=i(a("bdcchebfge")),B=i(a("bdaddecbdh")),W=i(a("gjbhafcjg")),V=i(a("dcbcigbda")),H=i(a("biibicegh")),q=i(a("dhccahhefj")),Y=i(a("cbjebbghea")),z=a("cbhhehcjbb"),K=a("dcbafbaejf"),Z=i(a("dcdbbhicce")),X=i(a("dadjidbecc")),Q=i(a("dgdcjccfdi")),J=i(a("dhhjhedjij")),$=i(a("bcagigidbd")),ee=i(a("djbfhebjhe")),te=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,r.default)(this,(0,l.default)(t).call(this,e))).flatListController=new I.default,a.ProductCatalogSession=new H.default,a._init=function(){A.default.supportsFeature(A.default.F.QUERY_IDENTITY)&&!A.default.supportsFeature(A.default.F.MD_BACKEND)&&(0,R.queryIdentity)(a.props.contact)},a.onBlocklistChange=function(){a.state.contactIsBlocked!==!!f.default.get(a.props.contact.id)&&a.setState({contactIsBlocked:!!f.default.get(a.props.contact.id)})},a.onDeleteChat=function(){var e=g.default.assertGet(a.props.contact.id);b.default.deleteOrExitChat(e)},a.onBlockContact=function(){var e=s.createElement(W.default,{contact:a.props.contact});b.default.openModal(s.createElement(j.default,{onOK:a.blockContact,okText:w.default.t(245),onCancel:function(){return b.default.closeModal()},cancelText:w.default.t(1436)},s.createElement(L.default,{id:246,params:{contact:e}})))},a.onReportSpam=function(){b.default.openModal(s.createElement(Y.default,{isBusiness:a.props.contact.isBusiness,isGroupChat:!1,onReport:a.reportSpam,onReportBlockClear:a.reportSpamBlockClear,onCancel:function(){return b.default.closeModal()}}))},a.reportSpam=function(){var e=g.default.get(a.props.contact.id);e&&(0,K.sendSpamReport)(e),b.default.closeModal()},a.reportSpamBlockClear=function(){var e=g.default.get(a.props.contact.id);e&&(0,K.sendSpamBlockClear)(e),b.default.closeModal()},a.onUnblockContact=function(){var e=s.createElement(W.default,{contact:a.props.contact});b.default.openModal(s.createElement(j.default,{okText:w.default.t(1283),onOK:a.unblockContact,cancelText:w.default.t(1436),onCancel:function(){return b.default.closeModal()}},s.createElement(L.default,{id:1284,params:{contact:e}})))},a.blockContact=function(){(0,u.blockContact)(a.props.contact),b.default.closeModal()},a.unblockContact=function(){(0,u.unblockContact)(a.props.contact),b.default.closeModal()},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onViewPicture=function(e){if(a.canViewPicture){var t=e.target;b.default.openModalMedia(s.createElement(V.default,{contact:a.props.contact,profilePicThumb:a.props.contact.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(e){e(t)}}),{transition:"profile-viewer",uim:a.props.uim})}},a.onDetailImageLoad=function(){a.canViewPicture=!0},a.canViewPicture=!1,a.state={contactIsBlocked:!!f.default.get(e.contact.id)},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(f.default,"add remove reset sync",this.onBlocklistChange),this.props.listeners.uiIdle(this._init);var e=this.props.contact;e.businessProfile&&!e.businessProfile.stale&&e.businessCatalog&&h.default.findCarouselCatalog(e.id),A.default.supportsFeature(A.default.F.MD_BACKEND)}},{key:"shouldRenderCatalog",value:function(){var e=this.props.contact;return!!(e&&e.isBusiness&&e.businessProfile)&&!!e.businessCatalog}},{key:"renderProductCatalogSection",value:function(){if(!this.shouldRenderCatalog())return null;var e=this.props,t=e.contact,a=e.onProductCatalog,n=e.onProductDetail,i=h.default.get(t.id);return i?s.createElement(m.default,{onProductDetail:n,onProductCatalog:a,catalog:i,sessionId:this.ProductCatalogSession.toString(),entryPoint:U.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE}):null}},{key:"render",value:function(){var e,t=this.props.contact,a=s.createElement(v.default,{contact:this.props.contact,onClose:this.onClose,flatListController:this.flatListController}),n=g.default.get(t.id);n&&(e=s.createElement(P.default,null,s.createElement(S.default,{a8nText:"li-delete-chat",icon:s.createElement(Q.default,{name:"delete"}),color:"danger",onClick:this.onDeleteChat},w.default.t(471))));var i=null;i=this.state.contactIsBlocked?s.createElement(P.default,null,s.createElement(S.default,{a8nText:"li-unblock",color:"success",icon:s.createElement(Q.default,{name:"settings-blocked",directional:!0}),onClick:this.onUnblockContact},w.default.t(1283))):s.createElement(P.default,null,s.createElement(S.default,{a8nText:"li-block",icon:s.createElement(Q.default,{name:"settings-blocked",directional:!0}),onClick:this.onBlockContact},w.default.t(245)));var o=s.createElement(P.default,null,s.createElement(S.default,{a8nText:"li-report-spam",color:"danger",icon:s.createElement(Q.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},t.isBusiness?w.default.t(1109):w.default.t(1112))),c=null;if(this.props.onMediaGallery&&n){var r=this.props.onMediaGallery,l=s.createElement(Q.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0}),d=A.default.supportsFeature(A.default.F.LINK_DOC_GALLERY)?w.default.t(823):w.default.t(820);c=s.createElement(P.default,{a8nText:"section-media",title:d,titleOnClick:r,subtitle:l,theme:"padding"},s.createElement(F.default,{chat:n,mediaMsgs:n.getMediaMsgs()}))}var u=null;A.default.supportsFeature(A.default.F.LIVE_LOCATIONS)&&n&&(u=s.createElement(G.default,{chat:n,onClick:this.props.onLiveLocation}));var f=this.renderProductCatalogSection(),h=n&&n.mute.canMute()?s.createElement(B.default,{chat:n,mute:n.mute}):null,m=null;if(this.props.onStarred){var b=s.createElement(Q.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0});m=s.createElement(y.default,{a8nText:"block-starred-messages",side:b,onClick:this.props.onStarred,border:!0},s.createElement(J.default,{theme:"title"},w.default.t(398)))}var j=n&&n.shouldShowEphemeralSetting()?s.createElement(N.default,{onClick:this.props.onEphemeral,chat:n}):null,I=null,D=n&&n.getReceivedVcardMsgs();if(A.default.supportsFeature(A.default.F.INDEX_RECEIVED_VCARD)&&D&&D.length){var R=s.createElement(Q.default,{className:E.default.chevron,name:"chevron-right-alt",directional:!0});I=s.createElement(y.default,{a8nText:"block-contact-card",side:R,onClick:this.props.onContactCard},s.createElement(J.default,{theme:"title"},w.default.t(449,{_plural:D.length})))}var L=null;(h||m||j||I)&&(L=s.createElement(P.default,null,h,m,j,I,null));var x=s.createElement(y.default,{multiline:!0},s.createElement(J.default,{theme:"title"},s.createElement(X.default,{id:t.id}))),U=s.createElement(y.default,null,s.createElement(z.SelectableSpan,{dir:"auto",selectable:!0},s.createElement(J.default,{theme:"title"},(0,ee.default)(t.id)))),V=s.createElement(P.default,{a8nText:"section-about-and-phone-number"},s.createElement("div",{className:E.default.titleAbout},s.createElement(J.default,{theme:"section-title"},w.default.t(451))),x,U),H=n&&n.presence?s.createElement($.default,{contact:t,presence:n.presence,chatstate:n.presence.chatstate,location:"info"}):null,q=t.showBusinessVname&&A.default.supportsFeature(A.default.F.VNAME_V_2)?s.createElement("div",{className:E.default.businessVname},s.createElement(T.default,{text:t.verifiedName,direction:"auto"}),s.createElement("div",{className:E.default.icon},s.createElement(Q.default,{name:"psa-verified"}))):null,Y=t.isBusiness&&t.businessProfile?s.createElement(p.default,{contact:t,businessProfile:t.businessProfile}):null,K=!t.name&&t.notifyName?s.createElement("div",{className:E.default.nameSecondary},s.createElement(J.default,{theme:"muted"},s.createElement(T.default,{className:E.default.screenName,direction:"auto",text:t.notifyName}))):null;return s.createElement(C.default,{key:"contact-info-modal",theme:"striped"},s.createElement(k.default,{title:w.default.t(1447),type:k.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),s.createElement(_.default,{flatListControllers:[this.flatListController]},s.createElement("div",{className:E.default.body},s.createElement(P.default,{theme:"padding-large"},s.createElement("div",{className:E.default.avatar},s.createElement(M.default,{id:t.id,size:M.DETAIL_IMAGE_SIZE.LARGE,loader:!0,onLoad:this.onDetailImageLoad,onClick:this.onViewPicture,quality:M.DETAIL_IMAGE_QUALITY.HIGH})),s.createElement(J.default,{theme:"large"},s.createElement(W.default,{contact:t,selectable:!0,showBusinessCheckmark:!0})),K,s.createElement("div",{className:E.default.nameSecondary},s.createElement(J.default,{theme:"muted"},q),s.createElement(J.default,{theme:"muted"},H)),s.createElement(O.default,{labels:t.labels})),Y,u,f,c,L,V,null,a,i,o,e)))}}]),t}(s.Component);te.CONCERNS={contact:["id","formattedName","formattedUser","formattedShortName","isBusiness","commonGroups","businessProfile","showBusinessVname","verifiedName","name","notifyName","labels","businessCatalog"]};var ae=(0,D.default)((0,q.default)((0,x.default)((0,Z.default)(te,te.CONCERNS))));t.default=ae},cbgigghcji:function(e,t){e.exports={wrapper:"_3e8Gs"}},ccbjchaaad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bhfcfhafdj")),c=i(a("dfadhaifh")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("djecdhecha")),f=i(a("dbjagcfebh")),p=n(a("ddhijeejag")),h=i(a("effbcehec")),m=i(a("bgdcbcbibj")),g=i(a("baaafjdcde")),b=i(a("cefccdiabc")),v=i(a("dbdfbgehgj")),j=i(a("cfadcbbiie")),E=i(a("ccbgfecegc")),M=i(a("bbfjdcedab")),C=i(a("hgigjbgie")),y=i(a("dahagdijgh")),_=i(a("gaeccibgi")),S=i(a("bjheffjbgd")),k=i(a("cciafahdib")),P=n(a("bjjhgjdbhd")),T=i(a("ddeefhbafc")),N=i(a("dgebcfedgb")),I=i(a("baijfhbiei")),A=i(a("gfebgebbi")),D=i(a("ddbhiaeibf")),R=n(a("cajijabhgb")),O=n(a("bgheieccaj")),w=i(a("dbfjeecgih")),L=a("dgjddffcfg"),x=a("ddbdgibbbi"),G=i(a("bhbdiadfhj")),F=i(a("bjfdejcecg")),U=i(a("dfhcaiigfg")),B=i(a("jheedhagg")),W=a("gaifbabbj"),V=i(a("chhebaafhb")),H=i(a("bdjjabfecc")),q=n(a("dbcedfihd")),Y=i(a("ebddggeaib")),z=i(a("dbbhcaicgf")),K=i(a("cdicaaigga")),Z=a("cgjcdbggeb"),X=i(a("bdaddecbdh")),Q=i(a("dcccbfbehi")),J=i(a("hajhefagc")),$=i(a("cfcfdeifjb")),ee=a("bbbdgehigj"),te=i(a("dhccahhefj")),ae=i(a("cbjebbghea")),ne=i(a("efedbfchg")),ie=a("dcbafbaejf"),oe=i(a("bfgbdiffgd")),ce=a("hjbhabfd"),re=a("biiiigbhdf"),le=i(a("dcdbbhicce")),de=a("cjfegjecaj"),se=i(a("ebijbjhdie")),ue=i(a("dgdcjccfdi")),fe=i(a("dhhjhedjij")),pe=n(a("dbihaeaggd")),he=n(a("bjhgigfbec")),me=i(a("cgjdibiahi")),ge=i(a("dfciadajdf")),be=i(a("jccfhaecf"));function ve(){var e=(0,c.default)(["group_info_drawer:onSetDescription failed"]);return ve=function(){return e},e}function je(){var e=(0,c.default)(["group_info_drawer:onSetSubject failed"]);return je=function(){return e},e}function Ee(){var e=(0,c.default)(["GroupInfoDrawer: failed to set/delete group image"]);return Ee=function(){return e},e}var Me=(0,he.genId)("max_participant_toast"),Ce=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,d.default)(this,(0,s.default)(t).call(this,e))).participantFlatListController=new w.default,a.pendingParticipantFlatListController=new w.default,a.updateGroupDescOnModelChange=function(){a.props.groupMetadata&&a.setState({groupDesc:a.props.groupMetadata.desc})},a.onImageSet=function(e,t){var n=a.props.profilePicThumb;a.setState({pendingPhoto:!0}),(e&&t?(0,ee.setProfilePic)(n,e,t):(0,ee.deleteProfilePic)(n)).checkpoint(a.props.rejectOnUnmount()).catchType(R.Unmount,(function(){})).catchType(R.ActionError,(function(){__LOG__(3)(Ee()),a.setState({resetPhotoPicker:!a.state.resetPhotoPicker})})).finally((function(){a.setState({pendingPhoto:!1})}))},a.onParticipantClick=function(e,t){be.default.equals((0,x.getMaybeMeUser)(),t.id)||v.default.find(t.id).then((function(e){E.default.openChatFromUnread(e).then((function(t){t&&E.default.focusChatTextInput(e)}))}))},a.menuEnabled=function(e){var t=a.props.groupMetadata.participants,n=t.get(e.id);return!!n&&(t.canPromote(n)||t.canRemove(n)||t.canVerifyIdentity(n))},a.onDemoteAdmin=function(e){e.contact.pendingAction++,(0,Z.demoteParticipants)(a.props.chat,[e]).then((function(){e.contact.pendingAction--})),a.setState({contextMenu:null})},a.onParticipantMenu=function(e,t){var n=a.props.groupMetadata.participants,i=n.assertGet(t.id);if(a.menuEnabled(t)){var o=[];if(n.canPromote(i)){var c=a.confirmParticipantPromote.bind((0,u.default)(a),i);o.push(p.createElement(N.default,{a8n:"mi-grp-promote-admin",key:"promote",action:c},H.default.t(831)))}if(n.canRemove(i)){var r=a.confirmParticipantRemove.bind((0,u.default)(a),i);o.push(p.createElement(N.default,{a8n:"mi-grp-remove-participant",key:"remove",action:r},H.default.t(836)))}if(G.default.supportsFeature(G.default.F.GROUPS_V_3)&&n.canDemote(i)){var l=a.onDemoteAdmin.bind((0,u.default)(a),i);o.push(p.createElement(N.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:l},H.default.t(493)))}e.event&&e.event.persist(),a.setState({contextMenu:{contactId:t.id,menu:o,anchor:e.anchor,event:e.event}})}},a.closeContextMenu=function(){a.setState({contextMenu:null})},a.confirmParticipantRemove=function(e){var t=a.onParticipantRemove.bind((0,u.default)(a),e,!0),n=H.default.t(433,{participant:e.contact.formattedName,subject:a.props.contact.name});E.default.openModal(p.createElement(M.default,{onOK:t,okText:H.default.t(1100),onCancel:function(){return E.default.closeModal()},cancelText:H.default.t(1436)},p.createElement(A.default,{text:n})))},a.onParticipantRemove=function(e,t){e.contact.pendingAction++,(0,Z.removeParticipants)(a.props.chat,[e]).then((function(){e.contact.pendingAction--})),t&&E.default.closeModal()},a.confirmParticipantPromote=function(e){var t=a.onParticipantPromote.bind((0,u.default)(a),e,!0),n=H.default.t(432,{participant:e.contact.formattedName,subject:a.props.contact.name});E.default.openModal(p.createElement(M.default,{onOK:t,okText:H.default.t(831),onCancel:function(){return E.default.closeModal()},cancelText:H.default.t(1436)},p.createElement(A.default,{text:n})))},a.onParticipantPromote=function(e,t){e.contact.pendingAction++,(0,Z.promoteParticipants)(a.props.chat,[e]).then((function(){e.contact.pendingAction--})),t&&E.default.closeModal()},a.openAddGroupParticipantFlow=function(){var e=a.props.chat;if(a.props.groupMetadata.participants.length>=oe.default.maxParticipants){var t=H.default.t(69,{max:oe.default.maxParticipants});E.default.openToast(p.createElement(he.default,{msg:t,id:Me}))}else{var n=G.default.supportsFeature(G.default.F.GROUPS_V_3)?p.createElement(g.default,{chat:(0,de.unproxy)(e),pushTransition:"none",popTransition:"none"}):p.createElement(m.default,{chat:(0,de.unproxy)(e),pushTransition:"none",popTransition:"none"});E.default.openModal(n,{transition:"modal-flow"})}},a.openParticpantSearch=function(){E.default.openModal(p.createElement(U.default,{chat:(0,de.unproxy)(a.props.chat),onParticipantPromote:a.onParticipantPromote,onParticipantRemove:a.onParticipantRemove,onDemoteAdmin:a.onDemoteAdmin}),{transition:"modal-flow"})},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onExitOrDeleteGroup=function(){E.default.deleteOrExitChat(a.props.chat)},a.onSubjectChange=function(e){a.setState({name:e})},a.onGroupDescChange=function(e){a.setState({groupDesc:e})},a.validateSubject=function(e){return!(!e||!e.trim())},a.onSetSubjectError=function(){E.default.openModal(p.createElement(M.default,{onOK:function(){return E.default.closeModal()},okText:H.default.t(1588)},H.default.t(97)))},a.onSetSubject=function(){var e=a.props.chat;if(a.props.groupMetadata.canSetSubject()){var t=(0,L.emojify)(a.state.name||"");if(t===a.props.contact.name)return a.setState({name:t});a.setState({pendingSubject:!0}),(0,re.setGroupSubject)(e,t).then((function(){a.setState({name:a.props.contact.name,pendingSubject:!1})})).catchType(R.Unmount,(function(){})).catch((function(){__LOG__(3)(je()),a.setState({name:a.props.contact.name,pendingSubject:!1})}))}},a.onSetDescription=function(){var e=a.props,t=e.chat,n=e.groupMetadata;if(n.canSetDescription()){var i=a.state.groupDesc||"",o=i.match(/\r\n/gm)?"\r\n":"\n",c=new RegExp("^(".concat(o,"{2,})([^\n])"),"gm");i=i.replace(c,"".concat(o,"$2"));var r=(0,L.emojify)(i||"");if(r===n.desc)return a.setState({groupDesc:r});a.setState({pendingDesc:!0}),(0,ce.setGroupDesc)(t,r).then((function(){a.setState({groupDesc:n.desc,pendingDesc:!1})})).catchType(R.Unmount,(function(){})).catch((function(){__LOG__(3)(ve()),a.setState({groupDesc:a.props.groupMetadata.desc,pendingDesc:!1})}))}},a.onCancelSubject=function(){a.setState({name:a.props.contact.name})},a.onCancelDesc=function(){a.setState({groupDesc:a.props.groupMetadata.desc})},a.showSecurityInfoPopup=function(){E.default.openModal(p.createElement(I.default,{chat:a.props.chat,chatId:a.props.chat.id,e2eSubtype:"info_encrypted"}))},a.onShowMore=function(){a.setState({participantListCollapsed:!1})},a.onShowMorePendingParticipants=function(){a.setState({pendingParticipantListCollapsed:!1})},a.renderItem=function(e){var t=e.id,n=a.props.groupMetadata.participants.get(t);if(!n)throw new O.UnknownDataError(e);var i=n.contact,o=!!a.state.contextMenu&&be.default.equals(i.id,a.state.contextMenu.contactId);return p.createElement(Q.default,{contact:i,participant:n,key:n.id.toString(),onClick:a.onParticipantClick,contextEnabled:a.menuEnabled.bind((0,u.default)(a),i),contextMenu:o,onContext:function(e){return a.onParticipantMenu(e,i)},showNotifyName:!0,waitIdle:!0})},a.onReportSpam=function(){E.default.openModal(p.createElement(ae.default,{isGroupChat:!0,onReport:a.reportSpam,onReportExitClear:a.reportSpamExitClear,onCancel:function(){return E.default.closeModal()}}))},a.reportSpam=function(){(0,ie.sendSpamReport)(a.props.chat),E.default.closeModal()},a.reportSpamExitClear=function(){(0,ie.sendSpamExitClear)(a.props.chat),E.default.closeModal()},a.onDescriptionReadMore=function(){a.setState({descTruncated:!1})},a.showEditRestrictionInfo=function(){E.default.openModal(p.createElement(M.default,{onOK:function(){return E.default.closeModal()},okText:H.default.t(1588)},H.default.t(1027)))},a.revokeGrpV4Invite=function(e){E.default.openModal(p.createElement(M.default,{onOK:function(){E.default.closeModal(),a.props.groupMetadata.revokeGroupV4AddInvite([e.id.toString()]).then((function(){E.default.openToast(p.createElement(he.default,{msg:H.default.t(1556),id:(0,he.genId)()}))}))},okText:H.default.t(1649),onCancel:function(){return E.default.closeModal()},cancelText:H.default.t(1436)},p.createElement(A.default,{text:H.default.t(696,{participant:e.contact.formattedName})})))},a.renderPendingParticipantItem=function(e){var t=e.id,n=a.props.groupMetadata.pendingParticipants.get(t);if(!n)throw new O.UnknownDataError(e);var i=n.contact;return p.createElement(Q.default,{contact:i,participant:n,key:n.id.toString(),contextEnabled:function(){return!0},contextMenu:!0,onContext:function(e){return a.onPendingParticipantMenu(e,i)},showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0})},a.onPendingParticipantMenu=function(e,t){var n=a.props.groupMetadata.pendingParticipants.assertGet(t.id),i=[p.createElement(N.default,{a8n:"mi-grp-promote-admin",key:"promote",action:a.revokeGrpV4Invite.bind((0,u.default)(a),n)},H.default.t(1147))];e.event&&e.event.persist(),a.setState({contextMenu:{contactId:t.id,menu:i,anchor:e.anchor,event:e.event}})};var n=a.props,i=n.groupMetadata,o=i.desc,c=i.participants,l=i.pendingParticipants,f=n.showFullGroupDescription;return a.state={pendingSubject:!1,pendingDesc:!1,pendingPhoto:!1,contextMenu:null,name:e.contact.name,groupDesc:o,descTruncated:!f&&!!(o&&o.length>30),participantListCollapsed:c.length>C.default.INFO_DRAWER_MAX_ROWS,pendingParticipantListCollapsed:l.length>C.default.INFO_DRAWER_MAX_ROWS,resetPhotoPicker:!1},a}return(0,f.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.groupMetadata;G.default.supportsFeature(G.default.F.GROUPS_V_4_JOIN_PERMISSION)&&t.queryGroupV4PendingInvite(),this.props.listeners.add(t.participants,"add remove reset sort change:isAdmin change:isSuperAdmin",(function(){e.forceUpdate()})),this.props.listeners.add(t.pendingParticipants,"add remove reset",(function(){e.forceUpdate()})),this.props.listeners.add(t,"change:desc",(function(){e.updateGroupDescOnModelChange()})),this.ensureParticipantsSorted()}},{key:"componentDidUpdate",value:function(){this.ensureParticipantsSorted()}},{key:"ensureParticipantsSorted",value:function(){this.props.groupMetadata.participants.ensureSorted(),this.props.groupMetadata.pendingParticipants.ensureSorted()}},{key:"getData",value:function(){var e,t=[],a=[],n=this.props.groupMetadata.participants;n.forEach((function(n){n.contact.isMe?e=n:n.isAdmin?t.push(n):a.push(n)}));var i=[];return e&&i.push(e),i=i.concat(t,a),n.length>C.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed&&(i=i.slice(0,C.default.INFO_DRAWER_MAX_ROWS)),i.map((function(e){return{itemKey:e.id.toString(),id:e.id}}))}},{key:"getPendingParticipantListData",value:function(){var e=this.props.groupMetadata.pendingParticipants.toArray(),t=(0,o.default)(e);return e.length>C.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed&&(t=t.slice(0,C.default.INFO_DRAWER_MAX_ROWS)),t.map((function(e){return{itemKey:e.id.toString(),id:e.id}}))}},{key:"getTitle",value:function(){return G.default.supportsFeature(G.default.F.LINK_DOC_GALLERY)?oe.default.productMediaAttachments?H.default.t(824):H.default.t(823):H.default.t(820)}},{key:"render",value:function(){var e,t,a,n,i,o,c,r=this.props.chat,l=this.props.groupMetadata,d=p.createElement(T.default,null,p.createElement(k.default,{a8nText:"li-delete-group",icon:p.createElement(ue.default,{name:"exit",directional:!0}),theme:"list-aligned",color:"danger",onClick:this.onExitOrDeleteGroup},r.isReadOnly?H.default.t(1475):H.default.t(1482)));if(r.isReadOnly||(e=p.createElement(T.default,null,p.createElement(k.default,{a8nText:"li-report-spam",theme:"list-aligned",color:"danger",icon:p.createElement(ue.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},H.default.t(1115)))),l.participants.canAdd()&&!l.support){var s=p.createElement(ne.default,null,p.createElement(ue.default,{name:"add-user",directional:!0}));t=p.createElement(b.default,{image:s,theme:"drawer-list",primary:H.default.t(1744),onClick:this.openAddGroupParticipantFlow})}if(l.participants.iAmAdmin()&&this.props.onGroupInviteLink&&!l.support){var u=p.createElement(ne.default,null,p.createElement(ue.default,{name:"link"}));a=p.createElement(b.default,{image:u,theme:"drawer-list",primary:H.default.t(655),onClick:this.props.onGroupInviteLink})}if(l.participants.length>C.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed){var f=l.participants.length-C.default.INFO_DRAWER_MAX_ROWS,m=p.createElement(ne.default,{theme:"transparent"},p.createElement(ue.default,{name:"down"}));n=p.createElement(b.default,{image:m,theme:"drawer-list",primary:H.default.t(684,{count:f,_plural:f}),onClick:this.onShowMore})}if(l.pendingParticipants.length>C.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed){var g=l.pendingParticipants.length-C.default.INFO_DRAWER_MAX_ROWS,v=p.createElement(ne.default,{theme:"transparent"},p.createElement(ue.default,{name:"down"}));i=p.createElement(b.default,{image:v,theme:"drawer-list",primary:H.default.t(684,{count:g,_plural:g}),onClick:this.onShowMorePendingParticipants})}if(l.pendingParticipants.length>0&&(o=p.createElement(O.default,{flatListController:this.pendingParticipantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getPendingParticipantListData(),renderItem:this.renderPendingParticipantItem})),l.participants.iAmAdmin()&&G.default.supportsFeature(G.default.F.GROUPS_V_3)&&!l.support){var E=p.createElement(ue.default,{className:F.default.chevron,name:"chevron-right-alt",directional:!0});c=p.createElement(_.default,{onClick:this.props.onAdminSetting,side:E},p.createElement(fe.default,{theme:"title"},H.default.t(682)))}var M,N=p.createElement(ue.default,{name:"search",className:F.default.iconSearch}),I=l.participants.length?p.createElement(T.default,{a8nText:"section-participants",title:H.default.t(1590,{count:l.participants.length,_plural:l.participants.length}),titleOnClick:G.default.supportsFeature(G.default.F.GROUPS_V_3)?this.openParticpantSearch:void 0,subtitle:G.default.supportsFeature(G.default.F.GROUPS_V_3)?N:void 0},t,a,p.createElement(O.default,{flatListController:this.participantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),n):null;l.participants.iAmAdmin()&&l.pendingParticipants.length>0&&(M=p.createElement(T.default,{a8nText:"section-participants",title:H.default.t(688,{number:l.pendingParticipants.length})},o,i));var A=null;if(this.props.onMediaGallery){var R=this.props.onMediaGallery,w=p.createElement(ue.default,{className:F.default.chevron,name:"chevron-right-alt",directional:!0}),L=this.getTitle();A=p.createElement(T.default,{a8nText:"section-media",title:L,titleOnClick:R,subtitle:w,theme:"padding"},p.createElement(K.default,{chat:(0,de.unproxy)(r),mediaMsgs:r.getMediaMsgs()}))}var x=this.props.contact.profilePicThumb,U=$.default.GROUP,B=r.isReadOnly||!x.canDelete()&&!x.canSet()||r.isSupportGroup(),Y=p.createElement("div",{className:F.default.avatar},p.createElement(J.default,{key:String(this.state.resetPhotoPicker),type:U,id:this.props.contact.id,attachToChat:!0,pending:this.state.pendingPhoto,startImage:this.props.profilePicThumb.imgFull,readOnly:B,onImageSet:this.onImageSet})),Z=null;this.props.groupMetadata.creation&&(Z=p.createElement("div",{"data-a8n":h.default.key("group-created-time"),className:F.default.nameSecondary},p.createElement(fe.default,{theme:"muted"},j.default.createdStr(this.props.groupMetadata.creation))));var Q=null;G.default.supportsFeature(G.default.F.LIVE_LOCATIONS)&&(Q=p.createElement(z.default,{chat:r,onClick:this.props.onLiveLocation}));var ee=r&&r.shouldShowEphemeralSetting()?p.createElement(D.default,{onClick:this.props.onEphemeral,chat:r,groupMetadata:l}):null,te=null;this.props.chat.isSupportGroup()&&(te=p.createElement(se.default,{onClick:this.showSecurityInfoPopup}));var ae,ie=r.mute.canMute()?p.createElement(X.default,{chat:r,mute:r.mute}):null,ce=null;if(this.props.onStarred){var re=p.createElement(ue.default,{className:F.default.chevron,name:"chevron-right-alt",directional:!0});ce=p.createElement(_.default,{side:re,onClick:this.props.onStarred},p.createElement(fe.default,{theme:"title"},H.default.t(398)))}this.state.contextMenu&&(ae=p.createElement(me.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},p.createElement(ge.default,{contextMenu:this.state.contextMenu})));var le,he=null;if((ie||ce||te||ee)&&(he=p.createElement(T.default,null,ie,ce,ee,te,c)),G.default.supportsFeature(G.default.F.GROUPS_V_3)&&oe.default.groupDescLength>0){var be=this.state.groupDesc||"",ve={textLimit:this.state.descTruncated?C.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:1/0,readMoreText:H.default.t(1098),onReadMore:this.onDescriptionReadMore,formatters:this.props.chat.isTrusted()?W.Configuration.TrustedGroupDesc({links:q.findLinks(be)}):W.Configuration.UntrustedGroupDesc()};le=p.createElement(T.default,{theme:"group-desc-padding",title:H.default.t(642)},p.createElement("div",{className:F.default.description},p.createElement(pe.default,{a8n:"group-info-drawer-description-title-input",value:be,emptyValuePlaceholder:H.default.t(186),renderEmojiTextInLockMode:ve,editable:l.canSetDescription(),pending:this.state.pendingDesc,showRemaining:!0,maxLength:oe.default.groupDescLength,onChange:this.onGroupDescChange,onSave:this.onSetDescription,onCancel:this.onCancelDesc,multiline:!0,editRestrictionInfo:l.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:[pe.TextInputCustomStyleThemes.groupInfoName],theme:"small"})))}return p.createElement(y.default,{key:"contact-info-modal",theme:"striped"},p.createElement(P.default,{title:H.default.t(1512),type:P.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),p.createElement(S.default,{flatListControllers:[this.pendingParticipantFlatListController,this.participantFlatListController]},p.createElement("div",{className:F.default.body},p.createElement(T.default,{theme:"padding-large"},Y,p.createElement(pe.default,{a8n:"group-info-drawer-subject-input",value:this.state.name||"",editable:l.canSetSubject(),pending:this.state.pendingSubject,showRemaining:!0,validate:this.validateSubject,maxLength:oe.default.maxSubject,onChange:this.onSubjectChange,onSave:this.onSetSubject,onError:this.onSetSubjectError,onCancel:this.onCancelSubject,editRestrictionInfo:l.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,theme:"large",customStyleThemes:[pe.TextInputCustomStyleThemes.groupInfoName]}),Z,p.createElement(V.default,{labels:r.labels})),le,Q,A,he,null,I,M,d,e)),ae)}}]),t}(p.Component);Ce.CONCERNS={chat:["isReadOnly","mute","id","pendingAction","liveLocation","labels"],groupMetadata:["desc","participants","pendingParticipants","creation","restrict","announce","support"],contact:["name","id","profilePicThumb","pendingAction"],profilePicThumb:["imgFull"]};var ye=(0,B.default)((0,te.default)((0,Y.default)((0,le.default)(Ce,Ce.CONCERNS))));t.default=ye},ccdaifjgfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),c=i(a("dagbcgeifg")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),p=i(a("bdjjabfecc")),h=i(a("ebddggeaib")),m=i(a("bdjgdghiah")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._setGallery=function(e){a._gallery=e},a._queryCollection=function(e,t){var n=a.props,i=n.productMsgs,o=n.chat;a.props.listeners.uiIdle((function(){i.queryProducts(o,t)}))},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.productMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()}))}},{key:"render",value:function(){var e=this.props,t=e.productMsgs,a=(e.listeners,(0,c.default)(e,["productMsgs","listeners"]));return f.createElement(m.default,(0,o.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasProductBefore,queryBefore:t.hasProductBefore?Promise.resolve():null,emptyText:p.default.t(1008)},a))}}]),t}(f.Component),b=(0,h.default)(g);t.default=b},ccecagejgj:function(e,t){e.exports={multimediaGallery:"_3Ur5f",column:"_1kTz2",menuItem:"_3wNld",active:"Zwyfn",menuTabsLists:"_2XAo8",threeTabs:"_3Jrk1",fourTabs:"R2yzJ"}},ccfihccafi:function(e,t){e.exports={label:"_3gJVb",input:"_1ozQh"}},ccigicfdgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("hhegggegb")),p=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=n(a("cajijabhgb")),b=i(a("ebddggeaib")),v=i(a("dcjigehfeb")),j=(i(a("cdhfigedae")),i(a("bhfbajceed"))),E=i(a("gifabeaga")),M=i(a("bdcchebfge")),C=i(a("cahfddcdga")),y=i(a("dhccahhefj")),_=i(a("bcifhbgija"));function S(){var e=(0,o.default)(["query media msgs error: "]);return S=function(){return e},e}function k(){var e=(0,o.default)(["query media msgs error: "]);return k=function(){return e},e}var P=function(e){function t(e){var a;(0,c.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).onKeyDown=function(e){37===e.keyCode?a.onPrev():39===e.keyCode&&a.onNext()},a.onImageLoad=function(){var e=(0,s.default)(a).uiActionEvent;e&&(e.markUiActionT(),e.commit(),delete a.uiActionEvent)},a.onScroll=function(e){a.handleScroll(e.currentTarget,a.mediaMsgs,e.currentTarget.scrollLeft,a.props.listeners)},a.onNext=function(e){if(e&&e.stopPropagation(),!a.state.imgZoomed){var t=a.state.activeMsg;if(t){var n=a.mediaMsgs.getAfter(t);n?a.onSelectThumb(n):a.mediaMsgs.hasMediaAfter&&(a._queryMediaAfter||(a._queryMediaAfter=a.mediaMsgs.queryMedia(t.chat,t,"after").checkpoint(a.props.rejectOnUnmount()).then((function(e){"number"==typeof e.length&&e.length>0&&a.state.activeMsg===t&&a.onNext()})).catchType(g.Unmount,(function(){})).catch((function(){__LOG__(3)(k())})).finally((function(){a._queryMediaAfter=null}))))}}},a.onPrev=function(e){if(e&&e.stopPropagation(),!a.state.imgZoomed){var t=a.state.activeMsg;if(t){var n=a.mediaMsgs.getBefore(t);n?a.onSelectThumb(n):a.mediaMsgs.hasMediaBefore&&(a._queryMediaBefore||(a._queryMediaBefore=a.mediaMsgs.queryMedia(t.chat,t,"before").checkpoint(a.props.rejectOnUnmount()).then((function(e){"number"==typeof e.length&&e.length>0&&a.state.activeMsg===t&&a.onPrev()})).catchType(g.Unmount,(function(){})).catch((function(){__LOG__(3)(S())})).finally((function(){a._queryMediaBefore=null}))))}}},a.onImgZoomIn=function(e){a.setState({imgZoomed:e})},a.endFlow=function(){h.default.closeModalMedia()},a.willEndFlow=function(){var e;(e=a.refThumbsContainer)&&(0,_.default)(e,{opacity:[0,1],translateY:["100%","0%"]},{duration:300,easing:[.1,.82,.25,1]})},a.onSelectThumb=function(e){a.props.listeners.uiIdle((function(){a.mediaMsgs.loadMoreAroundIfNeeded(e)})),a.setState({activeMsg:e})},a.scrollToActive=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=a.refThumbsContainer,n=a.refThumbs,i=a.refActiveThumb;if(t&&n&&i){var o=0;i instanceof HTMLElement&&(o=i.clientWidth/2-t.clientWidth/2),(0,_.default)(n,"stop");var c=0;e&&(c=300),(0,_.default)(i,"scroll",{duration:c,container:n,offset:o,axis:"x",easing:[.1,.82,.25,1]})}},a.setRefActiveThumb=function(e){a.refActiveThumb=e},a.setRefThumbsContainer=function(e){a.refThumbsContainer=e},a.setRefThumbs=function(e){a.refThumbs=e},a.getActiveMsgIndexInAlbum=function(){var e=-1,t=a.props.highlightedMsgIds;if(!t||!a.state.activeMsg)return e;var n=a.state.activeMsg.id.toString();if(!t.has(n))return e;var i=0;return t.forEach((function(t){t===n&&(e=i),i++})),e},a.zoomIn=!0,a.prevScrollWidth=null;var n=a.props.msg;return a.mediaMsgs=n.chat.constructMediaMsgs(n),a.handleScroll=(0,f.default)(a._handleScroll.bind((0,s.default)(a)),100),n.type===m.default.MSG_TYPE.IMAGE&&(a.uiActionEvent=new M.default.UiAction({uiActionType:M.default.UI_ACTION_TYPE.IMAGE_OPEN,uiActionPreloaded:n.mediaData.mediaStage===v.default.STAGE.RESOLVED})),a.state={activeMsg:n,imgZoomed:!1},a}return(0,u.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;this.props.listeners.add(window,"keydown",this.onKeyDown),this.zoomIn=!1,this.addListeners.bind(this)(this.props.listeners,this.mediaMsgs,(function(){return t.state.activeMsg}),this.onSelectThumb,this.endFlow),this.props.listeners.add(this.mediaMsgs,"query_media_before",(function(){var e=t.refThumbs;e&&(t.prevScrollWidth=e.scrollWidth,e instanceof HTMLElement&&t.forceUpdate())})),this.scrollToActive(),(e=this.refThumbsContainer)&&(0,_.default)(e,{opacity:[1,0],translateY:["0%","100%"]},{duration:300,delay:100,easing:[.1,.82,.25,1]})}},{key:"addListeners",value:function(e,t,a,n,i){var o=this;e.uiIdle((function(){var e=a();e&&t.loadMoreAroundIfNeeded(e)})),e.add(t,"remove",(function(e,c,r){var l=a();if(t.includes(e)||null!=l&&null!=l.id&&l.id.toString()!==e.id.toString())o.forceUpdate();else{var d=r.index;0===t.length?i():t.length===d?n(t.at(d-1)):n(t.at(d))}})),e.add(t,"reset",(function(){i()})),e.add(t,"query_media_after",(function(){o.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"componentDidUpdate",value:function(e,t){if(t.activeMsg!==this.state.activeMsg)this.scrollToActive(!0);else{var a=this.refThumbs;if(!a||null==this.prevScrollWidth||0===this.prevScrollWidth)return;a instanceof HTMLElement&&(a.scrollLeft+=a.scrollWidth-this.prevScrollWidth),this.prevScrollWidth=null}}},{key:"_handleScroll",value:function(e,t,a,n){var i=this;if(0!==t.length&&null!=a){if(t.hasMediaBefore&&a<e.clientWidth){var o=(0,C.default)(t.head(),"mediaMsgs.head()");n.uiIdle((function(){t.queryMedia(o.chat,o),i.forceUpdate()}))}if(t.hasMediaAfter&&a+m.default.SCROLL_FUDGE>e.scrollWidth-2*e.clientWidth){var c=(0,C.default)(t.last(),"mediaMsgs.last()");n.uiIdle((function(){t.queryMedia(c.chat,c,"after"),i.forceUpdate()}))}}}},{key:"render",value:function(){var e,t=this.state.activeMsg;if(!t)return null;var a=this.mediaMsgs.last(),n=this.mediaMsgs.hasMediaAfter||this.state.activeMsg!==a?this.onNext:null,i=this.mediaMsgs.head(),o=this.mediaMsgs.hasMediaBefore||this.state.activeMsg!==i?this.onPrev:null;return p.createElement("div",{className:this.state.imgZoomed?"img-zoomed-in":null},p.createElement(E.default,{activeMsg:t,mediaMsgs:this.mediaMsgs,highlightedMsgIds:this.props.highlightedMsgIds,onSelectThumb:this.onSelectThumb,onSetActiveThumb:this.setRefActiveThumb,onScroll:this.onScroll,setRefThumbsContainer:this.setRefThumbsContainer,setRefThumbs:this.setRefThumbs}),p.createElement(j.default,{msg:t,mediaData:t.mediaData,onBack:this.endFlow,onExitAnimation:this.willEndFlow,onNext:n,onPrev:o,onImgZoomIn:this.onImgZoomIn,getZoomNode:this.props.getZoomNode,startTime:this.props.startTime,zoomIn:this.zoomIn,onImageLoad:this.uiActionEvent?this.onImageLoad:null,msgIndexInAlbum:this.getActiveMsgIndexInAlbum(),albumSize:(null===(e=this.props.highlightedMsgIds)||void 0===e?void 0:e.size)||0}))}}]),t}(p.Component),T=(0,y.default)((0,b.default)(P));t.default=T},cddegcdhjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TABS=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("cehcfaibji")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),p=a("dheeaichcj"),h=i(a("dgjaedef")),m=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("bhbdiadfhj")),j=i(a("bdjjabfecc")),E=i(a("cdfhcjheib")),M=i(a("cdicaaigga")),C=i(a("ccecagejgj")),y=i(a("cfccjacgje")),_=i(a("dceicchccd")),S=i(a("ccdaifjgfd")),k=i(a("bfgbdiffgd")),P=i(a("cgjdibiahi")),T=i(a("didfdhbecg")),N={MEDIA:"media",DOCS:"docs",LINKS:"links",PRODUCTS:"products"};t.TABS=N;var I=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,r.default)(this,(0,l.default)(t).apply(this,arguments))).state={selected:e.props.initialTab,direction:null,selectable:!1},e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,a){e.onSelectMessages(),e.selectedMessages.setVal(t,a),0===e.selectedMessages.getSelected().length&&e.onCancelSelection()},e.selectedMessages=new _.default([],(function(e){return e.id.toString()})),e}return(0,d.default)(t,e),(0,c.default)(t,[{key:"onSelectTab",value:function(e){var t=(0,s.default)(N).indexOf(this.state.selected),a=(0,s.default)(N).indexOf(e);t!==a&&this.selectedMessages.unsetAll();var n=a>t?"right":"left";this.setState({selected:e,direction:n,selectable:!1})}},{key:"getTabs",value:function(){var e=this;if(!v.default.supportsFeature(v.default.F.LINK_DOC_GALLERY))return null;var t=[{tab:N.MEDIA,title:j.default.t(820)},{tab:N.DOCS,title:j.default.t(494)},{tab:N.LINKS,title:j.default.t(764)}];k.default.productMediaAttachments&&t.push({tab:N.PRODUCTS,title:j.default.t(1090)});var a=t.map((function(t){var a=(0,u.default)(C.default.menuItem,{[C.default.active]:e.state.selected===t.tab});return f.createElement("button",{className:a,onClick:e.onSelectTab.bind(e,t.tab),key:t.tab,title:t.title},t.title)})),n=(0,u.default)(C.default.menuTabsLists,k.default.productMediaAttachments?C.default.fourTabs:C.default.threeTabs);return f.createElement("div",{className:n,"data-active-tab":this.state.selected},a)}},{key:"getContent",value:function(){var e,t=this.props.chat;if(!v.default.supportsFeature(v.default.F.LINK_DOC_GALLERY))return f.createElement(M.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});switch(this.state.selected){case N.MEDIA:e=f.createElement(M.default,{chat:t,mediaMsgs:t.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});break;case N.LINKS:e=f.createElement(E.default,{chat:t,linkMsgs:t.getLinkMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case N.DOCS:e=f.createElement(h.default,{chat:t,docMsgs:t.getDocMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case N.PRODUCTS:e=f.createElement(S.default,{chat:t,productMsgs:t.getProductMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,onProductDetail:this.props.onProductDetail,setScrollOffset:this.props.setProductsScrollOffset,scrollOffset:this.props.productsScrollOffset})}return e}},{key:"render",value:function(){var e=this.props.chat,t=this.getTabs(),a=this.getContent(),n=[N.MEDIA,N.DOCS].includes(this.state.selected),i=this.state.selectable?f.createElement(P.default,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},f.createElement(y.default,{chat:e,noSortOnForward:!0,theme:"mediaGallery",toastPosition:p.ToastPosition.RIGHT,downloadButton:n,selectedMessages:this.selectedMessages,onCancel:this.onCancelSelection})):null,o="right"===this.state.direction?"slide-forward":"slide-back",c=v.default.supportsFeature(v.default.F.LINK_DOC_GALLERY)?" ":j.default.t(820);return f.createElement(m.default,{theme:"gallery"},f.createElement(b.default,{title:c,onBack:this.props.onBack,type:b.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),i,t,f.createElement(g.default,{"data-list-scroll-container":!0},f.createElement(T.default,{transitionName:o,className:C.default.column},f.createElement("div",{className:C.default.multimediaGallery,key:this.state.selected},f.createElement("div",{className:C.default.column},a)))))}}]),t}(f.Component);t.default=I,I.defaultProps={initialTab:N.MEDIA,productsScrollOffset:0}},cdfhcjheib:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),c=i(a("dagbcgeifg")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),p=i(a("hgigjbgie")),h=i(a("bdjjabfecc")),m=i(a("chjbefaccc")),g=i(a("ebddggeaib")),b=i(a("bdjgdghiah")),v=i(a("ccadaajdfc")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._setGallery=function(e){a._gallery=e},a._onNewMsgs=function(e){if(e){var t=[],n=Array.isArray(e)?e:[e];Promise.all(n.map((function(e){return e.getLinks().length&&t.push(e),Promise.resolve()}))).then((function(){t.length&&a.props.linkMsgs.add(t)}))}},a._queryCollection=function(e,t){var n=a.props,i=n.linkMsgs,o=n.chat;a.props.listeners.uiIdle((function(){i.queryLinks(o,t)}))},a._renderLinks=function(e){var t=a.props,n=t.linkMsgs,i=t.selectedMessages,o=[];return n.forEach((function(t){var n=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach((function(c,r){c.href!==t.matchedText&&o.push(f.createElement(m.default,{key:"".concat(t.id.toString(),"-").concat(r),msg:t,link:c,displayAuthor:n,selectable:a.props.selectable,selectedMessages:i,onMessageSelect:a.props.onMessageSelect,onClickMsg:e}))})),t.linkPreview&&o.push(f.createElement(v.default,{key:t.id.toString(),msg:t,selectable:a.props.selectable,selectedMessages:i,onMessageSelect:a.props.onMessageSelect,displayType:p.default.DISP_TYPE.GALLERY,onClickMsg:e}))})),o.reverse(),o},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.linkMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.linkMsgs,"query_link_before",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.chat.msgs,"add bulk_add",this._onNewMsgs)}},{key:"render",value:function(){var e=this.props,t=e.linkMsgs,a=(e.listeners,(0,c.default)(e,["linkMsgs","listeners"]));return f.createElement(b.default,(0,o.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasLinkBefore,queryBefore:t.queryLinkBefore,renderElements:this._renderLinks,emptyText:h.default.t(1004)},a))}}]),t}(f.Component),E=(0,g.default)(j);t.default=E},cebjjhdbec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("cefccdiabc")),p=n(a("dighcbdehd")),h=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),g=i(a("ddeefhbafc")),b=a("hbhjdibhf"),v=i(a("bgheieccaj")),j=i(a("bdjjabfecc")),E=i(a("ebddggeaib")),M=i(a("efedbfchg")),C=i(a("dcdbbhicce")),y=i(a("dgdcjccfdi")),_=i(a("dhhjhedjij"));function S(){var e=(0,o.default)(["get from participants table failed"]);return S=function(){return e},e}var k=function(e){function t(){var e,a;(0,c.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,l.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(i)))).commonGroupInitialized=!1,a.state={collapsed:!1,numGroups:0},a.rerender=function(){a.forceUpdate()},a.onClick=function(e,t){h.default.openChatFromUnread(t).then((function(e){e&&h.default.focusChatTextInput(t)})),a.props.onClose()},a.onShowMore=function(){a.setState({collapsed:!1})},a.renderItem=function(e){var t=e.chat;return u.createElement(p.default,{chat:t,theme:"drawer-list",contact:t.contact,mode:p.Mode.INFO,onClick:a.onClick,key:t.id.toString()})},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.contact.commonGroups;e&&(this.props.listeners.add(e,"add remove",this.rerender),this.commonGroupInitialized=!0),(0,b.findCommonGroups)(this.props.contact).catch((function(){throw __LOG__(4,!0,new Error)(S()),SEND_LOGS("get from participants table failed when finding common groups"),new Error("get from participants table failed")}))}},{key:"componentDidUpdate",value:function(e){if(e.contact!==this.props.contact){var t=e.contact.commonGroups;t&&e.listeners.remove(t,"add remove",this.rerender),this.commonGroupInitialized=!1}var a=this.props.contact.commonGroups;a&&(this.commonGroupInitialized||(this.props.listeners.add(a,"add remove",this.rerender),this.commonGroupInitialized=!0))}},{key:"componentWillUnmount",value:function(){var e=this.props.contact.commonGroups;e&&this.commonGroupInitialized&&(this.props.listeners.remove(e,"add remove",this.rerender),this.commonGroupInitialized=!1)}},{key:"getData",value:function(){var e=this.props.contact.commonGroups;return e.length>m.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed&&(e=e.slice(0,m.default.INFO_DRAWER_MAX_ROWS)),e.map((function(e){return{itemKey:e.id.toString(),chat:e}}))}},{key:"render",value:function(){var e=this.props.contact.commonGroups;if(!e||!e.length)return null;var t,a=u.createElement(_.default,{theme:"section-title"},j.default.n(e.length));if(e.length>m.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed){var n=e.length-m.default.INFO_DRAWER_MAX_ROWS,i=u.createElement(M.default,{theme:"transparent"},u.createElement(y.default,{name:"down"}));t=u.createElement(f.default,{image:i,theme:"drawer-list",primary:j.default.t(684,{count:n,_plural:n}),onClick:this.onShowMore})}return u.createElement(g.default,{a8nText:"section-common-groups",title:j.default.t(1558),subtitle:a},u.createElement(v.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.contact.commonGroups,n=a?a.length:0;return t.numGroups<=m.default.INFO_DRAWER_MAX_ROWS&&n>m.default.INFO_DRAWER_MAX_ROWS?{numGroups:n,collapsed:!0}:{numGroups:n}}}]),t}(u.Component);k.CONCERNS={contact:["commonGroups"]};var P=(0,E.default)((0,C.default)(k,k.CONCERNS));t.default=P},ceefedchff:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(a("cajgbiifbe"))},cfacfggdai:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("bgcfdacged")),p=i(a("daghjjjedc")),h=i(a("ccbgfecegc")),m=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("bdjjabfecc")),j=i(a("dcdbbhicce")),E=i(a("dhhjhedjij")),M=n(a("bjhgigfbec")),C=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onUnarchiveSettingChange=function(){var e=a.props.chatPreference,t=!e.unarchiveChatOnNewMessages;e.set("unarchiveChatOnNewMessages",t),h.default.openToast(s.createElement(M.default,{msg:t?v.default.t(216):v.default.t(219),id:(0,M.genId)()}))},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return s.createElement(m.default,null,s.createElement(b.default,{title:v.default.t(202),type:b.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onClose}),s.createElement(g.default,null,s.createElement("div",{className:f.default.section},s.createElement("div",{"data-a8n":u.default.key("auto-unarchive-setting"),className:f.default.control},s.createElement(p.default,{onChange:this.onUnarchiveSettingChange,checked:this.props.chatPreference.unarchiveChatOnNewMessages})),s.createElement("div",{"data-a8n":u.default.key("auto-unarchive-setting-text")},v.default.t(218),s.createElement(E.default,{theme:"muted",block:!0},v.default.t(217))))))}}]),t}(s.Component);C.CONCERNS={chatPreference:["unarchiveChatOnNewMessages"]};var y=(0,j.default)(C,C.CONCERNS);t.default=y},cgbgfjffe:function(e,t){e.exports={thumbsContainer:"_1KWct",scrollContainer:"FF0y0",viewerThumbs:"_17IJR",mediaThumb:"_2lvnX",thumbPadding:"_2KJ76"}},chjbefaccc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("cifgdghbhg")),p=i(a("hgigjbgie")),h=i(a("gfebgebbi")),m=i(a("bfbfbjjgj")),g=a("gaifbabbj"),b=i(a("bdjjabfecc")),v=i(a("fdfjcdigh")),j=i(a("bcggadeggg")),E=i(a("ebddggeaib")),M=i(a("dhegibaccd")),C=i(a("dcdbbhicce")),y=i(a("dggfhciihi")),_=i(a("didfdhbecg")),S=a("ccbcihdfhg"),k=function(e){function t(e){var a;(0,o.default)(this,t),(a=(0,r.default)(this,(0,l.default)(t).call(this,e))).mouseOver=function(){a.state.hover||a.setState({hover:!0})},a.mouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onSelectChange=function(e){a.state.selected!==e&&a.setState({selected:e})},a.onSelectClick=function(e){e&&e.stopPropagation(),a.props.onMessageSelect(a.props.msg,!a.state.selected)},a.onClick=function(){a.props.onClickMsg(a.props.msg,!a.state.selected)};var n=e.msg,i=e.selectedMessages;return a.state={hover:!1,selected:i.isSelected(n)},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.link,n=e.displayAuthor,i=this.props.selectable||this.state.hover?u.createElement(M.default,{checked:this.state.selected,onClick:this.onSelectClick,msgTheme:"gallery"}):null,o=(t.isTrusted()?g.Configuration.TrustedConversation:g.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),c=t.body&&t.body.includes(a.url)?t.body:t.caption,r=n?u.createElement("div",{className:v.default.author},u.createElement(f.default,{msg:t,contact:t.senderObj})):null,l=t.getSuspiciousLinks().length>0;return u.createElement(m.default,{hover:this.state.hover,onClick:this.onClick,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},u.createElement("div",{className:v.default.msg},u.createElement(_.default,{transitionName:"delay-leave"},i),u.createElement(S.MessageContainer,{isSentByMe:t.isSentByMe},u.createElement("div",{className:(0,s.default)(v.default.bubble,{[v.default.hasAuthor]:n,[v.default.hasSuspiciousLinks]:l})},r,u.createElement(y.default,{link:a,displayType:p.default.DISP_TYPE.GALLERY}),u.createElement(j.default,{title:a.url,isSentByMe:t.isSentByMe,canonicalUrl:a.domain,displayType:p.default.DISP_TYPE.GALLERY,star:t.star}),u.createElement(h.default,{text:c,selectable:!0,className:v.default.text,dirMismatch:t.rtl!==b.default.isRTL(),direction:t.dir,formatters:o})))))}}]),t}(u.Component);k.CONCERNS={msg:["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData","isRevoked"]};var P=(0,E.default)((0,C.default)(k,k.CONCERNS));t.default=P},cijfgceaff:function(e,t){e.exports={header:"_1mqCo",chevronIcon:"BuoLn",ephemeralIcon:"_13Psw"}},daaiadbhjc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bagchhaeje")),f=i(a("bhehhaehi")),p=i(a("dgfjacgibh")),h=i(a("ceefedchff")),m=i(a("dfhahadejg")),g=i(a("bdeebiagii")),b=i(a("ccbjchaaad")),v=i(a("ecigjabbeb")),j=i(a("dadhjdjj")),E=a("cdfejjabfa"),M=a("ecceajhjba"),C=n(a("cddegcdhjb")),y=i(a("bhfadhddje")),_=i(a("ddajejfdfc")),S=i(a("bbecefbeaa")),k=i(a("dbdbehfcia")),P=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._scrollOffset=0,a._setScrollOffset=function(e){a._scrollOffset=e},a.onProductDetail=function(e,t){var n=a.props.chat,i=s.createElement(y.default,{chat:n,product:e,onEnd:a._end,onBack:a._popAndUpdate,refreshCarousel:!1,sessionId:t,onProductLinkClick:a._onProductLinkClick});a.push(i)},a._onProductLinkClick=function(e,t){a.push(s.createElement(_.default,{product:e,onBack:a._pop,sessionId:t}))},a._onCatalogLinkClick=function(e,t,n){a.push(s.createElement(f.default,{catalog:e,contact:t,sessionId:n,onBack:a._pop}))},a.onProductCatalog=function(e){var t=a.props.chat;(0,M.logCarouselViewMoreClick)(t.id.toString(),e);var n=s.createElement(S.default,{contact:t.contact,onProductDetail:a.onProductDetail,catalogId:t.id,onBack:a._pop,sessionId:e,businessProfile:t.contact.businessProfile,onCatalogLinkClick:a._onCatalogLinkClick});a.push(n)},a.onStarred=function(){var e=s.createElement(k.default,{chat:a.props.chat,starredMsgs:a.props.chat.getStarredMsgs(),onClose:a._pop});a.push(e)},a.onAdminSetting=function(){var e=a.props.chat,t=s.createElement(j.default,{chat:e,groupMetadata:e.groupMetadata,onClose:a._pop});a.push(t)},a.onContactCard=function(){a.push(s.createElement(p.default,{chat:a.props.chat,onClose:a._pop}))},a.onMediaGallery=function(){var e=s.createElement(C.default,{chat:a.props.chat,onBack:a._pop,onProductDetail:a.onProductDetail,setProductsScrollOffset:a._setScrollOffset});a.push(e)},a.onGroupInviteLink=function(){var e=a.props.chat,t=s.createElement(v.default,{chat:a.props.chat,groupMetadata:e.groupMetadata,onBack:a._pop});a.push(t)},a._pop=function(){a.pop()},a._popAndUpdate=function(){a.popAndUpdate({initialTab:C.TABS.PRODUCTS,productsScrollOffset:a._scrollOffset})},a._end=function(){a.end(!0)},a.onLiveLocation=function(){var e=s.createElement(E.LiveLocationDrawerLoadable,{chat:a.props.chat,onClose:a._pop});a.push(e)},a.onEphemeral=function(){var e=a.props.chat,t=s.createElement(m.default,{chat:e,fromInfoFlow:!0,onClose:a._pop});a.push(t)},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.onStarred,t=this.onMediaGallery,a=this.props.chat;this.props.chat.isGroup?this.push(s.createElement(b.default,{chat:a,showFullGroupDescription:this.props.showFullGroupDescription,groupMetadata:a.groupMetadata,contact:a.contact,profilePicThumb:a.contact.getProfilePicThumb(),onStarred:e,onMediaGallery:t,onAdminSetting:this.onAdminSetting,onGroupInviteLink:this.onGroupInviteLink,onLiveLocation:this.onLiveLocation,onEphemeral:this.onEphemeral,onClose:this._pop})):a.isBroadcast?this.push(s.createElement(u.default,{chat:a,contact:a.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):a.isUser&&this.push(s.createElement(h.default,{contact:a.contact,onStarred:e,onContactCard:this.onContactCard,onMediaGallery:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,onLiveLocation:this.onLiveLocation,onEphemeral:this.onEphemeral,onClose:this._pop}))}}]),t}(g.default);t.default=P},dadhjdjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=i(a("beajagdaig")),u=n(a("ddhijeejag")),f=a("dghfbecefg"),p=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),m=i(a("dahagdijgh")),g=i(a("gaeccibgi")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("ddeefhbafc")),E=a("ddbdgibbbi"),M=i(a("bhbdiadfhj")),C=i(a("bfachifdii")),y=i(a("dfjedbigia")),_=i(a("jheedhagg")),S=i(a("bdjjabfecc")),k=i(a("ebddggeaib")),P=a("cgjcdbggeb"),T=n(a("chbeahhfcj")),N=i(a("bfgbdiffgd")),I=i(a("dcdbbhicce")),A=i(a("dhhjhedjij")),D=i(a("jccfhaecf")),R=function(e){var t=e.isRestricted,a=e.onClick;return u.createElement(g.default,{onClick:a,multiline:!0},u.createElement("div",{className:C.default.header},u.createElement(A.default,{theme:"title"},S.default.t(674))),u.createElement(A.default,{theme:"muted",block:!0},t?S.default.t(680):S.default.t(672)))},O=function(e){var t=e.isAnnouncement,a=e.onClick;return u.createElement(g.default,{onClick:a,multiline:!0},u.createElement("div",{className:C.default.header},u.createElement(A.default,{theme:"title"},S.default.t(681))),u.createElement(A.default,{theme:"muted",block:!0},t?S.default.t(680):S.default.t(672)))},w=function(e){var t=e.isNoFrequentlyForwarded,a=e.onClick,n=N.default.hfmStringChanges?S.default.t(678):S.default.t(677);return u.createElement(g.default,{onClick:a,multiline:!0},u.createElement("div",{className:C.default.header},u.createElement(A.default,{theme:"title"},n)),u.createElement(A.default,{theme:"muted",block:!0},t?S.default.t(679):S.default.t(676)))},L=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).openSettingModal=function(e){var t=a.props,n=t.chat,i=t.groupMetadata;p.default.openModal(u.createElement(y.default,{settingType:e,chat:n,groupMetadata:i}),{transition:"modal",uim:a.props.uim})},a.openAnnouncementSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.ANNOUNCEMENT)},a.openRestrictedSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.RESTRICT)},a.openNoFrequentlyForwardedSettingModal=function(){a.openSettingModal(h.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},a.getCurrentAdmins=function(){return a.props.groupMetadata.participants.filter((function(e){return e.isAdmin})).map((function(e){return e.contact}))},a.filterParticipants=function(e){return!!a.props.groupMetadata.participants.get(e.id)},a.isDisabled=function(e){var t=a.props.groupMetadata;return D.default.equals(e,t.owner)||(0,E.getMaybeMeUser)().equals(e)},a.openManageAdminModal=function(){p.default.openModal(u.createElement(T.default,{onConfirm:a.updateAdmins,getInitialItems:a.getCurrentAdmins,isDisabled:a.isDisabled,isSelected:a.isDisabled,filter:a.filterParticipants,title:S.default.t(817),useShortName:!0,useAllContacts:!0,listType:T.ListType.PARTICIPANT_MANAGE_MODAL,singleSelectionFooterType:f.FooterType.CONFIRM,multipleSelectionFooterType:f.FooterType.CONFIRM}))},a.updateAdmins=function(e){var t=a.props,n=t.chat,i=t.groupMetadata.participants,o=i.filter((function(e){return e.isAdmin})),c=(0,s.default)(e,o,(function(e,t){return e.id.equals(t.id)})).map((function(e){return i.assertGet(e.id)})),r=(0,s.default)(o,e,(function(e,t){return e.id.equals(t.id)}));c.length>0&&(c.forEach((function(e){e.contact.pendingAction++})),(0,P.promoteParticipants)(n,c).finally((function(){c.forEach((function(e){e.contact.pendingAction--}))}))),r.length>0&&(r.forEach((function(e){e.contact.pendingAction++})),(0,P.demoteParticipants)(n,r).finally((function(){r.forEach((function(e){e.contact.pendingAction--}))}))),p.default.closeModal()},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e,t,a=this.props.groupMetadata,n=u.createElement(R,{onClick:this.openRestrictedSettingModal,isRestricted:a.restrict}),i=u.createElement(O,{onClick:this.openAnnouncementSettingModal,isAnnouncement:a.announce});(n||i)&&(e=u.createElement(j.default,null,n,i)),N.default.frequentlyForwardedGroupSetting&&M.default.supportsFeature(M.default.F.FREQUENTLY_FORWARDED_SETTING)&&(t=u.createElement(j.default,null,u.createElement(w,{onClick:this.openNoFrequentlyForwardedSettingModal,isNoFrequentlyForwarded:a.noFrequentlyForwarded})));var o=u.createElement(j.default,null,u.createElement(g.default,{onClick:this.openManageAdminModal,multiline:!0},u.createElement("div",{className:C.default.header},u.createElement(A.default,{theme:"title"},S.default.t(817)))));return u.createElement(m.default,{theme:"striped"},u.createElement(v.default,{title:S.default.t(682),type:v.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onClose}),u.createElement(b.default,null,e,t,o))}}]),t}(u.Component);L.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","participants","owner"]};var x=(0,_.default)((0,k.default)((0,I.default)(L,L.CONCERNS)));t.default=x},dajceebgdj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("cfadcbbiie")),p=i(a("hhcjfgifh")),h=n(a("jagjbhcgf")),m=i(a("dgebcfedgb")),g=i(a("gfebgebbi")),b=i(a("bdjjabfecc")),v=i(a("dcjigehfeb")),j=i(a("cgcigiffcd")),E=a("cadfgefaja"),M=i(a("dcdbbhicce")),C=i(a("dgdcjccfdi")),y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).getMenuBtns=function(){return a.props.msgIndexInAlbum>=0?a.getAlbumMediaMenuBtns():a.getNonAlbumMediaMenuBtns()},a.getNonAlbumMediaMenuBtns=function(){var e=[],t=a.props.msg;return e.push(s.createElement(E.MenuBarItem,{key:"btnGoToMsg",icon:s.createElement(C.default,{name:"bubble"}),title:b.default.t(635),onClick:a.props.onGoToMsgClick})),e.push(a.getStarMenuBarItem()),t.canForward()&&e.push(a.getForwardMenuBarItem()),e.push(s.createElement(E.MenuBarItem,{key:"btnDownload",icon:s.createElement(C.default,{name:"download"}),title:b.default.t(1432),disabled:!a.isMediaDownloadable(),onClick:a.props.onDownloadClick})),e},a.getAlbumMediaMenuBtns=function(){var e=[],t=a.props.msg;return t.canReply()&&e.push(s.createElement(E.MenuBarItem,{key:"btnReply",icon:s.createElement(C.default,{name:"reply"}),title:b.default.t(1106),onClick:a.props.onReplyClick})),e.push(a.getStarMenuBarItem()),e.push(s.createElement(E.MenuBarItem,{key:"btnDelete",icon:s.createElement(C.default,{name:"delete"}),title:b.default.t(1473),onClick:a.props.onDeleteClick})),t.canForward()&&e.push(a.getForwardMenuBarItem()),e.push(a.getDropdownMenuBarItem()),e},a.getStarMenuBarItem=function(){var e,t,n;return a.props.msg.star?(e=a.props.onUnstarClick,t="unstar-btn",n=b.default.t(1294)):(e=a.props.onStarClick,t="star-btn",n=b.default.t(1218)),s.createElement(E.MenuBarItem,{key:t,icon:s.createElement(C.default,{name:t}),title:n,onClick:e})},a.getForwardMenuBarItem=function(){return s.createElement(E.MenuBarItem,{key:"btnForward",icon:s.createElement(C.default,{name:"forward"}),title:b.default.t(592),onClick:a.props.openForwardFlow})},a.getDropdownMenuBarItem=function(){var e=[];return a.props.msg.isSentByMe&&e.push(s.createElement(m.default,{key:"dropdownMsgInfo",action:a.props.onMsgInfoClick},b.default.t(851))),e.push(s.createElement(m.default,{key:"dropdownGoToMsg",action:a.props.onGoToMsgClick},b.default.t(635)),s.createElement(m.default,{key:"dropdownDownload",action:a.props.onDownloadClick,disabled:!a.isMediaDownloadable()},b.default.t(1432))),s.createElement(E.MenuBarItem,{key:"btnMenu",icon:s.createElement(C.default,{name:"menu"}),title:b.default.t(843)},s.createElement(h.default,{type:"dropdown_menu",key:"MediaPanelHeaderDropdown",flipOnRTL:!0,dirX:h.DirX.LEFT},e))},a.isMediaDownloadable=function(){var e=a.props.mediaData;return!!e.renderableUrl||e.mediaStage===v.default.STAGE.RESOLVED},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.displayName(!0,!0);return e.isGroupMsg&&(t+=" @ "+e.chat.title()),s.createElement("div",{className:j.default.mediaPanelHeader},s.createElement("div",{className:j.default.info},s.createElement(u.default,{idle:!0,image:s.createElement(p.default,{id:e.sender,size:40}),primary:s.createElement(g.default,{ellipsify:!0,text:t}),secondary:f.default.relativeDateAndTimeStr(e.t),theme:"media"})),s.createElement("div",{className:j.default.mediaPanelTools},s.createElement(E.MenuBar,{key:"media-panel-header",theme:"strong"},this.getMenuBtns(),s.createElement(E.MenuBarItem,{a8nText:"btn-close",icon:s.createElement(C.default,{name:"x-viewer"}),title:b.default.t(1446),onClick:this.props.onClose}))))}}]),t}(s.PureComponent);y.CONCERNS={msg:["star","isGroupMsg","chat","type","isGif","sender","t","isSentByMe"],mediaData:["filehash","mediaStage","renderableUrl"]};var _=(0,M.default)(y,y.CONCERNS);t.default=_},dbbbdeefhh:function(e,t){e.exports={container:"_1DKbp",block:"_3yOuq",main:"_9l3wT",side:"_3al_4",multiline:"I9WJJ"}},dbbhcaicgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ddeefhbafc")),f=i(a("bdjjabfecc")),p=i(a("ebddggeaib")),h=i(a("cdcijfdgje")),m=a("cicjibbhdb"),g=i(a("eafdabbdgj")),b=i(a("dcdbbhicce")),v=a("cjfegjecaj"),j=i(a("dgdcjccfdi")),E=i(a("dhhjhedjij")),M=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,r.default)(this,(0,l.default)(t).call(this,e))).updateParticipants=function(){a.setState({participants:a.getParticipants(a.props.chat)})},a.state={participants:a.getParticipants(e.chat)},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.liveLocationQueried||h.default.getActive(t.id.toString()).then((function(){t.liveLocationQueried=!0})).catch((function(){})),this.props.listeners.add((0,v.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListener(a),e.addParticipantListener(a),e.updateParticipants())}));var a=t.liveLocation;a&&this.addParticipantListener(a)}},{key:"addParticipantListener",value:function(e){this.props.listeners.add(e.participants,"add remove",this.updateParticipants)}},{key:"removeParticipantListener",value:function(e){this.props.listeners.remove(e.participants,"add remove",this.updateParticipants)}},{key:"getParticipants",value:function(e){var t=e.liveLocation;return t?t.participants.toArray():[]}},{key:"getText",value:function(){var e,t,a=this.props.chat,n=this.state.participants,i=0;if(n.forEach((function(a){a.isMe?e=!0:(t||(t=a.contact),i++)})),a.isGroup)return e?1===n.length?f.default.t(790):f.default.t(789,{count:i,_plural:i}):f.default.t(786,{count:i,_plural:i});if(e){if(1===n.length)return f.default.t(790);if(t)return f.default.t(788,{name:t.formattedShortNameWithNonBreakingSpaces})}else if(t)return f.default.t(785,{name:t.formattedShortNameWithNonBreakingSpaces});return""}},{key:"render",value:function(){var e=this.props.onClick;if(!this.state.participants.length)return null;var t=s.createElement(j.default,{name:(0,m.liveLocationIcon)(!0)});return s.createElement(u.default,{a8nText:"section-live-location",theme:"padding",title:f.default.t(793),titleOnClick:e},s.createElement(g.default,{side:t,onClick:e},s.createElement(E.default,{theme:"title"},this.getText())))}}]),t}(s.Component);M.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]};var C=(0,p.default)((0,b.default)(M,M.CONCERNS));t.default=C},dbejedjeej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("fhgchaefa")),f=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),h=i(a("hgigjbgie")),m=i(a("gfebgebbi")),g=a("djaiggcdb"),b=a("facgccaif"),v=i(a("bhbdiadfhj")),j=i(a("bdjjabfecc")),E=i(a("dcdbbhicce")),M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onConfirm=function(){f.default.closeModal()},a.onLearnMore=function(e){e.preventDefault(),f.default.closeModal("none"),setTimeout((function(){return(0,g.openExternalLink)((0,b.getBusinessFaqUrl)())}),10)},a.getMessage=function(){var e=a.props.contact;switch(e.verifiedLevel){case h.default.VERIFIED_LEVEL.HIGH:return j.default.t(1664);case h.default.VERIFIED_LEVEL.LOW:return j.default.t(1666);case h.default.VERIFIED_LEVEL.UNKNOWN:return j.default.t(1668,{businessName:e.formattedName})}},a.getMessageV2=function(){var e=a.props.contact;switch(e.verifiedLevel){case h.default.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?j.default.t(1429,{businessName:e.verifiedName}):j.default.t(1430,{businessName:e.verifiedName});case h.default.VERIFIED_LEVEL.LOW:case h.default.VERIFIED_LEVEL.UNKNOWN:return j.default.t(1431)}},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e;e=v.default.supportsFeature(v.default.F.VNAME_V_2)?this.getMessageV2():this.getMessage();var t=s.createElement(u.default,{onClick:this.onLearnMore},j.default.t(759));return s.createElement(p.default,{onOK:this.onConfirm,okText:j.default.t(1026)},s.createElement(m.default,{text:e})," ",t)}}]),t}(s.PureComponent);M.CONCERNS={contact:["name","verifiedLevel","verifiedName","formattedName"]};var C=(0,E.default)(M,M.CONCERNS);t.default=C},dcccbfbehi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ieeidjijb")),f=i(a("dcdbbhicce")),p=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).contextEnabled=function(){var e=a.props,t=e.contextEnabled,n=e.contact;return null!=t&&t(n)},a.onContext=function(e){var t=a.props,n=t.onContext,i=t.contact;return n&&n(e,i)},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contact,a=e.participant,n=e.onClick,i=e.contextMenu,o=e.isPendingParticipant;return s.createElement(u.default,{contact:t,admin:a.isAdmin,onClick:n,theme:"drawer-list",contextEnabled:this.contextEnabled,contextMenu:i,onContext:this.onContext,isPendingParticipant:o,showNotifyName:!0,waitIdle:!0})}}]),t}(s.Component);p.CONCERNS={participant:["isAdmin"]};var h=(0,f.default)(p,p.CONCERNS);t.default=h},ddbhiaeibf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=e.groupMetadata,n=e.onClick;return a?s.createElement(_,{groupMetadata:a,onClick:n}):s.createElement(C,{chat:t,onClick:n})},t.BaseEphemeralSettingRow=S;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=a("dfdebdgdei"),f=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),h=i(a("gaeccibgi")),m=a("chhdedhgfe"),g=i(a("cijfgceaff")),b=i(a("bdjjabfecc")),v=i(a("dcdbbhicce")),j=i(a("dgdcjccfdi")),E=i(a("dhhjhedjij"));var M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._getEphemeralDuration=function(){var e;return null!==(e=a.props.chat.ephemeralDuration)&&void 0!==e?e:0},a._unblockContact=function(){var e=a.props,t=e.chat,n=e.onClick;t.contact.addPendingAction((0,u.unblockContact)(t.contact)).then((function(){n(),f.default.closeModal()})).catch((function(){}))},a._closeModal=function(){f.default.closeModal()},a._openUnblockContactModal=function(){f.default.openModal(s.createElement(p.default,{onOK:a._unblockContact,okText:b.default.t(1283),onCancel:a._closeModal,cancelText:b.default.t(1436)},a._getEphemeralDuration()?b.default.t(575):b.default.t(576)))},a._handleClick=function(){var e=a.props,t=e.chat,n=e.onClick;t.contact.isContactBlocked?a._openUnblockContactModal():n()},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return s.createElement(S,{ephemeralDuration:this._getEphemeralDuration(),canChange:!0,onClick:this._handleClick})}}]),t}(s.PureComponent);M.CONCERNS={chat:["contact","ephemeralDuration"]};var C=(0,v.default)(M,M.CONCERNS),y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._canChange=function(){return a.props.groupMetadata.participants.iAmAdmin()},a._closeModal=function(){f.default.closeModal()},a._openNonAdminModal=function(){f.default.openModal(s.createElement(p.default,{onOK:a._closeModal,okText:b.default.t(1588)},b.default.t(527)))},a._handleClick=function(){var e=a.props.onClick;a._canChange()?e():a._openNonAdminModal()},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e;return s.createElement(S,{ephemeralDuration:null!==(e=this.props.groupMetadata.ephemeralDuration)&&void 0!==e?e:0,canChange:this._canChange(),onClick:this._handleClick})}}]),t}(s.PureComponent);y.CONCERNS={groupMetadata:["ephemeralDuration","participants"]};var _=(0,v.default)(y,y.CONCERNS);function S(e){var t,a=e.ephemeralDuration,n=e.canChange,i=e.onClick;t=a>0?n?b.default.t(570):(0,m.getEphemeralExplanationString)(a):b.default.t(569);var o=s.createElement(j.default,{className:n?g.default.chevronIcon:g.default.ephemeralIcon,name:n?"chevron-right-alt":"ephemeral",directional:!0});return s.createElement(h.default,{onClick:i,side:o,multiline:!0},s.createElement("div",{className:g.default.header},s.createElement(E.default,{theme:"title"},b.default.t(675))),s.createElement(E.default,{theme:"muted",block:!0},t))}},degcgieda:function(e,t){e.exports={body:"Mr-fu",avatar:"IR_0S",nameSecondary:"_1SEiG",screenName:"_1jlxc",businessVname:"_2Th_i",icon:"_26CCk",titleAbout:"mXZeb",chevron:"nxfng"}},dfhcaiigfg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),p=i(a("ccbgfecegc")),h=i(a("bdacheahgj")),m=i(a("dgebcfedgb")),g=a("ddbdgibbbi"),b=i(a("bhbdiadfhj")),v=i(a("bdjjabfecc")),j=i(a("ebddggeaib")),E=i(a("cgjdibiahi")),M=i(a("dfciadajdf")),C=i(a("jccfhaecf")),y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={contextMenu:null},a.openChat=function(e){f.default.find(e).then((function(e){p.default.closeModal(),p.default.openChatFromUnread(e)}))},a.contextMenu=function(e){return!C.default.equals((0,g.getMaybeMeUser)(),e)},a.onParticipantMenu=function(e,t){var n=a.props.chat.groupMetadata.participants,i=n.assertGet(t.id),o=[];if(n.canPromote(i)){var c=a.props.onParticipantPromote.bind(null,i,!1);o.push(u.createElement(m.default,{a8n:"mi-grp-promote-admin",key:"promote",action:c},v.default.t(831)))}if(n.canRemove(i)){var r=a.props.onParticipantRemove.bind(null,i,!1);o.push(u.createElement(m.default,{a8n:"mi-grp-remove-participant",key:"remove",action:r},v.default.t(836)))}if(b.default.supportsFeature(b.default.F.GROUPS_V_3)&&n.canDemote(i)){var l=a.props.onDemoteAdmin.bind((0,d.default)(a),i);o.push(u.createElement(m.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:l},v.default.t(493)))}C.default.equals((0,g.getMaybeMeUser)(),i.id)||o.push(u.createElement(m.default,{key:"message author",action:a.openChat.bind(null,i.contact.id)},v.default.t(847,{author:i.contact.formattedName}))),e.anchor||e.event||e.persist(),a.setState({contextMenu:{contactId:t.id,menu:o,anchor:e.anchor,event:e.anchor?void 0:e}})},a.closeContextMenu=function(){a.setState({contextMenu:null})},a.contextEnabled=function(){return!1},a.cancel=function(){p.default.closeModal()},a.isAdmin=function(e){return a.props.chat.groupMetadata.participants.assertGet(e).isAdmin},a.contactFilter=function(e){return!!a.props.chat.groupMetadata.participants.get(e.id)},a}return(0,s.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata.participants;this.props.listeners.add(t,"add remove reset",(function(){e.forceUpdate()}))}},{key:"render",value:function(){var e;return this.state.contextMenu&&(e=u.createElement(E.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},u.createElement(M.default,{contextMenu:this.state.contextMenu}))),u.createElement(u.Fragment,null,u.createElement(h.default,{title:v.default.t(1166),filter:this.contactFilter,onCancel:this.cancel,openContextOnClick:!0,contextEnabled:this.contextEnabled,contextMenu:this.contextMenu,onContext:this.onParticipantMenu,showNotifyName:!0,listenForAdminChange:!0,participantCollection:this.props.chat.groupMetadata.participants}),e)}}]),t}(u.Component),_=(0,j.default)(y);t.default=_},dfjedbigia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("hgigjbgie")),f=i(a("bdjjabfecc")),p=i(a("bfgbdiffgd")),h=a("ceiehehagg"),m=i(a("bajacafbgd")),g=i(a("dcdbbhicce")),b=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._handleSelect=function(e){var t=a.props,n=t.chat,i=t.settingType;e!==a._getInitialValue()&&(0,h.setGroupProperty)(n,i,e).catch((function(){return function(){}}))},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"_getOptions",value:function(){switch(this.props.settingType){case u.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:case u.default.GROUP_SETTING_TYPE.RESTRICT:return[{label:f.default.t(672),value:0},{label:f.default.t(680),value:1}];case u.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return[{label:f.default.t(676),value:0},{label:f.default.t(679),value:1}];default:return[]}}},{key:"_getInitialValue",value:function(){var e=this.props,t=e.settingType,a=e.groupMetadata,n=a.restrict,i=a.announce,o=a.noFrequentlyForwarded;switch(t){case u.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return i?1:0;case u.default.GROUP_SETTING_TYPE.RESTRICT:return n?1:0;case u.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return o?1:0;default:return 0}}},{key:"_getPopupTitle",value:function(){switch(this.props.settingType){case u.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return f.default.t(681);case u.default.GROUP_SETTING_TYPE.RESTRICT:return f.default.t(674);case u.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return p.default.hfmStringChanges?f.default.t(678):f.default.t(677);default:return""}}},{key:"render",value:function(){return s.createElement(m.default,{options:this._getOptions(),initialValue:this._getInitialValue(),title:this._getPopupTitle(),onSelect:this._handleSelect})}}]),t}(s.PureComponent);b.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded"]};var v=(0,g.default)(b,b.CONCERNS);t.default=v},dgjaedef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("bacehaajgh")),c=i(a("dagbcgeifg")),r=i(a("eaidjcib")),l=i(a("dgcdacjddi")),d=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),p=i(a("bdjjabfecc")),h=i(a("ebddggeaib")),m=i(a("bdjgdghiah")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._setGallery=function(e){a._gallery=e},a._queryCollection=function(e,t){var n=a.props,i=n.docMsgs,o=n.chat;a.props.listeners.uiIdle((function(){i.queryDocs(o,t)}))},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.props.docMsgs,"add remove reset",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()})),this.props.listeners.add(this.props.docMsgs,"query_doc_before",(function(){var t;null===(t=e._gallery)||void 0===t||t.forceUpdate()}))}},{key:"render",value:function(){var e=this.props,t=e.docMsgs,a=(e.listeners,(0,c.default)(e,["docMsgs","listeners"]));return f.createElement(m.default,(0,o.default)({ref:this._setGallery,msgsCollection:t,queryCollection:this._queryCollection,hasBefore:t.hasDocBefore,queryBefore:t.queryDocBefore,emptyText:p.default.t(1002)},a))}}]),t}(f.Component),b=(0,h.default)(g);t.default=b},dhdffaicfc:function(e,t){e.exports={body:"_2Kk7T",photo:"_2nZRd",chevron:"_3jhif"}},dhgcheacjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfacfggdai")),f=i(a("djhbgdedbe")),p=i(a("ebcagbhefg")),h=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).showArchiveSettingsDrawer=function(){a.push(s.createElement(u.default,{chatPreference:p.default.assertGet("defaultPreference"),onClose:a._pop}))},a._pop=function(){a.pop()},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{chatPreference:p.default.assertGet("defaultPreference"),showSettings:this.showArchiveSettingsDrawer,onClose:this._pop}))}}]),t}(i(a("bdeebiagii")).default);t.default=h},djhbgdedbe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("eaidjcib")),c=i(a("dgcdacjddi")),r=i(a("ffceefejc")),l=i(a("cjedcdbdii")),d=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=n(a("dighcbdehd")),f=i(a("dbdfbgehgj")),p=i(a("ccbgfecegc")),h=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),b=i(a("jagjbhcgf")),v=i(a("dgebcfedgb")),j=a("cdhbdacigj"),E=i(a("bgheieccaj")),M=i(a("dbfjeecgih")),C=i(a("ddajbaceej")),y=i(a("dhfbfehaef")),_=i(a("bdjjabfecc")),S=i(a("ebddggeaib")),k=a("cadfgefaja"),P=i(a("bfgbdiffgd")),T=i(a("dcaibchbg")),N=i(a("dgdcjccfdi")),I=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=(0,r.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new M.default,a.selection=new T.default([],(function(e){return e.id.toString()})),a.onClick=function(e,t){p.default.openChatFromUnread(t).then((function(e){e&&p.default.focusChatTextInput(t)})),a.onClose()},a.onClose=function(){a.props.onClose()},a.onNextChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevChat=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!0)},a.renderItem=function(e){return s.createElement(u.default,{chat:e.chat,mode:u.Mode.LAST,active:a.selection,onClick:a.onClick,showEphemeralIcon:!0})},a.setRefHotKeys=function(e){a.refList=e},a}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(f.default,"change:archive add remove",(function(){e.forceUpdate()})),this.refList&&C.default.focus(this.refList)}},{key:"getData",value:function(e){return e.map((function(e){return{itemKey:e.id.toString(),chat:e}}))}},{key:"render",value:function(){var e,t=f.default.filter((function(e){return e.archive}));if(this.selection.init(t,!0),t.length>0){var a={down:this.onNextChat,up:this.onPrevChat};e=s.createElement(y.default,{onRef:this.setRefHotKeys,handlers:a},s.createElement(E.default,{data:this.getData(t),flatListController:this.flatListController,direction:"vertical",renderItem:this.renderItem}))}else e=s.createElement(j.Archived,null);var n=P.default.enhancedArchive?s.createElement(k.MenuBarItem,{a8nText:"archived-menu",icon:s.createElement(N.default,{name:"menu"}),title:_.default.t(843)},s.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"ArchivedDrawerHeader",dirX:"LEFT"},s.createElement(v.default,{a8n:"open-archive-settings menu-item",action:this.props.showSettings},_.default.t(202)))):null;return s.createElement(h.default,null,s.createElement(g.default,{title:_.default.t(204),onBack:this.onClose,type:g.DRAWER_HEADER_TYPE.LARGE,menu:n}),s.createElement(m.default,{flatListControllers:[this.flatListController]},e))}}]),t}(s.Component),A=(0,S.default)(I);t.default=A},ebijbjhdie:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onClick;return o.createElement(c.default,{onClick:t,side:o.createElement(d.default,{name:"lock",className:r.default.icon}),multiline:!0},o.createElement("div",{className:r.default.header},o.createElement(s.default,{theme:"title"},l.default.t(1255))),o.createElement(s.default,{theme:"muted",block:!0},l.default.t(1254)))};var o=i(a("ddhijeejag")),c=n(a("gaeccibgi")),r=n(a("bjdbcehgha")),l=n(a("bdjjabfecc")),d=n(a("dgdcjccfdi")),s=n(a("dhhjhedjij"))},fdfjcdigh:function(e,t){e.exports={msg:"_3TyZe",text:"hoLVA",bubble:"_2uArY",author:"_3_wLb",hasSuspiciousLinks:"_3_1Gl",hasAuthor:"_3kE5X",suspiciousLabel:"j8MuB"}},gaeccibgi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=null!=e.side?o.createElement("div",{className:l.default.side},e.side):null,a=(0,c.default)(l.default.container,{[l.default.multiline]:e.multiline});return o.createElement("div",{"data-a8n":r.default.key(e.a8nText),className:a,role:e.onClick?"button":null,onClick:e.onClick},o.createElement("div",{className:l.default.block},o.createElement("div",{className:l.default.main},e.children),t))};var o=i(a("ddhijeejag")),c=n(a("ceffhbhahb")),r=n(a("effbcehec")),l=n(a("dbbbdeefhh"))},gifabeaga:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(a("dfadhaifh")),c=i(a("eaidjcib")),r=i(a("dgcdacjddi")),l=i(a("ffceefejc")),d=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=n(a("ddhijeejag")),p=i(a("bgcibhihaj")),h=i(a("cdhfigedae")),m=i(a("cgbgfjffe")),g=i(a("ecdebjcgfa"));function b(){var e=(0,o.default)(["MediaViewerFlow: attempted to render a msg without mediaData: ",""]);return b=function(){return e},e}var v=function(e){function t(e){var a;return(0,c.default)(this,t),(a=(0,l.default)(this,(0,d.default)(t).call(this,e))).setThumbRef=function(e,t){a.thumbRefs[t]=e},a.isPreviewPreferred=function(e){var t=a.thumbRefs[e];if(!t)return!1;var n=t.getBoundingClientRect(),i=(n.left+n.right)/2;return!(i>-1*window.innerWidth&&i<2*window.innerWidth)},a.getMsgIdToPreferPreview=function(){var e=new Map;return a.props.mediaMsgs.forEach((function(t){var n=t.id.toString();e.set(n,a.isPreviewPreferred(n))})),e},a.onScroll=function(e){a.handleScroll(),a.props.onScroll(e)},a._handleScroll=function(){var e=a.getMsgIdToPreferPreview();(0,p.default)(a.state.msgIdToPreferPreview,e)||a.setState({msgIdToPreferPreview:e})},a.getThumbs=function(){var e=a.props.highlightedMsgIds,t=e&&e.size>0&&e.has(a.props.activeMsg.id.toString()),n=[];return a.props.mediaMsgs.forEach((function(i){if(null!=i.mediaData){var o=t&&e&&!e.has(i.id.toString())?"viewerFlowTransparent":"viewerFlow";n.push(f.createElement(h.default,{theme:o,active:i===a.props.activeMsg,msg:i,containerRef:function(e){a.setThumbRef(e,i.id.toString()),i===a.props.activeMsg&&a.props.onSetActiveThumb(e)},key:"media-".concat(i.id.id),onClick:function(){a.props.onSelectThumb(i)},preferPreview:!!a.state.msgIdToPreferPreview.get(i.id.toString())}))}else{var c=a.props.activeMsg;__LOG__(3,!0)(b(),JSON.stringify({type:i.type,isMedia:i.isMedia,startMsgType:c.type,startMsgIsMedia:c.isMedia}))}})),n.push(f.createElement("div",{className:m.default.mediaThumb,key:"spinner-right"},a.props.mediaMsgs.queryMediaAfter?f.createElement(g.default,{stroke:6,size:24}):null)),n.unshift(f.createElement("div",{className:m.default.mediaThumb,key:"spinner-left"},a.props.mediaMsgs.queryMediaBefore?f.createElement(g.default,{stroke:6,size:24}):null)),n.push(f.createElement("div",{className:m.default.thumbPadding,key:"padding-right"})),n.unshift(f.createElement("div",{className:m.default.thumbPadding,key:"padding-left"})),n},a.thumbRefs={},a.handleScroll=(0,u.default)(a._handleScroll,100),a.state={msgIdToPreferPreview:a.getMsgIdToPreferPreview()},a}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"render",value:function(){var e=this.getThumbs();return f.createElement("div",{className:m.default.thumbsContainer,ref:this.props.setRefThumbsContainer},f.createElement("div",{className:m.default.scrollContainer,dir:"ltr"},f.createElement("div",{onScroll:this.onScroll,className:m.default.viewerThumbs,ref:this.props.setRefThumbs},e)))}}]),t}(f.Component);t.default=v},hjbhabfd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g((0,h.unproxy)(e),t)};var o=i(a("dfadhaifh")),c=n(a("ddhijeejag")),r=a("dheeaichcj"),l=i(a("ccbgfecegc")),d=a("bgihjbde"),s=n(a("cajijabhgb")),u=i(a("bdjjabfecc")),f=a("babicefcfg"),p=i(a("cfejjfjhca")),h=a("cjfegjecaj");function m(){var e=(0,o.default)(["models:chat:setGroupDesc dropped"]);return m=function(){return e},e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)(),n=t&&t.trim();if(n===e.groupMetadata.desc)return Promise.reject(new s.ActionError);""===n&&(n=null);var i=(0,f.sendSetGroupDescription)(e.id,n,(0,p.default)(),e.groupMetadata.descId),o=e.groupMetadata.desc,h=new r.ActionType(u.default.t(75)),b=i.then((function(){return new r.ActionType(u.default.t(77),u.default.t(177),(function(){return g(e,o,a)}))})).catchType(d.ServerStatusCodeError,(function(e){if(e.status>=400)return new r.ActionType(u.default.t(76))})).catch((function(){return __LOG__(3)(m()),new r.ActionType(u.default.t(76),u.default.t(173),(function(){return g(e,n,a)}))}));return l.default.openToast(c.createElement(r.ActionToast,{id:a,initialAction:h,pendingAction:b})),i.then((function(t){t._duplicate||e.groupMetadata.set({desc:n||""})})).catchType(d.ServerStatusCodeError,(function(){}))}},jjcagibhi:function(e,t){e.exports={contactBusinessInfo:"_1pcmj",contactBusinessInfoSpinner:"_3tTpc",dataRow:"_3_2VR",businessHoursRow:"_329PN",businessHoursDay:"_3ZYfV",businessHoursHours:"_1i4ox",businessHoursChevron:"_2jLxq",flipSvg:"_2WLgE",dataRowIcon:"_30ccB",dataRowText:"_1Xt7L",businessTitleText:"_2u0kQ",businessMarker:"_1_teC",verifiedLabel:"_1oQlL",businessMap:"_27hxM",address:"_3Npt2",link:"_3fBZz"}}}]);