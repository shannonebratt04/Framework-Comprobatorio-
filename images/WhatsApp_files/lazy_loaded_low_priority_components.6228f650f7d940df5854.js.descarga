/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{bacbeacgf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),g=i(a("bdjjabfecc")),m=a("bbjjjbicfb"),b=n(a("bijffg")),v=i(a("eaeceibcgf")),j=i(a("ecdebjcgfa")),E=i(a("dgdcjccfdi")),C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(){a.props.onUpdateColor({id:a.props.labelId,color:a.props.colorInt},b.LABEL_PROPERTIES.COLOR),a.props.onBack()},a.disableHover=function(){a.state.hover&&a.setState({hover:!1})},a.enableHover=function(){a.state.hover||a.setState({hover:!0})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isSelected?u.createElement(E.default,{name:"checkmark-medium"}):null,t=(0,s.default)(v.default.wallpaperColorCanvas,{[v.default.canvasHover]:this.state.hover,[v.default.canvasActive]:this.props.isSelected});return u.createElement("span",{className:t,style:{backgroundColor:(0,m.intColorToHex)(this.props.colorInt)},onMouseOver:this.enableHover,onMouseEnter:this.enableHover,onMouseLeave:this.disableHover,onClick:this.onClick},e)}}]),t}(u.Component),y=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this,t=this.props,a=t.currentColor,n=t.colors.map((function(t){return u.createElement(C,{onUpdateColor:e.props.onUpdateColor,colorInt:t,onBack:e.props.onBack,labelId:e.props.labelId,isSelected:a===t,key:t})})),i=0;i<2;i++)n.push(u.createElement("div",{key:"emptyEl"+i,className:v.default.wallpaperColorEmpty}));return n}}]),t}(u.Component),S=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,l.default)(t).call(this))).getColorPromise=null,e.state={colors:b.default.labelColorPalette&&b.default.labelColorPalette.colors},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.getColorPromise&&this.getColorPromise.cancel()}},{key:"render",value:function(){var e=this,t=u.createElement(j.default,{stroke:6,size:24});return this.state.colors?t=u.createElement(y,{labelId:this.props.labelId,onBack:this.props.onClose,onUpdateColor:this.props.onUpdateColor,colors:this.state.colors,currentColor:this.props.currentColor}):(this.getColorPromise=b.default.getLabelColorPalette(),this.getColorPromise.cancellable().then((function(t){e.setState({colors:t})}))),u.createElement(f.default,null,u.createElement(p.default,{theme:this.state.colors?void 0:"center-content",title:g.default.t(753),onBack:this.props.onClose,type:p.DRAWER_HEADER_TYPE.LARGE}),u.createElement(h.default,null,u.createElement("div",{className:v.default.container},t)))}}]),t}(u.Component);t.default=S},badjagjaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("dbdfbgehgj")),h=i(a("ccbgfecegc")),p=i(a("ebcfjdcbhh")),g=i(a("dhigahgdjb")),m=i(a("dgebcfedgb")),b=a("djaiggcdb"),v=i(a("bdjjabfecc")),j=a("igiffibee"),E=i(a("gjbhafcjg")),C=i(a("dcaaidgcgg")),y=i(a("dgdcjccfdi")),S=i(a("cgjdibiahi")),_=i(a("dfciadajdf")),k=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).mouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.mouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onDirection=function(){var e=a.props,t=e.lat,n=e.lng;(0,b.openExternalLink)((0,j.getDirectionUrl)(t,n))},a.onMessage=function(){var e=a.props.id;f.default.find(e).then((function(e){e.active&&h.default.existsDrawerRight((function(e){e&&2===p.default.column&&h.default.closeDrawerRight()})),h.default.openChatFromUnread(e).then((function(t){t&&h.default.focusChatTextInput(e)}))}))},a.onContextOpen=function(e){var t=e&&e.target;a.setState({contextMenu:{menu:a.getContextMenu(),anchor:t}})},a.onContextClose=function(){a.setState({contextMenu:!1})},a.state={hover:!1,contextMenu:!1},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getContextMenu",value:function(){var e=[];return e.push(u.createElement(m.default,{key:"direction",a8n:"get-directions",action:this.onDirection},v.default.t(608))),e.push(u.createElement(m.default,{key:"message",a8n:"send-message",action:this.onMessage},v.default.t(844))),e}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.accuracy,n=e.isMe,i=e.markerSize,r=g.default.assertGet(t),o={transform:"translateX(calc(-50% + ".concat(i/2,"px))")},d=u.createElement("div",{className:C.default.name},u.createElement(E.default,{ellipsify:!0,you:!0,contact:r})),l=null!=a?u.createElement("div",{className:C.default.status},v.default.t(766,{accuracy:a,_plural:a})):null,c=n?null:u.createElement("div",{onClick:this.onContextOpen,className:C.default.menuButton},u.createElement(y.default,{name:"down"})),f=u.createElement("div",{className:C.default.triangle}),h=!n&&this.state.contextMenu?u.createElement(S.default,{displayName:"LiveLocationPopupContextMenu",escapable:!0,popable:!0,requestDismiss:this.onContextClose},u.createElement(_.default,{contextMenu:this.state.contextMenu})):null;return u.createElement("div",{className:(0,s.default)(C.default.container,{[C.default.twoLines]:!!l}),style:o},u.createElement("div",{className:C.default.popup,onMouseOver:this.mouseEnter,onMouseEnter:this.mouseEnter,onMouseDown:this.mouseLeave,onMouseUp:this.mouseEnter,onMouseLeave:this.mouseLeave},d,l,c),f,h)}}]),t}(u.Component);t.default=k},bafcchidfe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ecgbjdgfdd")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),g=i(a("bdjjabfecc")),m=a("bbjjjbicfb"),b=n(a("bijffg")),v=a("dcfieddiah"),j=a("eeebhdeed"),E=i(a("bdcchebfge")),C=i(a("ecdebjcgfa")),y=i(a("dbihaeaggd")),S=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).labelModel=null,a.onOk=function(){var e=a.state,t=e.labelName,n=e.labelColor;if(!e.labelNameError){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,a.props.onAddLabel?E.default.LABEL_TARGETS.ADD_LABEL_DIALOG:E.default.LABEL_TARGETS.EDIT_LABEL_DIALOG);var i=t&&t.trim(),r=a.validateLabelName(i||"");r.passed?(a.props.labelId&&a.props.onUpdateLabel?a.props.onUpdateLabel({id:a.props.labelId,color:n,name:t},b.LABEL_PROPERTIES.NAME):a.props.onAddLabel&&a.props.onAddLabel(t||"",n),a.props.onCancel?a.props.onCancel():f.default.closeModal()):a.setState({labelNameError:r.error})}},a.onCancel=function(){(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,a.props.onAddLabel?E.default.LABEL_TARGETS.ADD_LABEL_DIALOG:E.default.LABEL_TARGETS.EDIT_LABEL_DIALOG),a.props.onCancel?a.props.onCancel():f.default.closeModal()},a.onLabelNameChange=function(e){var t=a.validateLabelName(e);a.setState({labelName:e,labelNameError:t.passed?void 0:t.error})},a.validateLabelName=function(e){var t=!0,n=null;return e&&""!==e.trim()||(t=!1),a.labelModel&&a.labelModel.name===e||0===b.default.where({name:e}).length||(t=!1,n=g.default.t(188)),{passed:t,error:n}},a._handleKeyEnter=function(e){e.stopPropagation(),a.onOk()},a.props.labelId&&(a.labelModel=b.default.assertGet(a.props.labelId)),a.state={labelColor:a.labelModel&&a.labelModel.color||void 0,labelName:a.labelModel&&a.labelModel.name||"",labelNameError:void 0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onAddLabel?(b.default.getNewLabelColor().then((function(t){e.setState({labelColor:t||p.default.DEFAULT_SMB__NEW_LABEL_COLOR})})),(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,1,E.default.LABEL_TARGETS.ADD_LABEL_DIALOG)):this.props.onUpdateLabel&&(0,v.logLabelOperationEvent)(E.default.LABEL_OPERATIONS.VIEW,1,E.default.LABEL_TARGETS.EDIT_LABEL_DIALOG)}},{key:"render",value:function(){var e=!this.validateLabelName(this.state.labelName.trim()).passed;return s.createElement(h.default,{title:this.props.onUpdateLabel?g.default.t(512):g.default.t(192),okText:g.default.t(1588),onOK:this.onOk,okDisabled:e,onCancel:this.onCancel},s.createElement("div",{className:u.default.inputContainer},s.createElement("div",{className:u.default.label},this.state.labelColor?(0,j.renderLabelSvg)((0,m.intColorToHex)(this.state.labelColor)):s.createElement(C.default,{stroke:5,size:20})),s.createElement("div",{className:u.default.input},s.createElement(y.default,{a8n:"add-new-label-name-input",focusOnMount:!0,hideFloatingLabel:!0,showRemaining:!0,supportsEmoji:!0,value:this.state.labelName,error:this.state.labelNameError,maxLength:p.default.SMB_LABELS.MAX_LABEL_LENGTH,onChange:this.onLabelNameChange,onEnter:this._handleKeyEnter,placeholder:g.default.t(191)}))))}}]),t}(s.Component);t.default=S},bahcdceje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("hgigjbgie")),f=i(a("dcdbbhicce")),h=i(a("bihbbbcghi")),p=a("dieaaaeidb"),g=i(a("bfcdaddgji")),m=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.statusV3,r=n.contact,o=i.lastStatus;return e=o&&o.type===u.default.MSG_TYPE.CHAT?s.createElement(b,{msg:o}):s.createElement(v,{renderedThumbnail:i.renderedThumbnail}),r.statusMute||(t=s.createElement(h.default,{statusV3:i})),s.createElement("div",{className:g.default.container,role:this.props.role||"",onClickCapture:function(e){a.props.onClick&&a.props.onClick(),e.stopPropagation(),e.preventDefault()}},t,e)}}]),t}(s.PureComponent);m.CONCERNS={statusV3:["renderedThumbnail","lastStatus"],contact:["statusMute"]};var b=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.statusV3TextBg;return s.createElement("div",{className:g.default.statusImage,style:{backgroundColor:t}},s.createElement("div",{className:g.default.textThumb},s.createElement(p.StatusV3Text,{msg:e,theme:"status-thumbnail"})))}}]),t}(s.PureComponent),v=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.renderedThumbnail;e&&e.retain()}},{key:"componentDidUpdate",value:function(e){var t=e.renderedThumbnail,a=this.props.renderedThumbnail;t!==a&&(t&&t.autorelease(),a&&a.retain())}},{key:"componentWillUnmount",value:function(){var e=this.props.renderedThumbnail;e&&e.autorelease()}},{key:"render",value:function(){var e=this.props.renderedThumbnail,t={backgroundImage:e&&"url(".concat(e.url(),")")};return s.createElement("div",{className:g.default.statusImage,style:t})}}]),t}(s.PureComponent),j=(0,f.default)(m,m.CONCERNS);t.default=j},bahjbgaefa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bhdcfacaaf")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),b=i(a("jagjbhcgf")),v=i(a("dgebcfedgb")),j=a("eajdbbfgfg"),E=i(a("bdjjabfecc")),C=i(a("bijffg")),y=a("dcfieddiah"),S=i(a("eeebhdeed")),_=i(a("ebddggeaib")),k=a("cadfgefaja"),M=i(a("bdcchebfge")),I=i(a("bhgjeaceh")),T=i(a("cbcbdjdah")),L=i(a("dceicchccd")),P=i(a("dgdcjccfdi"));function w(e){var t=e.openColorPicker,a=e.openEditLabel;return(0,j.canEditLabel)()?s.createElement(k.MenuBarItem,{a8nText:"starred-menu",icon:s.createElement(P.default,{name:"menu"}),title:E.default.t(843)},s.createElement(b.default,{type:"dropdown_menu",flipOnRTL:!0,key:"labelChooseColor",dirX:"LEFT"},s.createElement(v.default,{a8n:"menu-item",action:t},E.default.t(753)),s.createElement(v.default,{a8n:"menu-item",action:a},E.default.t(512)))):null}var N=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,l.default)(t).call(this))).openColorPicker=function(){var t=e.props.labelId,a=C.default.assertGet(t);e.props.openLabelColorDrawer(e.props.labelId,a.color)},e.openEditLabel=function(){e.props.onEditLabel&&e.props.onEditLabel(e.props.labelId)},e.onCancelLabelSelection=function(){e.multiSelection.unsetAll()},e.onRemoveLabel=function(){var t=e.multiSelection.getSelected(),a=e.props,n=a.onRemoveLabel,i=a.labelId;if(n){var r=C.default.assertGet(i);(0,y.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.VIEW,t.length,M.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),f.default.openModal(s.createElement(h.default,{title:E.default.t(1103,{count:t.length,labelName:r.name,_plural:t.length}),okText:E.default.t(1588),cancelText:E.default.t(1436),onCancel:e._closeModal,onOK:e.onRemoveLabelConfirmed.bind(null,i,t)}))}},e._closeModal=function(){var t=e.multiSelection.getSelected();(0,y.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.CLICK_NEGATIVE,t.length,M.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG),f.default.closeModal()},e.onRemoveLabelConfirmed=function(t,a){f.default.closeModal(),e.onCancelLabelSelection(),e.props.onRemoveLabel(t,a),(0,y.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.length,M.default.LABEL_TARGETS.BULK_UNLABEL_DIALOG)},e.multiSelection=new L.default([],(function(e){return e.id.toString()})),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(this.multiSelection,"all",(function(){return e.forceUpdate()})),(0,y.logLabelOperationEvent)(M.default.LABEL_OPERATIONS.VIEW,void 0,M.default.LABEL_TARGETS.LABEL_DETAILS_SCREEN)}},{key:"hasMixedSelection",value:function(e){for(var t,a,n=0;n<e.length;n++){if(e[n]instanceof T.default?a=!0:t=!0,t&&a)return!0}return!1}},{key:"render",value:function(){var e=this.multiSelection.getSelected(),t=this.hasMixedSelection(e),a=this.multiSelection.getSelected().length>0?s.createElement(I.default,{labelEditEnabled:!t,onRemoveLabel:this.onRemoveLabel,selectedModels:this.multiSelection,onCancel:this.onCancelLabelSelection,theme:"drawer-header"}):s.createElement(m.default,{onBack:this.props.onClose,menu:s.createElement(w,{openColorPicker:this.openColorPicker,openEditLabel:this.openEditLabel}),type:m.DRAWER_HEADER_TYPE.LABELS},s.createElement(S.default,{labels:[this.props.labelId],renderAsCircle:!0,showName:!0,theme:"drawer-title"}));return s.createElement(p.default,{theme:"settings"},a,s.createElement(g.default,null,s.createElement(u.default,{hideMultiSelectBar:!0,multiSelection:this.multiSelection,labelFilter:this.props.labelId,selectable:!0})))}}]),t}(s.PureComponent),O=(0,_.default)(N);t.default=O},bajbjjihjg:function(e,t){e.exports={container:"_1eAKg",media:"_1VvSM",document:"XuPrz",text:"_11um1",icon:"_3YuK3"}},bajieejahc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=a("dfdebdgdei"),h=i(a("ccbgfecegc")),p=i(a("bdeebiagii")),g=i(a("bdjjabfecc")),m=n(a("chbeahhfcj")),b=a("dbbhhgjjbg"),v=i(a("bfgbdiffgd")),j=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).onForwardConfirmed=function(e){var t=a.props.msgText;if(1===e.length){var n=e[0];(n.isUser&&n.contact.isBlocked()?(0,f.unblockContact)(n.contact):Promise.resolve(!0)).then((function(){if(t){if(n.urlText=a.props.urlText,n.active)return void h.default.pasteChatTextInput(n,t);n.setComposeContents({text:t})}return h.default.openChatFromUnread(n).then((function(e){e&&h.default.focusChatTextInput(n)}))}))}else Promise.map(e,(function(e){(e.isUser&&e.contact.isBlocked()?(0,f.unblockContact)(e.contact):Promise.resolve(!0)).then((function(){e.urlText=a.props.urlText,(0,b.sendTextMsgToChat)(e,t)}))})),h.default.openChatFromUnread(e[0]);a.end()},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.push(u.createElement(m.default,{onConfirm:this.onForwardConfirmed,maxItems:this.props.serverProps.multicastLimitGlobal,title:g.default.t(898),listType:m.ListType.CHAT_SELECT_MODAL}))}}]),t}(p.default);t.default=function(e){return u.createElement(j,(0,r.default)({},e,{serverProps:v.default}))}},bbabiidfcj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ejiicdbii")),f=i(a("bhehhaehi")),h=i(a("dhigahgdjb")),p=i(a("bdeebiagii")),g=a("ecceajhjba"),m=i(a("cebgbdgebc")),b=i(a("bhfadhddje")),v=i(a("ecbiejfbbg")),j=i(a("ddajejfdfc")),E=i(a("bbecefbeaa")),C=a("dcbdjheea"),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).scrollOffset=0,a.setScrollOffset=function(e){a.scrollOffset=e},a.pushProductDetails=function(e,t){var n=a.props,i=n.chat,r=n.refreshCarousel,o=s.createElement(b.default,{chat:i,product:e,onEnd:a._end,onBack:a._popAndUpdate,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalogHeaderClick,onProductLinkClick:a._onProductLinkClick,refreshCarousel:r,sessionId:t});a.push(o)},a.pushProductDetailsWithDeepLink=function(e,t){var n=s.createElement(v.default,{chat:a.props.chat,productInfo:e,onEnd:a._end,onBack:a._pop,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalogHeaderClick,sessionId:t,onProductLinkClick:a._onProductLinkClick});a.push(n)},a.pushOrderDetail=function(e,t,n,i,r){var o=s.createElement(m.default,{orderId:e,token:t,sellerJid:i,sessionId:n,userIsCartOwner:r,onProductDetail:a.onProductDetailFromInfo});a.push(o)},a.onProductDetail=function(e,t){a.pushProductDetails(e,t)},a.onProductDetailFromInfo=function(e,t){a.pushProductDetailsWithDeepLink(e,t)},a.onProductCatalogHeaderClick=function(e,t){(0,g.logCarouselViewMoreClick)(e.toString(),t),a.pushProductCatalog(e,t)},a._onProductLinkClick=function(e,t){a.push(s.createElement(j.default,{product:e,onBack:a._pop,sessionId:t}))},a._onCatalogLinkClick=function(e,t,n){a.push(s.createElement(f.default,{catalog:e,contact:t,sessionId:n,onBack:a._pop}))},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a._popAndUpdate=function(){a.popAndUpdate({scrollOffset:a.scrollOffset})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.catalogOwnerJid,a=e.orderId,n=e.product,i=e.productInfo,r=e.sessionId;if(t)this.pushProductCatalog((0,C.createWid)(t),r);else if(n)this.pushProductDetails(n,r);else if(i)this.pushProductDetailsWithDeepLink(i,r);else{if(!a)throw new Error("ProductDetailsFlow:no-product");var o=this.props,d=o.token,l=o.sellerJid,c=o.userIsCartOwner;null!=d&&null!=l&&null!=c&&this.pushOrderDetail(a,d,r,l,c)}}},{key:"pushProductCatalog",value:function(e,t){var a=this,n=h.default.gadd(e);u.default.find(e).then((function(i){var r=s.createElement(E.default,{contact:n,onProductDetail:a.onProductDetail,catalogId:e,onBack:a._pop,sessionId:t,businessProfile:i,setScrollOffset:a.setScrollOffset,onCatalogLinkClick:a._onCatalogLinkClick});a.push(r)}))}}]),t}(p.default);t.default=y},bbbdhbgafg:function(e,t){e.exports={playerWrapper:"_2ujUw",mediaViewer:"_3V9DM",mediaStateControls:"_3iFz1",playerBackground:"_2uIPZ",media:"Q6WB7",captionBackdrop:"-X4-D",mediaCaption:"_23ULx",progressBackdrop:"BV48u",progressBarBackdropNarrow:"_2Jbsi",profile:"_2Bot5",nonClickProfile:"_3gls6",profileNarrow:"_24cYz",playerAvatar:"_2zlbz",measuringProfile:"BlMmR",profileMac:"_196i-",msgInfo:"_2yhFa",msgInfoName:"_3Z-tq",timestamp:"_1P2IU",playerContent:"_3FmOE",statusPanelPlayerContent:"_7sFoS",statusThumbnailPlayerContent:"_1FSTV",loading:"_1WjEc",v3Image:"_1B6oZ",v3Video:"_1Aq44",text:"_2V1gP",textLarge:"km5CG",textMedium:"_3dSL7",textSmall:"jV5FO",font_1:"_9j2D5",font1:"_9j2D5",font_2:"_2opCM",font2:"_2opCM",font_3:"_3aukJ",font3:"_3aukJ",font_5:"_3teTU",font5:"_3teTU",unknown:"_1tJVZ",textThumbnailPlayerContent:"_2ZDu_"}},bbfcdhjiba:function(e,t){e.exports={linkContainer:"_3IEXN",descContainer:"_3apaC",icon:"_1wLOU"}},bbjcfdhfhb:function(e,t){e.exports={screenshots:"Iuovr",action:"_1BSOk",disabled:"-Hzmj",screenshotPreview:"_3fj4M",screenshotsImg:"_1zxTv",btnDelete:"_3Q_6m"}},bbjdchejje:function(e,t){e.exports={container:"_3quUt",textContainer:"FeIeL",spinner:"_2Y_7C"}},bbjddegdbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),g=i(a("bjigbaghc")),m=i(a("hgigjbgie")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=i(a("ddeefhbafc")),C=n(a("cajijabhgb")),y=a("dgjddffcfg"),S=i(a("jheedhagg")),_=i(a("bdjjabfecc")),k=i(a("hajhefagc")),M=i(a("cfcfdeifjb")),I=i(a("ebhaddigcf")),T=a("bbbdgehigj"),L=i(a("dhccahhefj")),P=a("bggdhciede"),w=i(a("dcdbbhicce")),N=a("bijjheifie"),O=i(a("dhhjhedjij")),A=i(a("dbihaeaggd"));function R(){var e=(0,r.default)(["ProfileDrawer: failed to set/delete profile image"]);return R=function(){return e},e}var D=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,c.default)(t).call(this,e))).onBack=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.validateStatus=function(e){return!!(e||"").trim()},a.onStatusBegin=function(){a.isEditingStatus=!0},a.onSetStatusError=function(){h.default.openModal(u.createElement(p.default,{onOK:function(){return h.default.closeModal()},okText:_.default.t(1588)},_.default.t(169)))},a.onSetStatus=function(){if(null!=a.state.status){a.isEditingStatus=!1;var e=a.props.status.status,t=(0,y.emojify)(a.state.status);if(t===e)return a.setState({status:t});a.setState({pendingStatus:!0}),(0,N.setMyStatus)((0,y.emojify)(a.state.status)).checkpoint(a.props.rejectOnUnmount()).then((function(){a.setState({pendingStatus:!1})})).catchType(C.Unmount,(function(){}))}else a.onCancelStatus()},a.onStatusChange=function(e){a.setState({status:e})},a.onCancelStatus=function(){a.isEditingStatus=!1,a.setState({status:a.props.status.status})},a.onPushnameBegin=function(){a.isEditingPushname=!0},a.validatePushname=function(){var e,t=a.state.pushname;return(t=(t||"").trim())?/[\u2714\u2705\u2611]/g.test(t)&&(e=_.default.t(164)):e=_.default.t(161),!e||(a.onSetPushnameError(e),!1)},a.onSetPushname=function(){if(a.isEditingPushname=!1,g.default.canSetMyPushname()){var e=a.state.pushname;if((e=(0,y.emojify)((e||"").trim()))===a.props.conn.pushname)return a.setState({pushname:e});a.setState({pendingPushname:!0}),(0,P.setPushname)(e).checkpoint(a.props.rejectOnUnmount()).then((function(){a.setState({pendingPushname:!1})})).catchType(C.Unmount,(function(){}))}},a.onSetPushnameError=function(e){h.default.openModal(u.createElement(p.default,{onOK:function(){return h.default.closeModal()},okText:_.default.t(1588)},e))},a.onPushnameChange=function(e){a.setState({pushname:e})},a.onCancelPushname=function(){a.isEditingPushname=!1,a.setState({pushname:a.props.conn.pushname})},a.onImageSet=function(e,t){var n=a.props.profilePicThumb;a.setState({pendingPhoto:!0}),(e&&t?(0,T.setProfilePic)(n,e,t):(0,T.deleteProfilePic)(n)).checkpoint(a.props.rejectOnUnmount()).catchType(C.Unmount,(function(){})).catchType(C.ActionError,(function(){__LOG__(3)(R())})).finally((function(){a.setState({pendingPhoto:!1})}))},a.state={pushname:e.conn.pushname,status:e.status.status,pendingPushname:!1,pendingStatus:!1,pendingPhoto:!1},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.conn,a=e.status,n=e.profilePicThumb,i=this.isEditingStatus||this.state.pendingStatus?this.state.status:a.status,r=u.createElement(E.default,{a8nText:"col-main-profile",title:_.default.t(1662),theme:"padding"},u.createElement(A.default,{a8n:"col-main-profile-input",value:i,editable:!0,pending:this.state.pendingStatus,showRemaining:!0,validate:this.validateStatus,maxLength:m.default.MAX_STATUS_LENGTH,onBeginEdit:this.onStatusBegin,onChange:this.onStatusChange,onSave:this.onSetStatus,onError:this.onSetStatusError,onCancel:this.onCancelStatus,supportsEmoji:!0,lockable:!0,lowProfile:!0})),o=_.default.t(835),d=!n.canSet()&&!n.canDelete(),l=this.isEditingPushname||this.state.pendingPushname?this.state.pushname:t.pushname,c=g.default.isSMB?_.default.t(319):_.default.t(1096);return u.createElement(b.default,null,u.createElement(j.default,{a8n:"drawer-title-profile",title:o,onBack:this.onBack,type:j.DRAWER_HEADER_TYPE.LARGE}),u.createElement(v.default,null,u.createElement("div",{className:I.default.photoPickerWrapper},u.createElement(k.default,{type:M.default.PROFILE,id:n.id,attachToChat:!1,pending:this.state.pendingPhoto,startImage:n.imgFull,readOnly:d,onImageSet:this.onImageSet})),u.createElement(E.default,{a8nText:"col-main-profile",title:_.default.t(1095),theme:"padding"},u.createElement(A.default,{a8n:"col-main-profile-input",value:l,editable:g.default.canSetMyPushname(),pending:this.state.pendingPushname,showRemaining:!0,validate:this.validatePushname,maxLength:m.default.MAX_PUSHNAME_LENGTH,onBeginEdit:this.onPushnameBegin,onChange:this.onPushnameChange,onSave:this.onSetPushname,onCancel:this.onCancelPushname,supportsEmoji:!0,lockable:!0,lowProfile:!0})),u.createElement("div",{"data-a8n":f.default.key("pushname-description"),className:I.default.nameWrapper},u.createElement(O.default,{theme:"muted"},c)),r))}}]),t}(u.Component);D.CONCERNS={profilePicThumb:["imgFull","id"],status:["status"],conn:["pushname"]};var x=(0,S.default)((0,L.default)((0,w.default)(D,D.CONCERNS)));t.default=x},bdddighcdb:function(e,t){e.exports={container:"_35GjP",preview:"_1Ox6A",img:"_2GAs0"}},bdeggjiff:function(e,t){e.exports={inputEmoji:"_12nPN",wrapper:"_2ySBn",textInput:"_3W-fv",labelText:"_1JGAF",clearInput:"_3p_k1",float:"xvoW3",textActive:"_3-AJi",suggestionsPositioner:"_2ixfz",suggestionsContainer:"_1VeWU",charCounter:"_1uhQ1",inputControls:"_1Rpm4",charCounterWithClearBtn:"EUANy",spacer:"zkNWi",noPlaceholder:"_2O2Nu",buttonContainer:"_3gbKQ",active:"QRMJR"}},bdehjcecig:function(e,t){e.exports={addLabelBtContainer:"_26iID"}},bdijbhadid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("eabehhacha")),f=i(a("cfadcbbiie")),h=i(a("hhcjfgifh")),p=i(a("gfebgebbi")),g=i(a("cffjbgdgeg")),m=i(a("dcdbbhicce")),b=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.contact,n=t.msgInfoParticipant,i=s.createElement(h.default,{id:a.id}),r=f.default.relativeDateAndTimeStr(n.t),o=s.createElement("span",{title:r},r);return!a.name&&a.notifyName&&(e=s.createElement(p.default,{className:g.default.notifyName,direction:"auto",text:a.notifyName})),s.createElement(u.default,{contextEnabled:function(){return!1},image:i,primary:a.formattedName,secondary:o,secondaryDetail:e,style:{cursor:"auto"},theme:"drawer-list",idle:!0})}}]),t}(s.PureComponent);b.CONCERNS={msgInfoParticipant:["t"],contact:["id","name","formattedName","notifyName"]};var v=(0,m.default)(b,b.CONCERNS);t.default=v},bdjjahdegi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("bdjjabfecc")),p=i(a("bbjdchejje")),g=a("dgjfidhijd"),m=i(a("ecdebjcgfa")),b=i(a("dhhjhedjij")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={licensesText:void 0},a.onOk=function(){a.props.onOk&&a.props.onOk(),u.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t;return this.state.licensesText||(e=s.createElement("div",{className:p.default.spinner,key:"spinner"},s.createElement(m.default,{size:50,stroke:4}))),this.state.licensesText&&(t=s.createElement("div",{className:p.default.textContainer},this.state.licensesText)),s.createElement(f.default,{okText:h.default.t(1588),onOK:this.onOk,type:g.FlexModalType},s.createElement("div",{className:p.default.container},s.createElement(b.default,{theme:"popup-title"},h.default.t(760)),t,e))}}]),t}(s.Component);t.default=v},beabdcijfe:function(e,t){e.exports={deviceInfo:"_1D_7f",deviceInfoLabel:"YyTKC",deviceInfoCheckbox:"_3ywfP"}},befdeebfeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("gfebgebbi")),g=i(a("bdeebiagii")),m=i(a("jgjccejgb")),b=i(a("bdjjabfecc")),v=a("cgjcdbggeb"),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).filter=function(e){var t=e.groupMetadata;return!(!e.isGroup||e.isGroup&&!t.participants.iAmMember())&&(t.participants.get(a.props.contact.id)?b.default.t(1746):!!t.participants.iAmAdmin()||b.default.t(396))},a.confirmAddToGroup=function(e){a.push(s.createElement(h.default,{onOK:a.addToGroup.bind(null,e),okText:b.default.t(1744),onCancel:a._pop,cancelText:b.default.t(1436)},s.createElement(p.default,{text:b.default.t(420,{participant:a.props.contact.formattedName,subject:e.contact.name})})))},a.addToGroup=function(e){(0,v.addParticipants)(e,[a.props.contact]).then((function(){f.default.openChatFromUnread(e).then((function(t){t&&f.default.focusChatTextInput(e)}))})).catch((function(){})),a.end()},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(m.default,{chats:u.default.filter((function(e){return e.isGroup})),filter:this.filter,onCancel:this._pop,onGroup:this.confirmAddToGroup}))}}]),t}(g.default);t.default=j},bfajgaeghd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.mimeType,i=e.filename;return t&&a?r.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:o.default.preview},r.createElement(l.default,{type:l.FIT_TYPE.SCALE_DOWN,size:a},r.createElement("img",{src:t,className:o.default.img})))):r.createElement(d.default,{mimeType:n,filename:i})};var r=i(a("ddhijeejag")),o=n(a("bdddighcdb")),d=n(a("cggjjcbdia")),l=i(a("difhgjjfcb"))},bfccfbijcg:function(e,t){e.exports={date:"_1Bdqk",info:"_3jPyT"}},bfcdaddgji:function(e,t){e.exports={textThumb:"_29i7H",statusImage:"_3h4IV",container:"_3Osfk"}},bfcfjggjab:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECTIONS=void 0;t.SECTIONS={PLAYED_HEADER:"PLAYED_HEADER",PLAYED_FOOTER:"PLAYED_FOOTER",READ_HEADER:"READ_HEADER",READ_FOOTER:"READ_FOOTER",DELIVERED_HEADER:"DELIVERED_HEADER",DELIVERED_FOOTER:"DELIVERED_FOOTER",FORWARD_COUNT:"FORWARD_COUNT"}},bffajdjibj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("dccbiiffa")),h=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{chat:this.props.chat,onConfirm:this.props.onConfirm}))}}]),t}(u.default);t.default=h},bfffjiagfi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("beecadabde")),p=a("jagjbhcgf"),g=i(a("cbdcjfiefg")),m=i(a("bjjdjibgad")),b=a("dbbhijehii"),v=a("dgjddffcfg"),j=a("dhegcfddhg"),E=i(a("bdjjabfecc")),C=i(a("dhccahhefj")),y=i(a("dfifdafgfa")),S=a("dbbhhgjjbg"),_=i(a("diebdcceag")),k=i(a("dgdcjccfdi")),M=n(a("bjhgigfbec")),I=i(a("cgjdibiahi")),T=i(a("dfciadajdf")),L=i(a("didfdhbecg")),P=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,l.default)(t).apply(this,arguments))).emojiInputComponent=(0,g.default)(),e.isSkinTonePickerOpen=!1,e.onSend=function(t){if(t.preventDefault(),e.inputLine){var a=e.inputLine.value.trim();if(a.length){var n=(0,M.genId)();u.default.find(e.props.msg.sender).then((function(t){return f.default.openToast(s.createElement(M.default,{msg:E.default.t(1235),id:n})),(0,S.sendTextMsgToChat)(t,(0,v.emojify)(a),{quotedMsg:e.props.msg})})).then((function(){e.props.onSend()})).catchType(h.default,(function(){var t=e.state.chat;t&&f.default.openToast(s.createElement(M.default,{msg:E.default.t(1438,{contact:t.contact.formattedName}),id:n}))})),e.inputLine&&e.inputLine.reset(),e.emojiPickerClose(),e.props.dismissReply()}}},e.onFocus=function(){e.setState({focused:!0})},e.onBlur=function(){e.isSkinTonePickerOpen||document.activeElement===document.body&&e.setState({focused:!1})},e.onSkinTonePicker=function(t){e.isSkinTonePickerOpen=t},e.isFocused=function(){return e.state.focused},e.onEmojiPicker=function(t){t&&(t.preventDefault(),t.stopPropagation());var a=s.createElement(m.default,{onEmoji:e.onEmoji,onFocusNext:e.restoreFocus,onFocusPrev:e.restoreFocus});e.setState({emojiPicker:{menu:a,dirY:p.DirY.TOP,type:"emoji_picker",anchor:t.target}})},e.onEmoji=function(t){e.inputLine&&e.inputLine.replaceSelection(t)},e.restoreFocus=function(){e.inputLine&&e.inputLine.focus()},e.restoreEmojiPickerFocus=function(){if(e.refEmojiPickerUIE){var t=e.refEmojiPickerUIE.getRef();if(t){var a=t.getElement();a&&a.restoreFocus()}}},e.emojiPickerClose=function(){e.setState({emojiPicker:void 0})},e.setRefEmojiPickerUIE=function(t){e.refEmojiPickerUIE=t},e.state={replyCaption:"",focused:!1,emojiPicker:void 0,chat:void 0},u.default.find(e.props.msg.sender).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({chat:t})})),e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(e,t){this.shouldPausePlayback(t)&&!this.shouldPausePlayback(this.state)?this.props.play():!this.shouldPausePlayback(t)&&this.shouldPausePlayback(this.state)&&this.props.pause()}},{key:"shouldPausePlayback",value:function(e){return e.emojiPicker||e.focused}},{key:"isPaused",value:function(){return this.shouldPausePlayback(this.state)}},{key:"render",value:function(){var e,t,a;this.state.emojiPicker&&(e=s.createElement(I.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPickerUIE,requestDismiss:this.emojiPickerClose,requestFocus:this.restoreEmojiPickerFocus},s.createElement(T.default,{contextMenu:this.state.emojiPicker})),t=s.createElement(I.default,{displayName:"EmojiPicker",escapable:!0,requestFocus:this.restoreEmojiPickerFocus},s.createElement("div",null,e)));var n=this.state.chat;n&&this.state.focused&&!this.state.emojiPicker&&(a=s.createElement(I.default,{displayName:"StatusV3Reply",escapable:!0,requestDismiss:this.props.dismissReply},s.createElement("div",{className:_.default.popupPanel},s.createElement(y.default,{msg:this.props.msg,theme:"statusV3",key:this.props.msg.id.toString(),chat:n}))));var i=this.emojiInputComponent;return s.createElement("div",{className:_.default.container},s.createElement(L.default,{transitionName:"status-v3-quoted-msg",transitionAppear:!0},a),s.createElement("div",{className:_.default.wrapper},s.createElement("button",{className:_.default.emojiIcon,onClick:this.onEmojiPicker},s.createElement(k.default,{name:"smiley"})),s.createElement("div",{className:_.default.lineWrapper},s.createElement(i.EmojiSuggestions,{theme:b.ThemeOptions.EMOJI_INPUT,onSkinTonePicker:this.onSkinTonePicker}),s.createElement(i,{ref:(0,j.GetRef)("inputLine",this),theme:"status-reply",spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,onEnter:this.onSend,placeholder:E.default.t(1281),editable:!0,multiline:!0})),s.createElement("button",{className:_.default.sendIcon,onClick:this.onSend},s.createElement(k.default,{name:"send",directional:!0})),t))}}]),t}(s.Component),w=(0,C.default)(P);t.default=w},bfjchjfbhj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dhigahgdjb")),f=i(a("bdeebiagii")),h=i(a("hdhcfhidh")),p=i(a("cejfghgbfb")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onSetGroupInfo=function(e){a.push(s.createElement(h.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){u.default.ensureSorted(),this.push(s.createElement(p.default,{onBack:this.end,onContinue:this.onSetGroupInfo}))}}]),t}(f.default);t.default=g},bgcdjjjjad:function(e,t){e.exports={versionInfo:"y8PkG"}},bgedfbagfd:function(e,t){e.exports={more:"_91S5v",hotKeyWraper:"_3kh3d"}},bgeffbghdh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bdeebiagii")),h=i(a("ebddggeaib")),p=i(a("cjfjhjdfaa")),g=i(a("bjihjhccce")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).sessionId=Math.round(1e9*Math.random()),a.openStatusViewer=function(e,t,n){a.push(s.createElement(g.default,{initialStatusV3:e,initialStatusMsg:t,closeStatusViewer:a.closeStatusViewer,sessionId:a.sessionId,rowIdx:n}),"none")},a.closeStatusViewer=function(e){e?a.end():a.pop("none")},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(s.createElement(p.default,{onOpenStatus:this.openStatusViewer,closeStatusViewer:this.closeStatusViewer,sessionId:this.sessionId}),"status-v3-modal"),this.props.listeners.add(u.default,"close_status_viewer",(function(){e.closeStatusViewer(!0)}))}},{key:"componentWillUnmount",value:function(){this.props.onFlowEnd()}}]),t}(f.default),b=(0,h.default)(m);t.default=b},bggdhciede:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushname=function(e){return function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,d.genId)(),n=(0,f.default)(t),i=new d.ActionType(u.default.t(165)),r=c.default.pushname,g=n.then((function(){return new d.ActionType(u.default.t(162),u.default.t(177),(function(){return e(r,a)}))})).catchType(s.ServerStatusCodeError,(function(e){if(e.status>=400)return new d.ActionType(u.default.t(163))})).catch((function(){throw __LOG__(3)(p()),new d.ActionType(u.default.t(163),u.default.t(173),(function(){return e(status,a)}))}));return l.default.openToast(o.createElement(d.ActionToast,{id:a,initialAction:i,pendingAction:g})),n.then((function(e){e._duplicate||(0,h.setPushnameLocally)(t)}))}(e)};var r=i(a("dfadhaifh")),o=n(a("ddhijeejag")),d=a("dheeaichcj"),l=i(a("ccbgfecegc")),c=i(a("bjigbaghc")),s=a("bgihjbde"),u=i(a("bdjjabfecc")),f=i(a("gfhdfcfge")),h=a("diibfjicfe");function p(){var e=(0,r.default)(["models:conn:setPushname dropped"]);return p=function(){return e},e}},bghfehcaaj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("bgeijhbbad")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("fcdheigeg")),g=i(a("hgigjbgie")),m=a("cedhgehjef"),b=i(a("dcdbbhicce")),v=a("cjfegjecaj"),j=i(a("dgdcjccfdi"));function E(){var e=(0,r.default)(["media is"]);return E=function(){return e},e}var C=g.default.MSG_TYPE,y=C.IMAGE,S=C.VIDEO,_=C.DOCUMENT,k=C.AUDIO,M=(0,u.default)(m.MIMETYPES,(function(e){return e.msgType===_})),I=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i))))._onClick=function(e){a.props.onClick&&a.props.onClick((0,v.unproxy)(a.props.attachMedia),e)},a._onClose=function(e){a.props.onClose&&a.props.onClose((0,v.unproxy)(a.props.attachMedia),e)},a.setRef=function(e){e&&a.props.onRef(a.props.id,e)},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"_renderBody",value:function(){var e,t,a,n=this.props.attachMedia;switch(n.type){case y:a={backgroundImage:"url(".concat(n.preview,")")},e=h.createElement("div",{className:p.default.body,style:a});break;case S:a={backgroundImage:"url(data:image/jpeg;base64,".concat(n.preview,")")},e=h.createElement("div",{className:p.default.body,style:a});break;case k:e=h.createElement("div",{className:(0,f.default)(p.default.body,"attach-media-audio-thumb")});break;case _:if(__LOG__(2)(E()),n.preview){var i={backgroundImage:"url("+n.preview+")"};e=h.createElement("div",{className:p.default.body,style:i});break}M[n.mimetype]&&(t=M[n.mimetype].icon);default:t=(0,f.default)(p.default.body,p.default.bodyDoc,t,{"icon-doc-generic":!t}),e=h.createElement("div",{className:t})}return e}},{key:"render",value:function(){var e=(0,f.default)(p.default.thumb,{[p.default.active]:this.props.active});return(h.createElement("div",{className:e,onClick:this._onClick,role:"button",ref:this.setRef},h.createElement("div",{className:p.default.btnDelete,onClick:this._onClose,role:"button"},h.createElement(j.default,{name:"x-alt"})),this._renderBody()))}}]),t}(h.PureComponent);I.CONCERNS={attachMedia:["mimetype","preview","type"]};var T=(0,b.default)(I,I.CONCERNS);t.default=T},bgiafagffb:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement(c.MenuBarItem,{a8nText:"live-location-map-menu",icon:r.createElement(s.default,{name:"menu"}),title:l.default.t(843)},r.createElement(o.default,{type:"dropdown_menu",flipOnRTL:!0,dirX:o.DirX.LEFT,dirY:o.DirY.BOTTOM},r.createElement(d.default,{a8n:"mi-roadmap-view menu-item",action:e.onRoadmapSelected},l.default.t(775)),r.createElement(d.default,{a8n:"mi-satellite-view menu-item",action:e.onSatelliteSelected},l.default.t(776)),r.createElement(d.default,{a8n:"mi-terrain-view menu-item",action:e.onTerrainSelected},l.default.t(777)),r.createElement(d.default,{a8n:"mi-traffic menu-item",action:e.onTrafficToggled},e.showTraffic?l.default.t(778):l.default.t(779))))};var r=i(a("ddhijeejag")),o=i(a("jagjbhcgf")),d=n(a("dgebcfedgb")),l=n(a("bdjjabfecc")),c=a("cadfgefaja"),s=n(a("dgdcjccfdi"))},bgiehaehhh:function(e,t){e.exports={confirmationText:"_2Z31t"}},bgjbchbhhc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfhfdchaij")),f=i(a("bdeebiagii")),h=i(a("cjgdgbgbj")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(s.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(u.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(f.default);t.default=p},bhbeigbaec:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=a("djfeeacgad"),u=n(a("ddhijeejag")),f=a("ceagbbhcha"),h=a("chcfhehffe"),p=i(a("ciehddchae")),g=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).setMap=function(e){return a.map=e},a.mapOnClick=function(){a.dismissMarkerTimer.debounceAndCap(50,100)},a.markerOnClick=function(){a.dismissMarkerTimer.isScheduled()&&a.dismissMarkerTimer.cancel(),a.props.onMarkerSelected(!0)},a.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},a.dismissMarkerTimer=new s.ShiftTimer((function(){a.props.markerSelected&&a.props.onMarkerSelected(!1)})),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"getMapPaneName",value:function(){return f.OverlayView.OVERLAY_MOUSE_TARGET}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.lat,n=t.lng,i=t.contact,r=t.markerSelected;return u.createElement(p.default,{marker:{isLive:!1,contact:i,lat:a,lng:n,selected:r,onClick:function(t){return e.markerOnClick(t)}}})}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?u.createElement(f.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng;return u.createElement(f.GoogleMap,{ref:this.setMap,defaultCenter:{lat:t,lng:a},defaultOptions:this.props.getMapOptions(),defaultZoom:h.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick},this.getMarkers(),this.getTrafficLayer())}}]),t}(u.Component),m=(0,h.withConfig)((0,f.withScriptjs)((0,f.withGoogleMap)(g)));t.default=m},bhcggbhcjc:function(e,t){e.exports={wallpaperApplyDoodle:"_2Z_v_",checkboxLabel:"_3KUR0",wallpaperColorGrid:"_5MCSh",wallpaperColorCanvas:"_1m6L6",wallpaperDefaultTitle:"_2j0wR",wallpaperColorEmpty:"_23cKE",canvasHover:"_2WHSU",canvasActive:"_1rIeG",canvasDefault:"_3lqL6"}},bhfeiiegef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("bdjjabfecc")),p=i(a("bffejjbgd")),g=i(a("dcacggaedc")),m=i(a("dighddcfg")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={theme:"system"},a._handleThemeChange=function(e){var t,n=null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value;"light"!==n&&"dark"!==n&&"system"!==n||a.setState({theme:n})},a._handleOk=function(){var e=a.state.theme;"system"===e?(a.context.setSystemThemeMode(!0),a.context.setTheme(g.default.currentTheme)):(a.context.setSystemThemeMode(!1),a.context.setTheme(e)),u.default.closeModal()},a._handleCancel=function(){u.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.setState({theme:this.context.systemThemeMode?"system":this.context.theme})}},{key:"render",value:function(){var e=this.state.theme;return s.createElement(f.default,{title:h.default.t(1274),onOK:this._handleOk,onCancel:this._handleCancel},s.createElement("form",null,s.createElement("ol",null,s.createElement("li",{key:"light"},s.createElement("label",{className:p.default.label},s.createElement("input",{type:"radio",name:"theme",value:"light",className:p.default.input,checked:"light"===e,onChange:this._handleThemeChange}),h.default.t(1273))),s.createElement("li",{key:"dark"},s.createElement("label",{className:p.default.label},s.createElement("input",{type:"radio",name:"theme",value:"dark",className:p.default.input,checked:"dark"===e,onChange:this._handleThemeChange}),h.default.t(1272))),s.createElement("li",{key:"system"},s.createElement("label",{className:p.default.label},s.createElement("input",{type:"radio",name:"theme",value:"system",className:p.default.input,checked:"system"===e,onChange:this._handleThemeChange}),h.default.t(1275))))))}}]),t}(s.PureComponent);t.default=b,b.contextType=m.default},bhheibic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),g=i(a("bdeebiagii")),m=i(a("bihjahgcja")),b=i(a("cichhcjjd")),v=i(a("bdjjabfecc")),j=n(a("chbeahhfcj")),E=i(a("bfgbdiffgd")),C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).requestFocus=function(){var e=a.refUIE;if(e){var t=e.getRef();t&&t.onFocusList&&t.onFocusList()}},a.onForwardConfirmed=function(e){var t=a.props,n=t.msgs,i=t.onForward;u.default.forwardMessagesToChats(n,e).catchType(m.default,(function(e){a.showMediaSendError(e.reasons)})),a.end(),i&&i(n),f.default.openChatFromUnread(e[0])},a.showMediaSendError=function(e){var t=e.map((function(e){var t=e.chat,a=e.reason;return s.createElement("p",{key:t.id.toString()},t.formattedTitle," : ",a)}));f.default.openModal(s.createElement(h.default,{onOK:function(){return f.default.closeModal()},okText:v.default.t(1588)},t),void 0)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e,t=this.props.msgs,a=v.default.t(598,{_plural:t.length||1}),n=t[0],i=n&&n.chat;e="video"!==n.type&&"image"!==n.type?"message":n.type;var r,o=t.some((function(e){return e.isFrequentlyForwarded})),d=t.filter((function(e){return!e.isFrequentlyForwarded&&e.getForwardingScoreWhenForwarded()===p.default.FREQUENTLY_FORWARDED_SENTINEL}));E.default.frequentlyForwardedMessages&&d.length&&(r=s.createElement(b.default,{frequentlyForwardedCount:d.length,totalCount:t.length}));var l=E.default.frequentlyForwardedMessages&&o?E.default.frequentlyForwardedMax:E.default.multicastLimitGlobal;this.push(s.createElement(j.default,{onConfirm:this.onForwardConfirmed,maxItems:l,excludeChat:i,excludeBroadcast:!0,msgType:e,title:a,listType:j.ListType.CHAT_SELECT_MODAL,customHeader:r,hasFrequentlyForwarded:o,showEphemeralIcon:!0}))}}]),t}(g.default);t.default=C},bhigchjbgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("dbafiicfja")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("hgigjbgie")),g=a("cgejchjdhj"),m=i(a("bbaacgghch")),b=i(a("ddajbaceej")),v=i(a("dhfbfehaef")),j=i(a("eccdcgiace")),E=i(a("cahfddcdga")),C=i(a("bcddhhfhda")),y=i(a("dcaibchbg")),S=i(a("ecdebjcgfa")),_=i(a("diffaiehid"));function k(){var e=(0,r.default)(["Assertion failed!"]);return k=function(){return e},e}var M=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={},a.setRefBody=function(e){a.refBody=e},a.refImages=new Map,a.setRefImage=function(e,t){t?a.refImages.set(e,t):a.refImages.delete(e)},a.setImageRefCache=new C.default(a.setRefImage),a.selection=new y.default(a.props.thumbnails,(function(e){return e.id})),a._handleHotKeysRef=function(e){a._refHotKeys=e},a.handleMouseDown=function(e){e.preventDefault(),e.stopPropagation()},a.handleClick=function(e){var t=e.target;a.props.onImageClick&&1===t.nodeType&&"IMG"===t.tagName&&a.props.onImageClick(t.src)},a.handleEnter=function(){var e=a.selection.getVal();e||(__LOG__(4,!1,new Error)(k()),SEND_LOGS("No value selected, but enter clicked")),a.props.onImageClick&&e&&a.props.onImageClick(e.thumbUrl)},a._requestMoreImagesIfNeeded=function(){if(!a.props.isLoadingMore&&a.props.canLoadMore&&a.props.onRequestMoreImages){if(!a.refBody)throw new Error("Requesting more images when body not rendered");a.refBody.scrollTop+p.default.SCROLL_FUDGE>a.refBody.scrollHeight-a.refBody.clientHeight&&a.props.onRequestMoreImages()}},a.handleScroll=a.props.throttle(a._requestMoreImagesIfNeeded,100),a.selectPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setPrev(!1),a._updateSelected(!0,!0)},a.selectNext=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!1),a._updateSelected(!0,!0)},a.selectPrevRow=function(e){if(e.preventDefault(),e.stopPropagation(),0===a.selection.index&&a.props.onFocusPrev)a.props.onFocusPrev();else{var t=Math.max(a.selection.index-3,0);a.selection.set(t,!1,!1),a._updateSelected(!0,!0)}},a.selectNextRow=function(e){e.preventDefault(),e.stopPropagation(),a.selection.set(a.selection.index+3,!1,!1),a._updateSelected(!0,!0)},a.handleFocus=function(e){e.stopPropagation(),e.preventDefault(),(null==a.selection.index||a.selection.index<0)&&a.selection.setFirst(!1),a._updateSelected(!0,!1);var t=(0,E.default)(a.refImages.get("".concat(a.selection.index)),"_this.refImages.get(`${_this.selection.index}`)").getElementsByClassName(j.default.imageGalleryItemOverlay);if(1!==t.length)throw new Error("Unexpected number of overlay elements ".concat(t.length));m.default.maybeIndicateFocus(t[0],j.default.focusAnimation)},a.handleRequestDismiss=function(){a.selection.unset(),a.setState({selectedImage:void 0})},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this._updateSelected()}},{key:"componentDidUpdate",value:function(){this._requestMoreImagesIfNeeded(),this.selection.init(this.props.thumbnails,!1),this._updateSelected()}},{key:"focus",value:function(){this._refHotKeys&&this._refHotKeys.focus()}},{key:"_updateSelected",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.selection.getVal();if(t&&this.state.selectedImage!==t&&(this.setState({selectedImage:t}),this.selection.index>-1)){var a=this.refImages.get("".concat(this.selection.index));b.default.focus(a),e&&a&&(0,g.scrollIntoViewIfNeeded)(a,!1)}}},{key:"render",value:function(){var e=this,t={down:this.selectNextRow,enter:this.handleEnter,left:this.selectPrev,right:this.selectNext,up:this.selectPrevRow},a=(0,u.default)(this.props.thumbnails,(function(t,a){var n=t.id,i=t.thumbUrl,r=!!e.state.selectedImage&&e.state.selectedImage.id===n,o=(0,f.default)(j.default.imageGalleryItem,{[j.default.selected]:r}),d=h.createElement("div",{className:j.default.imageGalleryItemOverlay});return h.createElement("div",{key:n,ref:e.setImageRefCache.getRefSetter("".concat(a)),className:o,tabIndex:-1},d,h.createElement("img",{onClick:e.handleClick,className:j.default.imageGalleryItemImage,src:i}))})),n=this.props.isLoadingMore?h.createElement("div",{tabIndex:-1,className:j.default.imageGalleryFooter},h.createElement(S.default,{stroke:6,size:24})):null;return h.createElement(v.default,{className:j.default.imageGallery,"data-tab":p.default.TAB_ORDERS.CHAT_IMAGE_GALLERY,handlers:t,onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onRef:this._handleHotKeysRef},h.createElement("div",{ref:this.setRefBody,className:j.default.imageGalleryList,onScroll:this.handleScroll},a,h.createElement("div",{tabIndex:-1,className:j.default.imageGalleryItemSpacer}),h.createElement("div",{tabIndex:-1,className:j.default.imageGalleryItemSpacer}),h.createElement("div",{tabIndex:-1,className:j.default.imageGalleryItemSpacer}),n))}}]),t}(h.PureComponent);M.defaultProps={thumbnails:[]};var I=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,d.default)(t,[{key:"focus",value:function(){this.getComponent().focus()}}]),t}((0,_.default)(M));t.default=I},bhjcihggie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("defdgchjjh")),f=i(a("ccbgfecegc")),h=n(a("dgffihajaa")),p=n(a("cajijabhgb")),g=i(a("bdeebiagii")),m=n(a("dciajcgfie")),b=n(a("dcecgegjfc")),v=n(a("dgjfidhijd")),j=a("difhgjjfcb"),E=i(a("dhccahhefj")),C=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).refCaptureDrawer=null,a.setRefCaptureDrawer=function(e){a.refCaptureDrawer=e},a.pushPermissionModal=function(){a.push(s.createElement(m.default,{messaging:m.Messaging.CAMERA,type:m.default.TYPE.GUIDE_ALLOW,onConfirm:a.popModal}),"modal")},a.popModal=function(){a.pop("modal")},a.startCaptureDrawer=function(){var e=b.start("camera",a.pushPermissionModal);Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then((function(e){a.refCaptureDrawer||a.popModal(),e&&a.refCaptureDrawer&&a.refCaptureDrawer.loadNewStream(e)})).catchType(p.GUM.NotAllowedError,(function(){a.cleanUp(),f.default.openModal(s.createElement(m.default,{messaging:m.Messaging.CAMERA_FAIL,type:m.default.TYPE.GUIDE_UNBLOCK}))})).catchType(p.GUM.GUMError,(function(){a.cleanUp(),f.default.openModal(s.createElement(m.default,{messaging:m.Messaging.CAMERA_MISSING,type:m.default.TYPE.GUIDE_NONE}))}))},a.onFinished=function(e,t){a.props.onFinished(e,t),a.cleanUp()},a.cleanUp=function(){a.end()},a.onRetake=function(){a.pop("flow-transition-box-size-drawer-pop"),a.startCaptureDrawer()},a.onCaptured=function(e){a.push(s.createElement(v.default,{type:v.BoxModalType},s.createElement(h.default,{onRetake:a.onRetake,retryText:h.RETRY_OPTIONS.RETAKE,onFinished:a.onFinished,onCancel:a.cleanUp,img:e})),"flow-transition-box-size-drawer-push")},a.handleRequestDismiss=function(e){!1===e&&a.onRetake()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(v.default,{type:v.BoxModalType},s.createElement(u.default,{ref:this.setRefCaptureDrawer,stream:void 0,caption:!1,layoutType:j.FIT_TYPE.COVER,onBack:this.cleanUp,onSend:null,onCaptured:this.onCaptured,chat:void 0}))),this.startCaptureDrawer()}}]),t}(g.default),y=(0,E.default)(C);t.default=y},biaicaiffc:function(e,t){e.exports={container:"_19CZv",body:"_2oifu",footer:"_3iomq",retakeBtn:"_3GDBz",retakeIcon:"_2r9s5",caption:"_3X_xV",videoContainer:"Dp310",video:"uMtP8",btn:"_29bXt",videoInactive:"_3nXJG",btnSend:"_26GvP",image:"_2inq_",snapshot:"_1SiF7"}},bibjjjghee:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.requireBundle=void 0;var r=i(a("ddhijeejag")),o=n(a("cbhegcchgg")),d=n(a("hgigjbgie")),l=n(a("bdjjabfecc")),c=n(a("cgdbgfjefd")),s=(0,n(a("eaeccjdifj")).default)((function(){return Promise.all([a.e(3),a.e(137),a.e(0),a.e(8)]).then(a.t.bind(null,"cdgaidjejh",7)).then((function(e){return e.default}))}),"ContactUsModal");t.requireBundle=s;var u=(0,o.default)({loader:s,loading:e=>r.createElement(c.default,{title:l.default.t(1251),okText:l.default.t(1185),error:Boolean(e.error)}),delay:d.default.LOADABLE_DELAY});t.default=u},bicfacdfic:function(e,t){e.exports={container:"pHJm8",wrapper:"qck8z",mask:"_20MUR",bg:"_2ycY4",foreground:"_1OPL8",filled:"_2K46M",empty:"_2bzue",active:"_2GLsq"}},biebgdijhi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.disabled?c.default.disabled:"",a=e.disabled?null:e.onClick,n=r.createElement("span",{className:c.default.title},d.default.t(1065)),i=r.createElement(l.default,{theme:"compact",disabled:e.disabled},r.createElement(s.default,{name:"catalog"}));return r.createElement(o.default,{image:i,onClick:a,primary:n,theme:"list-button-compact",className:t})};var r=i(a("ddhijeejag")),o=n(a("cefccdiabc")),d=n(a("bdjjabfecc")),l=n(a("efedbfchg")),c=n(a("egjijhafj")),s=n(a("dgdcjccfdi"))},biegjchieg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onClick,a=(0,r.default)(d.default.addItemButton,{[d.default.themeDefault]:"default"===e.theme,[d.default.themeInList]:"in-list"===e.theme});return o.createElement(l.default,{theme:"add-item",image:o.createElement("div",{className:d.default.addIcon}),customImage:!0,primary:c.default.t(369),className:a,onClick:t})};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),d=i(a("ccdihgbaa")),l=i(a("cefccdiabc")),c=i(a("bdjjabfecc"))},bihbbbcghi:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("dcdbbhicce")),h=i(a("deafgdcafd")),p=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,d.default)(t,[{key:"genCircle",value:function(e){var t=100+this.props.stroke;return u.createElement("circle",(0,r.default)({cx:t/2,cy:t/2,r:50,fill:"none",strokeLinecap:"round",strokeWidth:this.props.stroke},e))}},{key:"genDasharray",value:function(e,t,a,n){for(var i="",r=0;r<e;r++)i+=r===e-1?"".concat(t," ").concat(a-e*(n+t)+n," "):"".concat(t," ").concat(n," ");return i}},{key:"render",value:function(){var e=this.props,t=e.statusV3,a=e.stroke,n=e.size,i=100+a,r="0 0 ".concat(i," ").concat(i),o=t.totalCount,d=10,l=50*Math.PI*2;l-10*o<1&&(d=l/o/1.2);var c,s,f=(l-d*o)/o,p=l/4-d/2,g=t.contact.isMe?0:t.unreadCount,m=o-g;if(g){var b,v=p+o*(d+f);1!==o&&(b=this.genDasharray(g,f,l,d)),c=this.genCircle({strokeDashoffset:v,strokeDasharray:b,className:h.default.unread})}if(m){var j,E=p+m*(d+f);1!==o&&(j=this.genDasharray(m,f,l,d)),s=this.genCircle({strokeDashoffset:E,strokeDasharray:j,className:h.default.read})}return u.createElement("svg",{className:h.default.ring,width:n,height:n,viewBox:r},c,s)}}]),t}(u.PureComponent);p.CONCERNS={statusV3:["unreadCount","totalCount","contact"]},p.defaultProps={size:48,stroke:4};var g=(0,f.default)(p,p.CONCERNS);t.default=g},bihjdjceid:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a=e.mimeType,n=e.url,i=e.isGif,o=e.size,s=e.processing,g=e.preview;switch(p[a].msgType){case"image":t=l.createElement("img",{src:n,className:c.default.img});break;case"video":var m=i?{loop:!s,autoPlay:!s,muted:!1,controls:!1}:{},b=s?l.createElement("div",{className:c.default.spinner},l.createElement(f.default,{color:f.colorOptions.white,size:50,stroke:3})):null,v=g?l.createElement("img",{className:c.default.staticPreview,src:"data:image/jpeg;base64,".concat(g)}):null,j=s?null:l.createElement(h.default,(0,r.default)({controls:!0,controlsList:"nodownload nofullscreen",className:c.default.video},m,{src:n}));t=l.createElement("div",{className:(0,d.default)(c.default.img,c.default.videoContainer)},b,j,v);break;case"audio":t=l.createElement("audio",{controls:!0,className:c.default.audio,type:a,src:n})}return l.createElement("div",{className:c.default.container,"data-animate-attach-media":!0},l.createElement("div",{className:c.default.media},l.createElement(u.default,{type:u.FIT_TYPE.SCALE_DOWN,size:o},t)))};var r=i(a("bacehaajgh")),o=i(a("bgeijhbbad")),d=i(a("ceffhbhahb")),l=n(a("ddhijeejag")),c=i(a("cdeeicghb")),s=a("cedhgehjef"),u=n(a("difhgjjfcb")),f=n(a("ecdebjcgfa")),h=i(a("ecfabjjeda")),p=(0,o.default)(s.MIMETYPES,(function(e){return"image"===e.msgType||"video"===e.msgType}))},bjbifafigc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=n(a("dgffihajaa")),f=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onEnd=function(){a.end()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(u.default,{onCancel:this.onEnd,onFinished:this.onFinished,onRetake:this.props.onRetake,retryText:u.RETRY_OPTIONS.RESTART,img:this.props.img}))}}]),t}(i(a("bdeebiagii")).default);t.default=f},bjcdghhbjh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r.createElement("div",{className:o.default.border})};var r=i(a("ddhijeejag")),o=n(a("cdgfajccbj"))},bjcgjiedih:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("jcfacighg")),u=n(a("ddhijeejag")),f=i(a("bjcdghhbjh")),h=i(a("cefccdiabc")),p=i(a("dhigahgdjb")),g=i(a("chjbbfedjd")),m=i(a("dbgbgeefcf")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=a("cdhbdacigj"),C=i(a("dbfjeecgih")),y=i(a("bbaacgghch")),S=i(a("ddajbaceej")),_=a("dgjddffcfg"),k=i(a("bhbdiadfhj")),M=i(a("dhfbfehaef")),I=i(a("bdjjabfecc")),T=i(a("fiijdaaid")),L=i(a("efedbfchg")),P=i(a("dgdcjccfdi")),w=i(a("diffaiehid")),N=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:""},a.setSearch=function(e){a.search=e},a.setRefList=function(e){a.refList=e},a.flatListController=new C.default,a.onSearch=function(e){a.searchText=e,a._onSearch(e)},a._onSearch=a.props.debounce((function(e){a.setState({searchText:e})}),100),a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),y.default.shouldIndicateFocus(),a.refList&&a.refList.focusFirst())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.frequentContacts[0];if(t)return y.default.shouldIndicateFocus(),void a.props.onClick(e,t);var n=a.getFilteredContacts(a.searchText)[0];n&&(y.default.shouldIndicateFocus(),a.props.onClick(e,n))},a.onFocusSearch=function(){y.default.shouldIndicateFocus(),S.default.focus(a.search)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){S.default.focus(this.search)}},{key:"getFilteredContacts",value:function(e){var t=e;if(p.default.ensureSorted(),!(t="string"==typeof t?t:this.state.searchText))return p.default.getFilteredContacts();var a=p.default.getFilteredContacts().concat(p.default.filter((function(e){return e.name&&!e.isMe&&!e.isPSA&&!e.isWAContact})));t=I.default.accentFold(t);var n=(0,_.numberSearch)(t);return a.filter((function(e){return e.searchMatch(t,n)}))}},{key:"calculateFrequentContacts",value:function(){if(this.state.searchText||!k.default.supportsFeature(k.default.F.FREQUENT_CONTACTS))return[];var e=p.default.frequentContacts("message");return(0,s.default)(e)}},{key:"render",value:function(){var e,t=null,a=this.getFilteredContacts();if(this.frequentContacts=this.calculateFrequentContacts(),e=0===a.length?this.state.searchText?(0,E.SearchWithKeyword)(this.state.searchText):(0,E.SearchWithoutKeyword)():u.createElement(m.default,{ref:this.setRefList,contacts:a,flatListController:this.flatListController,frequentContacts:this.frequentContacts,onClick:this.props.onClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!!this.state.searchText}),!this.state.searchText){var n=u.createElement(L.default,null,u.createElement(P.default,{name:"new-group",directional:!0}));t=u.createElement("div",{"data-list-scroll-offset":!0},u.createElement("div",{className:g.default.newGroupButton},u.createElement(h.default,{image:n,primary:I.default.t(1568),onClick:this.props.onNewGroup}),u.createElement(f.default,null)))}var i={down:this.onFocusList};return u.createElement(b.default,{key:"contact-modal"},u.createElement(j.default,{title:this.props.title,type:j.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(M.default,{handlers:i},u.createElement(T.default,{ref:this.setSearch,onSearch:this.onSearch,onEnter:this.onSelectFirst,placeholder:I.default.t(1155)})),u.createElement(v.default,{flatListControllers:[this.flatListController]},t,e))}}]),t}(u.Component),O=(0,w.default)(N);t.default=O},bjchbacdef:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductInfoDrawer=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cagaiadjai")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),g=i(a("ddeefhbafc")),m=a("ddbdgibbbi"),b=i(a("jheedhagg")),v=i(a("bdjjabfecc")),j=i(a("dbijiicabc")),E=i(a("cbbadbjgcg")),C=i(a("cjdgafagge")),y=i(a("cajcadafab")),S=i(a("dcdbbhicce")),_=i(a("gbbacfeci")),k=i(a("dhhjhedjij")),M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onBack=function(){a.props.onBack&&a.props.onBack()},a.onEditProduct=function(){var e=a.props,t=e.product,n=e.sessionId;a.props.onEditProduct&&a.props.onEditProduct(t,n)},a.onShareProduct=function(){},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.product,a=e.sessionId,n=(0,m.getMaybeMeUser)(),i=_.default.get(n),r=s.createElement(k.default,{theme:"muted",className:E.default.businessInfoTitle,block:!0},v.default.t(318)),o=s.createElement("div",null,s.createElement(u.default,{type:"simplified",onClick:this.onEditProduct},v.default.t(510)),s.createElement(u.default,{type:"primary",onClick:this.onShareProduct},v.default.t(1658))),d=s.createElement("div",{className:E.default.drawerHeader},s.createElement("div",null,t.name),s.createElement("div",{className:E.default.drawerHeaderButtonContainer},o)),l=i?s.createElement(g.default,{title:r,theme:"no-padding"},s.createElement(y.default,{status:i})):null;return s.createElement(f.default,{key:"catalog-link-drawer",theme:"catalog"},s.createElement(p.default,{a8n:"catalog-product-title",title:d,type:p.DRAWER_HEADER_TYPE.SMALL,onBack:this.onBack}),s.createElement(h.default,null,s.createElement("div",{className:E.default.productWrapper},s.createElement(g.default,null,s.createElement(C.default,{product:t,isAvailable:!0,fetching:!1,sessionId:a}),s.createElement(j.default,{product:t,onSendChat:function(){},isAvailable:!0,sessionId:a})),l)))}}]),t}(s.Component);t.ProductInfoDrawer=M,M.CONCERNS={product:["name","priceAmount1000","description","productImageCollection","reviewStatus","url","imageCdnUrl"]};var I=(0,b.default)((0,S.default)(M,M.CONCERNS));t.default=I},bjddhceafh:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fullPreview,a=e.fullPreviewSize,n=e.pageCount,i=e.mimeType,s=e.filename;if(t&&a&&null!=n&&n>0){var u=l.default.t(208,{count:n,_plural:n});return r.createElement("div",{className:d.default.container,"data-js-attach-preview":!0},r.createElement("div",{className:d.default.preview},r.createElement(c.default,{type:c.FIT_TYPE.SCALE_DOWN,size:a},r.createElement("img",{src:t,className:d.default.img}))),r.createElement("div",{className:d.default.caption},u))}return r.createElement(o.default,{mimeType:i,filename:s})};var r=i(a("ddhijeejag")),o=n(a("cggjjcbdia")),d=n(a("ghjbjjbch")),l=n(a("bdjjabfecc")),c=i(a("difhgjjfcb"))},bjfhachbaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bacehaajgh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bdeebiagii")),h=i(a("bdjjabfecc")),p=n(a("chbeahhfcj")),g=i(a("cggehdbfjf")),m=i(a("bfgbdiffgd")),b=i(a("dddhbbadie")),v=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).confirmSendContacts=function(e){a.push(u.createElement(b.default,{contactList:e,onSend:function(){return a.sendContacts(e)},onBack:a._popNone,chat:a.props.chat}),"none"),a.contacts=e},a.sendContacts=function(e){var t=a.props.chat,n=t.composeQuotedMsg,i=t.getComposeContents().ctwaContext||void 0;(0,g.default)(e,t,n,i),t.composeQuotedMsg=null,a.props.onContactsSent(),a.end()},a._getContacts=function(){return a.contacts},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.serverProps.maxParticipants;this.contacts=[],this.push(u.createElement(p.default,{title:h.default.t(1182),onCancel:this._pop,onConfirm:this.confirmSendContacts,getInitialItems:this._getContacts,listType:p.ListType.CONTACT_SELECT_MODAL,maxItems:e,allowBlockedContacts:!0}))}}]),t}(f.default);t.default=function(e){return u.createElement(v,(0,r.default)({},e,{serverProps:m.default}))}},bjhdcidgah:function(e,t,a){e.exports=a.p+"img/animated-doodle_600127bdb5f7627ede5cd4ef320f55b0.png"},bjhfeaeedf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bafcchidfe")),f=i(a("ebjaejiaba")),h=i(a("ccbgfecegc")),p=i(a("bbfjdcedab")),g=i(a("hgigjbgie")),m=i(a("bdeebiagii")),b=i(a("bdjjabfecc")),v=i(a("bijffg")),j=a("dcfieddiah"),E=i(a("cijddbbaja")),C=i(a("bdcchebfge")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).newlyAddedLabels=new Set,a.logWamEvent=function(){var e=a.props.modelsToUpdate.length;a.labelViewType=1===e?a.props.modelsToUpdate[0]instanceof f.default?C.default.LABEL_TARGETS.LABEL_CHAT_DIALOG:C.default.LABEL_TARGETS.LABEL_MESSAGE_DIALOG:C.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG,(0,j.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,e,a.labelViewType)},a.onLabelUpdateComplete=function(){a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete(),a._pop()},a.onAddLabel=function(e,t){v.default.addNewLabel(e,t).then((function(){a.newlyAddedLabels.add(e)}))},a.shouldScrollIntoViewAndSelect=function(e){return a.newlyAddedLabels.has(e)?(a.newlyAddedLabels.delete(e),{shouldScrollIntoView:!0,shouldSelect:!0}):{shouldScrollIntoView:!1,shouldSelect:!1}},a.onAddNewLabel=function(){v.default.toArray().length>=g.default.MAX_SMB_LABEL_COUNT?h.default.openModal(s.createElement(p.default,{okText:b.default.t(1026),onOK:function(){return h.default.closeModal()}},b.default.t(1741,{count:g.default.MAX_SMB_LABEL_COUNT}))):a.push(s.createElement(u.default,{onAddLabel:a.onAddLabel,onCancel:a._pop}))},a.popAndLogEvent=function(){a.labelViewType&&(0,j.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_NEGATIVE,a.props.modelsToUpdate.length,a.labelViewType),a.pop()},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.logWamEvent(),this.push(s.createElement(E.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,onAddNewLabel:this.onAddNewLabel,onLabelUpdateComplete:this.onLabelUpdateComplete,onCancel:this.popAndLogEvent,modelsToUpdate:this.props.modelsToUpdate}))}}]),t}(m.default);t.default=y,y.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},bjiecabhbh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("bebajedcaf")),u=i(a("hhegggegb")),f=i(a("ceffhbhahb")),h=n(a("ddhijeejag")),p=i(a("jgabafafc")),g=n(a("cbbifbghag")),m=i(a("ccbgfecegc")),b=a("dbgjdhbdaj"),v=i(a("dahagdijgh")),j=i(a("bjheffjbgd")),E=n(a("bjjhgjdbhd")),C=i(a("jheedhagg")),y=i(a("dfdgfddgcc")),S=i(a("bdjjabfecc")),_=i(a("ebddggeaib")),k=i(a("ccbgehdigj")),M=i(a("ceibaheeb")),I=a("chcfhehffe"),T=i(a("bgiafagffb")),L=i(a("bbgcdfeifh")),P=i(a("cfhfjfibci")),w=i(a("cicgecaadf")),N=i(a("dcdbbhicce")),O=a("cjfegjecaj"),A=i(a("dgdcjccfdi")),R=i(a("diffaiehid")),D=n(a("bjhgigfbec")),x=i(a("jccfhaecf")),U=a("dcbdjheea"),F=["click","mousedown","mousemove","scroll"],B="ACTIVE",V="INACTIVE",G="OFFLINE",H=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onParticipantAdd=function(){var e=a.state,t=e.zoomLevel,n=e.selectedParticipantId;a.updateMinZoomClusters(),a.setState({clusters:a.getClusters(t,n)})},a.onParticipantRemove=function(e){var t=a.state,n=t.selectedClusterId,i=t.selectedParticipantId,r=t.zoomLevel;a.updateMinZoomClusters();var o=n,d=i;n&&(0,g.participantInCluster)(n,e.id)&&(o=null),x.default.equals(i,e.id)&&(d=null),a.setState({selectedClusterId:o,selectedParticipantId:d,clusters:a.getClusters(r,d)})},a.onParticipantDisable=function(e){if(!e.isMe){var t=e.contact.formattedName;m.default.openToast(h.createElement(D.default,{msg:S.default.t(792,{name:t}),id:(0,D.genId)()}))}},a.onLocationChanged=function(){var e=a.state,t=e.zoomLevel,n=e.selectedParticipantId;a.updateMinZoomClusters(),a.setState({clusters:a.getClusters(t,n)})},a.onIdle=function(){var e=a.props.chat.liveLocation;e&&(e.stopViewingMap(),a.setState({status:V}))},a.onActivity=(0,u.default)((function(){a.removeIdleTimeout(),a.addIdleTimeout()}),250),a.onRefresh=function(){var e=a.props.chat.liveLocation;e&&(e.startViewingMap(),a.setState({status:B}))},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onMarkerSelected=function(e){e?(0,g.singleParticipantClusterId)(e)?a.onParticipantSelected(e):a.onClusterSelected(e):a.onClearSelected()},a.onClearSelected=function(){var e=a.state,t=e.selectedParticipantId,n=e.selectedClusterId,i=e.zoomLevel;(t||n)&&a.setState({selectedParticipantId:null,selectedClusterId:null,clusters:a.getClusters(i)})},a.onClusterSelected=function(e){a.state.selectedClusterId!==e&&a.setState({selectedParticipantId:null,selectedClusterId:e})},a.onParticipantSelected=function(e){var t=a.state,n=t.selectedParticipantId,i=t.zoomLevel,r=(0,U.createWid)(e);x.default.equals(n,r)||a.setState({selectedParticipantId:r,selectedClusterId:null,clusters:a.getClusters(i,r)})},a.onStopSharing=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.chat;m.default.openModal(h.createElement(k.default,{chat:t}))},a.onRoadmapSelected=function(){a.setState({mapType:I.MapType.ROADMAP})},a.onSatelliteSelected=function(){a.setState({mapType:I.MapType.SATELLITE})},a.onTerrainSelected=function(){a.setState({mapType:I.MapType.TERRAIN})},a.onTrafficToggled=function(){a.setState((function(e){return{showTraffic:!e.showTraffic}}))},a.onBackToCenter=function(){a.setState({selectedParticipantId:null,selectedClusterId:null,atCenter:!0,clusters:a.getClusters(a.state.zoomLevel)})},a.onMapMoved=function(e,t){a.setState((function(n){var i={};if(n.zoomLevel!==e){var r=a.getClusters(e,n.selectedParticipantId);Object.assign(i,{zoomLevel:e,clusters:r})}return a.hasValidParticipants()&&n.atCenter!==t&&Object.assign(i,{atCenter:t}),(0,s.default)(i)?null:i}))},a.updateMinZoomClusters(),a.state={clusters:a.getClusters(I.INITIAL_ZOOM),selectedClusterId:null,selectedParticipantId:null,mapType:I.MapType.ROADMAP,showTraffic:!1,zoomLevel:I.INITIAL_ZOOM,atCenter:!0,status:L.default.online?B:G},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.listenToModelChange(),this.listenToNetworkChange(),this.startCheckingForIdle();var e=this.props.chat.liveLocation;e&&(e.startViewingMap(),this.addParticipantListeners(e))}},{key:"componentWillUnmount",value:function(){this.onActivity.cancel();var e=this.props.chat.liveLocation;e&&e.stopViewingMap()}},{key:"addParticipantListeners",value:function(e){this.props.listeners.add(e.participants,"add",this.onParticipantAdd),this.props.listeners.add(e.participants,"remove",this.onParticipantRemove),this.props.listeners.add(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.add(e.participants,"change:valid",this.onLocationChanged)}},{key:"removeParticipantListeners",value:function(e){this.props.listeners.remove(e.participants,"add",this.onParticipantAdd),this.props.listeners.remove(e.participants,"remove",this.onParticipantRemove),this.props.listeners.remove(e.participants,"change:disabled",this.onParticipantDisable),this.props.listeners.remove(e.participants,"change:valid",this.onLocationChanged)}},{key:"listenToModelChange",value:function(){var e=this,t=this.props.chat;this.props.listeners.add((0,O.unproxy)(t),"change:liveLocation",(function(){var a=t.liveLocation;a&&(e.removeParticipantListeners(a),e.addParticipantListeners(a));var n=e.state.zoomLevel;e.setState({clusters:e.getClusters(n)})}))}},{key:"listenToNetworkChange",value:function(){var e=this;this.props.listeners.add(L.default,"change:online",(function(){L.default.online||e.stopCheckingForIdle(),e.setState({status:L.default.online?B:G})}))}},{key:"startCheckingForIdle",value:function(){this.addIdleTimeout(),this.addActivityListeners()}},{key:"stopCheckingForIdle",value:function(){this.removeIdleTimeout(),this.removeActivityListeners()}},{key:"addIdleTimeout",value:function(){this.idleTimeoutId=this.props.setTimeout(this.onIdle,18e4)}},{key:"removeIdleTimeout",value:function(){null!=this.idleTimeoutId&&this.props.clearTimeout(this.idleTimeoutId),this.idleTimeoutId=null}},{key:"addActivityListeners",value:function(){var e=this;F.forEach((function(t){e.props.listeners.add(document,t,e.onActivity)}))}},{key:"removeActivityListeners",value:function(){var e=this;F.forEach((function(t){e.props.listeners.remove(document,t,e.onActivity)}))}},{key:"updateMinZoomClusters",value:function(){var e=this.getParticipants(),t=e?e.validLocations():[];this.minZoomClusters=(0,g.default)(t,I.MIN_ZOOM,null,b.MARKER_SIZE)}},{key:"getParticipants",value:function(){var e=this.props.chat.liveLocation;return e?e.participants:null}},{key:"hasValidParticipants",value:function(){var e=this.getParticipants();return!!e&&!!e.validLocations().length}},{key:"getOpenFromCluster",value:function(){var e=this.getParticipants();if(!e||0===e.length)return null;var t=this.props.openFrom,a=null;if(t)a=t;else{var n=e.at(0);n&&(a=n.id)}return a?(0,g.findClusterForParticipant)(this.minZoomClusters,a):null}},{key:"getClusters",value:function(e,t){var a=this.getParticipants(),n=null,i=[];a&&(t&&(n=a.get(t)),i=a.validLocations());var r=i,o=[];if(this.minZoomClusters.size>1){var d=this.getOpenFromCluster();if(d){var l=d.participants;r=l.validLocations(),o=i.filter((function(e){var t=e.id;return!l.get(t)}))}}return{primary:(0,g.default)(r,e,n,b.MARKER_SIZE),secondary:(0,g.default)(o,e,n,b.MARKER_SIZE)}}},{key:"getList",value:function(){var e,t=this.state,a=t.clusters,n=t.selectedClusterId,i=this.getParticipants();if(i&&i.length){if(n){var r=a.primary.get(n)||a.secondary.get(n);if(r){var o=r.participants;e=h.createElement(p.default,{participants:o,onParticipantSelected:this.onParticipantSelected,onClearSelected:this.onClearSelected})}}e||(e=h.createElement(P.default,{participants:i,onParticipantSelected:this.onParticipantSelected,onStopSharing:this.onStopSharing}))}return e}},{key:"render",value:function(){var e,t;this.props.isFirstLevel?e=this.onClose:t=this.onClose;var a,n,i=this.state,r=i.selectedParticipantId,o=i.selectedClusterId,d=i.mapType,l=i.showTraffic,c=i.atCenter,s=i.status,u=s===B?h.createElement(T.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:l}):null;if(s===B||s===V){var p=r&&r.toString()||o;a=h.createElement("div",{className:y.default.wrapper},h.createElement("div",{className:(0,f.default)(y.default.backToCenter,{[y.default.visible]:!c}),onClick:this.onBackToCenter},h.createElement(A.default,{name:"return"})),h.createElement(M.default,{clusters:this.state.clusters.primary,secondaryClusters:this.state.clusters.secondary,selectedMarkerId:p,openFrom:this.props.openFrom,mapType:d,showTraffic:l,atCenter:c,onMarkerSelected:this.onMarkerSelected,onClearSelected:this.onClearSelected,onLocationChanged:this.onLocationChanged,onMapMoved:this.onMapMoved}),this.getList())}if(s===V||s===G){var g=s===V,m=g?"live-location-refresh":"live-location-disconnected",b=g?S.default.t(780):S.default.t(815);n=h.createElement(w.default,{inactive:g,svgName:m,text:b,onClick:g?this.onRefresh:void 0})}return h.createElement(v.default,null,h.createElement(E.default,{title:S.default.t(793),type:E.DRAWER_HEADER_TYPE.SMALL,menu:u,onBack:t,onCancel:e}),h.createElement(j.default,null,a,n))}}]),t}(h.PureComponent);H.CONCERNS={chat:["id","liveLocation"]};var W=(0,C.default)((0,R.default)((0,_.default)((0,N.default)(H,H.CONCERNS))));t.default=W},bjihjhccce:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),g=a("bgihjbde"),m=n(a("cajijabhgb")),b=i(a("djifeiaaea")),v=i(a("dhfbfehaef")),j=i(a("bdjjabfecc")),E=i(a("dcjigehfeb")),C=i(a("bdcchebfge")),y=i(a("dhccahhefj")),S=i(a("ecdebjcgfa")),_=i(a("dieaaaeidb")),k=n(a("dffbbbhiad")),M=i(a("dicjdcbjah")),I=i(a("dgdcjccfdi")),T=n(a("bjhgigfbec")),L=i(a("didfdhbecg"));function P(){var e=(0,r.default)(["Invalid iterator while loading first unread msg"]);return P=function(){return e},e}function w(){var e=(0,r.default)(["Invalid iterator while loading first unread msg"]);return w=function(){return e},e}function N(){var e=(0,r.default)(["Invalid iterator while loading first unread msg"]);return N=function(){return e},e}function O(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return O=function(){return e},e}function A(){var e=(0,r.default)(["Invalid iterator while getting next status msg"]);return A=function(){return e},e}function R(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return R=function(){return e},e}function D(){var e=(0,r.default)(["Invalid iterator while getting previous status msg"]);return D=function(){return e},e}function x(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return x=function(){return e},e}function U(){var e=(0,r.default)(["Error finding next status while preloading next status"]);return U=function(){return e},e}function F(){var e=(0,r.default)(["Invalid iterator while preloading next status"]);return F=function(){return e},e}function B(){var e=(0,r.default)(["No more status v3 while preloading next status"]);return B=function(){return e},e}function V(){var e=(0,r.default)(["Invalid iterator while getting next status msg"]);return V=function(){return e},e}var G=function(e){function t(){var e;(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).apply(this,arguments))).onClickProgressBar=function(t){var a=e.state.iterator;if((!a||t!==a.msgIdx)&&a){var n=e.statusV3Snapshot.statusAt(a,t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t})})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(V())})).catchType(k.StatusV3LoadingError,(function(){__LOG__(3)(B())})).finally((function(){e.setState({loading:!1})}))}},e.preloadNextStatus=function(){var t=e.state.iterator;t&&e.statusV3Snapshot.hasNext(t)&&e.statusV3Snapshot.getNext(t).checkpoint(e.props.rejectOnUnmount()).then((function(t){var a=e.statusV3Snapshot.statuses[t.statusIdx].msgs[t.msgIdx];if(!a)throw new k.StatusV3MsgNotFound;if(a.type===p.default.MSG_TYPE.CHAT)b.default.load(a.font).catch((function(){}));else{var n=a.mediaData;n&&n.mediaStage!==E.default.STAGE.RESOLVED&&a.downloadMedia(!0,C.default.WEBC_RMR_REASON_CODE.STATUS_V3)}})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(F())})).catchType(k.StatusV3MsgNotFound,(function(){__LOG__(3)(U())})).catchType(k.StatusV3LoadingError,(function(){__LOG__(3)(x())}))},e.onPrev=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasPrev(t)){var a=t.statusIdx;e.statusV3Snapshot.getPrev(t).checkpoint(e.props.rejectOnUnmount()).then((function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.setState({iterator:t,transitioning:!1})})).catchType(m.Unmount,(function(){})))})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(D())})).catchType(k.StatusV3LoadingError,(function(){__LOG__(3)(R())}))}},e.onNext=function(){var t=e.state.iterator;if(t&&e.statusV3Snapshot.hasNext(t)){var a=t.statusIdx,n=e.statusV3Snapshot.getNext(t);n.isFulfilled()||e.setState({loading:!0}),n.checkpoint(e.props.rejectOnUnmount()).then((function(t){t.statusIdx===a?e.setState({iterator:t}):(e.setState({transitioning:!0,loading:!1}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.setState({iterator:t,transitioning:!1})})).catchType(m.Unmount,(function(){})))})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(A()),e.closeStatusViewer()})).catchType(k.StatusV3LoadingError,(function(){__LOG__(3)(O())})).finally((function(){e.setState({loading:!1})}))}else e.closeStatusViewer()},e.markRead=function(t,a){if(a){var n=t.unreadCount,i=t.totalCount;t.msgs.getModelsArray().findIndex((function(e){return e===a}))>=i-n&&t.sendReadStatus(a.id,a.author);var r=e.statusV3Snapshot.statuses.find((function(e){return e.statusV3===t}));r&&r.readMsgKeys.push(a.id.toString())}},e.closeStatusViewer=function(t){e.setState({transitioning:!0}),Promise.delay(200).checkpoint(e.props.rejectOnUnmount()).then((function(){e.props.closeStatusViewer(t)})).catchType(m.Unmount,(function(){}))};var a=e.props.initialStatusV3;if(e.props.quotedMsgKey){e.state={};var n=e.props.quotedMsgKey,i=a.msgs.getModelsArray().findIndex((function(e){return e.id.toString()===n.toString()}));if(-1!==i){e.statusV3Snapshot=new k.default(a,n);var r=e.statusV3Snapshot.getFirstUnread(a,!0,n);r.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(w()),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1227),id:(0,T.genId)()})),e.props.closeStatusViewer()}))}else e.state={loading:!0},a.loadMore(a.totalCount).then((function(){(e.setState({loading:!1}),-1!==a.msgs.getModelsArray().findIndex((function(e){return e.id.toString()===n.toString()})))?(e.statusV3Snapshot=new k.default(a,n),e.statusV3Snapshot.getFirstUnread(a,!0,n).checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(P()),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1227),id:(0,T.genId)()})),e.props.closeStatusViewer()}))):(e.props.onMsgNotFound&&e.props.onMsgNotFound(),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1227),id:(0,T.genId)()})),e.props.closeStatusViewer())})).catch((function(){h.default.openToast(f.createElement(T.default,{msg:j.default.t(1227),id:(0,T.genId)()})),e.props.closeStatusViewer()})).finally((function(){e.setState({loading:!1})}))}else{var d=e.props.initialStatusMsg;e.statusV3Snapshot=new k.default(a);var s=e.statusV3Snapshot.getFirstUnread(a,!0,d&&d.id);s.isFulfilled()?e.state={}:e.state={loading:!0},s.checkpoint(e.props.rejectOnUnmount()).then((function(t){e.setState({iterator:t,loading:!1})})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){})).catchType(k.InvalidStatusV3Iterator,(function(){__LOG__(3)(N()),h.default.openToast(f.createElement(T.default,{msg:j.default.t(1227),id:(0,T.genId)()})),e.props.closeStatusViewer()}))}return e}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.preloadNextStatus()}},{key:"componentDidUpdate",value:function(){this.preloadNextStatus()}},{key:"render",value:function(){var e,t,a,n,i,r,o,d,l=this,c=this.state.iterator;c&&(r=(i=this.statusV3Snapshot).statuses[c.statusIdx],o=r.statusV3,d=r.msgs[c.msgIdx],i.hasPrev(c)&&(a=f.createElement("div",{className:M.default.chevronLeft},f.createElement(I.default,{name:"chevron-left"})),n=f.createElement("div",{className:M.default.chevronLeftBg,onClick:this.onPrev})),i.hasNext(c)&&(e=f.createElement("div",{className:M.default.chevronRight},f.createElement(I.default,{name:"chevron-right"})),t=f.createElement("div",{className:M.default.chevronRightBg,onClick:function(){l.onNext(),l.markRead(o,d)}})));var s,h={left:this.onPrev,right:this.onNext};!this.state.transitioning&&!this.state.loading&&d&&c&&r&&o&&(s=f.createElement("div",{className:M.default.playerContainer,key:d.id},f.createElement(_.default,{key:d.id,statusV3:o,msg:d,mediaData:d.mediaData,msgIdx:c.msgIdx,totalMsgs:r.totalCount,markRead:this.markRead,closeStatusViewer:this.closeStatusViewer,onClickProgressBar:this.onClickProgressBar,onNext:this.onNext,onPrev:this.onPrev,sessionId:this.props.sessionId,rowIdx:this.props.rowIdx})));var p,g=(0,u.default)(M.default.v3X,{}),m=f.createElement("button",{className:g,onClick:function(){return l.props.closeStatusViewer(!0)}},f.createElement(I.default,{name:"x-viewer"})),b=(0,u.default)(M.default.backIcon,{}),j=f.createElement("button",{className:b,onClick:function(){return l.props.closeStatusViewer()}},f.createElement(I.default,{name:"back",directional:!0}));return this.state.loading&&(p=f.createElement("div",{className:M.default.mediaStateControls},f.createElement("button",null,f.createElement(S.default,{size:50,stroke:4,color:"white"})))),f.createElement(v.default,{handlers:h},f.createElement("div",{className:M.default.viewer,"data-animate-status-v3-viewer":!0},m,j,n,a,t,e,p,f.createElement(L.default,{transitionName:"status-v3-player",transitionAppear:!0},s)))}}]),t}(f.Component),H=(0,y.default)(G);t.default=H},bjiiedjejh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bdeebiagii")),h=i(a("bdjjabfecc")),p=a("ecceajhjba"),g=i(a("cijhbdaifj")),m=a("cachecbicf"),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).requestFocus=function(){var e,t;null===(e=a.refUIE)||void 0===e||null===(t=e.getRef())||void 0===t||t.onFocusList()},a._sendProducts=function(e){var t=a.props.chat;e.forEach((function(e,n){var i=0===n?t.composeQuotedMsg:null;t.sendProductMessage(e,i).then((function(){(0,p.logProductMessageSent)(e,a.props.sessionId)}))})),t.composeQuotedMsg=null,a.end()},a._shareCatalog=function(e){var t=a.props.chat,n=(0,m.createCatalogLink)(e.id.user),i="".concat(h.default.t(1066)," ").concat(n);u.default.pasteChatTextInput(t,i),(0,p.logSendCatalogClick)(a.props.sessionId),a.end()},a._pop=function(){a.pop()},a._popNone=function(){a.pop("none")},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(g.default,{onCancel:this._pop,onConfirm:this._sendProducts,onShare:this._shareCatalog}))}}]),t}(f.default);t.default=b},bjjaehbf:function(e,t){e.exports={commentInput:"_2FCRH",search:"_2Xv_C",groupInfo:"_2qAEE",onSendInvite:"_2HGBP"}},bjjegffjad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("daghjjjedc")),g=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=i(a("bdjjabfecc")),C=i(a("bfgbdiffgd")),y=i(a("dcdbbhicce")),S=i(a("dhhjhedjij")),_=i(a("dighddcfg")),k=n(a("bjhgigfbec")),M=a("deieafdcg"),I=i(a("bhcggbhcjc")),T=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={hover:!1},a.onClick=function(){var e=a.encodeColor(),t=h.default.get("defaultPreference");t&&e!==t.wallpaperColor&&(t.set("wallpaperColor",e),g.default.openToast(u.createElement(k.default,{msg:E.default.t(1412),id:(0,k.genId)()})))},a.onMouseOver=function(){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor()))},a.onMouseEnter=function(){a.state.hover||(a.setState({hover:!0}),h.default.trigger("wallpaper_color_preview",a.encodeColor()))},a.onMouseLeave=function(){a.state.hover&&(a.setState({hover:!1}),h.default.trigger("wallpaper_color_preview"))},a.encodeColor=function(){var e=a.props,t=e.colorHex;return e.isDefault?m.default.DEFAULT_CHAT_WALLPAPER:t},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.isDefault?u.createElement("span",{className:I.default.wallpaperDefaultTitle,"data-a8n":f.default.key("wallpaper-default-title")},E.default.t(468)):null,t=(0,s.default)(I.default.wallpaperColorCanvas,{[I.default.canvasHover]:this.state.hover,[I.default.canvasActive]:this.props.isSelected,[I.default.canvasDefault]:this.props.isDefault});return u.createElement("span",{className:t,style:{backgroundColor:this.props.colorHex},onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick,title:this.props.isDefault?E.default.t(468):null},e)}}]),t}(u.Component),L=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onWallpaperDoodleChange=function(){var e=a.props.chatPreference;if(e){var t=!e.showDoodle;e.set("showDoodle",t),g.default.openToast(u.createElement(k.default,{msg:t?E.default.t(1413):E.default.t(1414),id:(0,k.genId)()}))}},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.chatPreference,n=t.colors,i=a&&a.wallpaperColor,r=a&&a.showDoodle,o=n.map((function(e){return u.createElement(T,{colorHex:e,isSelected:i===e,isDefault:!1,key:e})})),d=u.createElement(T,{isSelected:i===m.default.DEFAULT_CHAT_WALLPAPER,isDefault:!0,key:m.default.DEFAULT_CHAT_WALLPAPER});o.unshift(d);for(var l=0;l<2;l++)o.push(u.createElement("div",{key:"emptyEl"+l,className:I.default.wallpaperColorEmpty}));return C.default.wallpapersV2&&(e=u.createElement("div",{className:I.default.wallpaperApplyDoodle},u.createElement(p.default,{onChange:this.onWallpaperDoodleChange,checked:!!r}),u.createElement(S.default,{className:I.default.checkboxLabel,theme:"small"},E.default.t(1411)))),u.createElement(u.Fragment,null,e,u.createElement("div",{className:I.default.wallpaperColorGrid},o))}}]),t}(u.Component);L.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var P=(0,y.default)(L,L.CONCERNS),w=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillUnmount",value:function(){h.default.trigger("wallpaper_color_preview"),C.default.wallpapersV2&&h.default.trigger("wallpaper_drawer_close")}},{key:"componentDidMount",value:function(){C.default.wallpapersV2&&h.default.trigger("wallpaper_drawer_open")}},{key:"render",value:function(){return u.createElement(b.default,null,u.createElement(j.default,{title:E.default.t(1415),onBack:this.props.onClose,type:j.DRAWER_HEADER_TYPE.LARGE}),u.createElement(v.default,null,u.createElement(P,{colors:(0,M.getWallpaperColors)(this.context.theme),chatPreference:h.default.get("defaultPreference")})))}}]),t}(u.Component);t.default=w,w.contextType=_.default},cababhbggf:function(e,t){e.exports={body:"_2K3Eo",thumbs:"_2_F5S",thumbsContainer:"_2aa7-",btnSend:"_6TTaR",captionInput:"SwXX-",mediaBody:"_3pABo",invalidContainer:"_3q6gz",invalidMedia:"PI68T",mediaWarning:"_36FhP",dropOverlay:"_1t5S0",dropOverlayOutline:"_1E6c_",btnAdd:"_20A_P",btnAddDisabled:"_3PcMh",btnAddText:"_2-TA4",btnViewOnce:"_1uRar",btnViewOnceActive:"bNVEh"}},cadfefbibf:function(e,t){e.exports={container:"_3qWYk",body:"_1lGi-"}},cajcadafab:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("bjigbaghc")),h=i(a("hhcjfgifh")),p=a("ddbdgibbbi"),g=i(a("jheedhagg")),m=i(a("dcdbbhicce")),b=function(e){function t(e){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).call(this,e))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.status;return s.createElement(u.default,{image:s.createElement(h.default,{id:(0,p.getMaybeMeUser)()}),primary:f.default.pushname,secondary:e.status,idle:!0})}}]),t}(s.Component);b.CONCERNS={status:["status"]};var v=(0,g.default)((0,m.default)(b,b.CONCERNS));t.default=v},cbbadbjgcg:function(e,t){e.exports={drawerHeader:"_1JQzR",drawerHeaderButtonContainer:"_3A-Nn",productWrapper:"mK-Mu",businessInfoTitle:"NWuSF"}},cbbifbghag:function(e,t,a){"use strict";var n=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var r=new Map;if(!e.length)return r;for(var o=e.filter((function(e){return e!==a})).sort((function(e,t){return e.lat-t.lat})),d=function(e){var a=o[e],d=void 0;if(r.forEach((function(e){!d&&e.fits(a,t,n)&&(d=e)})),d){var l=d.id;r.delete(l),d.add(a)}else d=new i.default(a);r.set(d.id,d)},l=0;l<o.length;l++)d(l);if(a&&e.length!==o.length){var c=new i.default(a);r.set(c.id,c)}return r},t.participantInCluster=function(e,t){return e.split(i.ID_SEPARATOR).includes(t.toString())},t.singleParticipantClusterId=function(e){return!e.includes(i.ID_SEPARATOR)},t.findClusterForParticipant=function(e,t){var a,n=e.values();for(;(a=n.next())&&!a.done;){var i=a.value;if(i.participants.get(t))return i}return null};var i=n(a("ddgehgjfdd"))},cbccffhcjb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("hgigjbgie")),f=i(a("cfhchagia")),h=i(a("cadfefbibf")),p=i(a("dcdbbhicce")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._setRefContainer=function(e){a._refContainer=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getContainer",value:function(){return this._refContainer}},{key:"render",value:function(){var e=this.props.chatPreference,t=e.wallpaperColor,a=e.showDoodle,n={};return t!==u.default.DEFAULT_CHAT_WALLPAPER&&(n={backgroundColor:t}),s.createElement("div",{className:h.default.container,ref:this._setRefContainer},s.createElement("div",{className:h.default.body,style:n},s.createElement(f.default,{wallpaperColor:t,showDoodle:a}),this.props.children))}}]),t}(s.Component);g.CONCERNS={chatPreference:["wallpaperColor","showDoodle"]};var m=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"container",get:function(){return this.getComponent().getContainer()}}]),t}((0,p.default)(g,g.CONCERNS));t.default=m},cbdjcijgja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("dbafiicfja")),u=n(a("ddhijeejag")),f=n(a("ieeidjijb")),h=i(a("dhfbfehaef")),p=i(a("bdjjabfecc")),g=i(a("dcaibchbg")),m=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).focusLast=function(){a.props.contacts&&a.props.contacts.length&&a.selection.setLast(!0)},a.focusPrev=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1&&a.selection.setPrev(!0)},a.focusNext=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onFocusSearch,n=a.selection.next();a.selection.index===n?(a.selection.unset(),t&&t(e)):a.selection.setNext(!0)},a.deleteContact=function(e){e.preventDefault(),e.stopPropagation();var t=a.props.onDelete,n=a.selection.getVal();if(n){var i=a.props.contacts.find(n);i&&t&&t(e,i)}},a.onParticipantClick=function(e,t){a.selection.setVal(t)},a.selection=new g.default(e.contacts,(function(e){return e.id})),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidUpdate",value:function(){this.selection.init(this.props.contacts,!0)}},{key:"render",value:function(){var e=this,t=this.props.contacts;if(!t)return null;var a=t.length?(0,s.default)(t,(function(t){return u.createElement(f.default,{contact:t,active:e.selection,onDelete:e.props.onDelete,onClick:e.onParticipantClick,type:f.Type.SMALL,key:t.id.toString(),theme:e.props.theme,waitIdle:!0})})):null,n={up:this.focusPrev,down:this.focusNext};this.props.onDelete&&(n[p.default.LR("left","right")]=this.focusPrev,n[p.default.LR("right","left")]=this.focusNext,n.backspace=this.deleteContact);var i=u.createElement("ul",null,a);return u.createElement(h.default,{handlers:n},i)}}]),t}(u.PureComponent);t.default=m},ccdfgfhhfa:function(e,t){e.exports={actionBtns:"_3zzrS",newLabelBtn:"_35R9V",plus:"_1-uPS"}},ccdihgbaa:function(e,t){e.exports={addItemButton:"_1xhES",themeInList:"_1QECW",themeDefault:"amqUj",addIcon:"O7AVr"}},cciecagbbc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("biegjchieg")),f=i(a("ejegihaeh")),h=i(a("ccbgfecegc")),p=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),b=i(a("cgagcihcgb")),v=a("bgihjbde"),j=i(a("hhibigida")),E=i(a("dbfjeecgih")),C=a("ddbdgibbbi"),y=i(a("bdjjabfecc")),S=i(a("dcgfgbbjff")),_=i(a("dcdcafjece")),k=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={catalog:null,isLoading:!0,hasError:!1},a.flatListController=new E.default,a.onBack=function(){a.props.onBack&&a.props.onBack()},a.onAddProduct=function(){},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.findCatalog()}},{key:"findCatalog",value:function(){var e=this,t=(0,C.getMaybeMeUser)();t?f.default.find(t).catchType(v.ServerStatusCodeError,(function(){e.setState({isLoading:!1})})).then((function(t){e.setState({isLoading:!1,catalog:t})})):this.setState({isLoading:!1,hasError:!0})}},{key:"renderNewCatalogContents",value:function(){return s.createElement(S.default,{onAddProductClick:this.onAddProduct})}},{key:"renderCatalogContents",value:function(){var e;return this.state.catalog&&(e=s.createElement(_.default,{onProductDetail:this.onEditProduct,flatListController:this.flatListController,catalog:this.state.catalog,sessionId:this.props.sessionId})),s.createElement("div",null,s.createElement(u.default,{onClick:this.onAddProduct,theme:"in-list"}),e)}},{key:"renderLoadingState",value:function(){return s.createElement(j.default,{fetchState:"PENDING"})}},{key:"renderErrorState",value:function(){return s.createElement(j.default,{fetchState:"ERROR"})}},{key:"onEditProduct",value:function(e,t){h.default.openDrawerMid(s.createElement(b.default,{product:e,sessionId:t}),"slide-left")}},{key:"render",value:function(){var e;return e=this.state.isLoading?this.renderLoadingState():this.state.hasError?this.renderErrorState():null!=this.state.catalog?this.renderCatalogContents():this.renderNewCatalogContents(),s.createElement(p.default,{key:"catalog-link-drawer"},s.createElement(m.default,{a8n:"catalog-link-title",title:y.default.t(752),type:m.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),s.createElement(g.default,null,e))}}]),t}(s.Component);t.default=k},ccjdjhjhij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.ids,a=e.size,n=e.onClick,i=e.showCount,c=e.square,s=e.border,u=t.length;if(0===u)return null;if(1===u)return o.createElement(l.default,{id:t[0],size:40,onClick:n,border:s});var f=t.slice(0,4).map((function(e,t){return o.createElement("div",{key:"avatar-combo-image-".concat(t),className:(0,r.default)(d.default.avatar,{[d.default.first]:0===t,[d.default.second]:1===t,[d.default.third]:2===t,[d.default.fourth]:3===t})},o.createElement(l.default,{id:e,size:a,square:!0}))})),h=(0,r.default)(d.default.container,{[d.default.square]:c,[d.default.border]:s},{[d.default.two]:2===u,[d.default.three]:3===u,[d.default.four]:u>=4}),p=(0,l.getSize)(a),g={height:p,width:p,cursor:n?"pointer":void 0},m=i?o.createElement("div",{className:d.default.count,style:g},t.length):null;return o.createElement("div",{className:h,style:g,onClick:n},f,m)};var r=i(a("ceffhbhahb")),o=n(a("ddhijeejag")),d=i(a("dagffibabh")),l=n(a("hhcjfgifh"))},cdbfcccegj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.url;return r.createElement("div",{className:o.default.container,"data-animate-attach-media":!0},r.createElement("div",{className:o.default.media},r.createElement("audio",{controls:!0,type:t,src:a})))};var r=i(a("ddhijeejag")),o=n(a("cddiegeheh"))},cdddjjjgij:function(e,t){e.exports={container:"_1ugBc",section:"_1MQx6",control:"_3F6uW",label:"_1dc_o",disabled:"_2RflG"}},cddhggdajg:function(e,t){e.exports={container:"_2LXR0",map:"_3UG7w",authFailed:"NSkR1",loading:"_1ED1A"}},cddiegeheh:function(e,t){e.exports={container:"CdChS",media:"DodYP"}},cddiididei:function(e,t){e.exports={wrapper:"_3D29i",icon:"_25G2c",text:"_2eojN"}},cdeeicghb:function(e,t){e.exports={container:"_2UTyI",media:"_1KWxB",img:"_2YWgP",audio:"_3rofn",videoContainer:"_2a28v",spinner:"_1QlWq",video:"_23PcX",staticPreview:"_2_uiB"}},cdgaidjejh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("daghjjjedc")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),g=i(a("beabdcijfe")),m=i(a("djaiggcdb")),b=a("facgccaif"),v=a("hcabbffbb"),j=i(a("dhfbfehaef")),E=i(a("bdjjabfecc")),C=i(a("dhhjhedjij")),y=i(a("dbihaeaggd")),S=n(a("bjhgigfbec")),_=p.default.CONTACT_US_MIN_DESC_LENGTH,k=p.default.CONTACT_US_MAX_DESC_LENGTH,M=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={description:"",includeDeviceInfo:!0},a.setDescriptionRef=function(e){a.decriptionInput=e},a.onSend=function(){var e=a.state.description;a.validateDescription(e)?(a.props.onSend&&a.props.onSend({description:e}),f.default.closeModal(),f.default.openToast(s.createElement(S.default,{msg:E.default.t(1250),id:(0,S.genId)()}))):a.setState({descriptionError:E.default.t(1201)})},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),f.default.closeModal()},a.onDescriptionChange=function(e){a.setState({description:e,descriptionError:a.validateDescription(e)?void 0:a.state.descriptionError})},a.onIncludeDeviceInfoChange=function(){a.setState({includeDeviceInfo:!a.state.includeDeviceInfo})},a.validateDescription=function(e){return e.length>=_},a.stopPropagation=function(e){e.stopPropagation()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e;null===(e=this.decriptionInput)||void 0===e||e.restoreFocus()}},{key:"render",value:function(){var e={enter:this.stopPropagation};return s.createElement(h.default,{title:E.default.t(1251),okText:E.default.t(1185),onOK:this.onSend,onCancel:this.onCancel,okDisabled:!this.validateDescription(this.state.description)},s.createElement(j.default,{handlers:e},s.createElement(v.FlexColumn,{align:"stretch"},s.createElement(y.default,{error:this.state.descriptionError,maxLength:k,onChange:this.onDescriptionChange,placeholder:E.default.t(1249),ref:this.setDescriptionRef,value:this.state.description}),s.createElement(v.FlexItem,{className:g.default.deviceInfo,grow:1},s.createElement(C.default,{theme:"muted-small"},E.default.t(1247))),s.createElement(v.FlexRow,null,s.createElement(v.FlexItem,{className:g.default.deviceInfoLabel,grow:1},s.createElement("label",{htmlFor:"contact-us-include-device"},s.createElement(C.default,{theme:"plain"},E.default.t(1248)," ",s.createElement(m.default,{href:(0,b.getContactFormDeviceInfoShareFaqUrl)()},E.default.t(759))))),s.createElement(v.FlexItem,{className:g.default.deviceInfoCheckbox,grow:0},s.createElement(u.default,{checked:this.state.includeDeviceInfo,id:"contact-us-include-device",onChange:this.onIncludeDeviceInfoChange}))))))}}]),t}(s.Component);t.default=M},cdgfajccbj:function(e,t){e.exports={border:"_1ByLM"}},cdhbehgbej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=i(a("eaaagccfda")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),g=a("ddbdgibbbi"),m=i(a("ebddggeaib")),b=a("cgbdcdhgig"),v=i(a("dcdbbhicce")),j=i(a("bcjcbbafcj")),E=n(a("bgeajihhc")),C=(0,u.default)((function(e,t){(0,g.setVideoVolumeSettings)(e,t)}),500),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={hasSentPlayed:!1},a.checkIteration=0,a.checkForSuccessInterval=0,a.hasCalledPlaying=!1,a.mediaBlobWasDownloadedBeforeMount=Boolean(a.props.mediaData.mediaBlob),a.refVideo=f.createRef(),a.onVolumeChange=function(){var e=a.refVideo&&a.refVideo.current;e&&C(e.volume,e.muted)},a.onTimeUpdate=function(){var e=a.refVideo&&a.refVideo.current;e&&(e.currentTime/e.duration>.5||e.currentTime>10)&&((0,b.markPlayed)(a.props.msg),a.setState({hasSentPlayed:!0}))},a.startCheckForSuccess=function(){a.checkIteration=0,a.checkForSuccessInterval||(a.checkForSuccessInterval=setInterval(a.checkForSuccess,250))},a.clearCheckForSuccess=function(){a.checkForSuccessInterval&&(clearInterval(a.checkForSuccessInterval),a.checkIteration=0,a.checkForSuccessInterval=0)},a.checkForSuccess=function(){if(E.default.state===E.STATE.CONNECTED){a.checkIteration++;var e=a.refVideo&&a.refVideo.current,t=e&&e.buffered;t&&t.length&&t.end(0)>0?a.onPlaying():a.checkIteration>240&&a.clearCheckForSuccess()}},a.onPlayerError=function(){a.clearCheckForSuccess()},a.onOtherPlaying=function(e){e!==(0,c.default)(a)&&a.pause()},a.pause=function(){var e=a.refVideo&&a.refVideo.current;e&&(e.paused||e.pause())},a.onPlaying=function(){a.clearCheckForSuccess(),h.default.mediaPlaying((0,c.default)(a))},a.onLoadedMetadata=function(e){a.setStartTime();var t=a.props.onLoadedMetadata;t&&t(e)},a.setStartTime=function(){var e=a.refVideo&&a.refVideo.current;null!=a.props.startTime&&0!==a.props.startTime&&e&&(e.currentTime=a.props.startTime)},a.onContextMenu=function(e){a.props.disableContextMenu&&e.preventDefault()},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(h.default,"mediaPlaying",this.onOtherPlaying),this.props.listeners.add(h.default,"pttRecording",this.pause),this.updateVideoUserPrefs(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"componentWillUnmount",value:function(){C.flush(),this.clearCheckForSuccess(),this.pause()}},{key:"componentDidUpdate",value:function(e){this.updateVideoUserPrefs(),e.startTime!==this.props.startTime&&this.setStartTime(),this.props.refVideo&&this.props.refVideo(this.refVideo)}},{key:"updateVideoUserPrefs",value:function(){var e=this.refVideo&&this.refVideo.current;if(e){var t=(0,g.getVideoVolumeSettings)();t&&("number"==typeof t.volume&&(e.volume=t.volume),"boolean"==typeof t.muted&&(e.muted=t.muted)),_()&&this.props.autoPlay&&this.startCheckForSuccess()}}},{key:"render",value:function(){var e,t=this.props,a=t.msg,n=t.mediaData,i=n.mediaBlob,r=n.streamable&&n.isStreamable();if(!this.mediaBlobWasDownloadedBeforeMount&&r||!i){if(!n.streamable||!n.isStreamable())return null;e="".concat(p.default.VIDEO_STREAM_URL,"?key=").concat(this.props.msg.id.toString())}else e=i.url();var o=!this.state.hasSentPlayed&&(0,b.canMarkPlayed)(a)?this.onTimeUpdate:void 0,d=_()&&!t.autoPlay?this.startCheckForSuccess:void 0;return f.createElement("video",{ref:this.refVideo,src:e,poster:t.poster,className:t.className,controls:t.controls,autoPlay:t.autoPlay,onClick:t.onClick,onDoubleClick:t.onDoubleClick,onVolumeChange:this.onVolumeChange,onLoadedMetadata:this.onLoadedMetadata,onPlay:d,onPlaying:this.onPlaying,onTimeUpdate:o,onError:this.clearCheckForSuccess,onContextMenu:this.onContextMenu},t.children)}}]),t}(f.PureComponent);y.CONCERNS={msg:["id","isSentByMe","ack","type","isGif"],mediaData:["mediaBlob","streamable"]};var S=(0,m.default)((0,v.default)(y,y.CONCERNS));function _(){return j.default.isGecko||j.default.isSafari}t.default=S},cdhhgdibbf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),g=i(a("jheedhagg")),m=i(a("dacigcjbia")),b=i(a("bdjjabfecc")),v=i(a("ebddggeaib")),j=i(a("bhbeigbaec")),E=a("chcfhehffe"),C=i(a("bgiafagffb")),y=i(a("bbgcdfeifh")),S=i(a("dcdbbhicce")),_=i(a("dgdcjccfdi")),k=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onRoadmapSelected=function(){a.setState({mapType:E.MapType.ROADMAP})},a.onSatelliteSelected=function(){a.setState({mapType:E.MapType.SATELLITE})},a.onTerrainSelected=function(){a.setState({mapType:E.MapType.TERRAIN})},a.onTrafficToggled=function(){a.setState((function(e){return{showTraffic:!e.showTraffic}}))},a.onMarkerSelected=function(e){a.setState({markerSelected:e})},a.state={mapType:E.MapType.ROADMAP,showTraffic:!1,markerSelected:!1,online:y.default.online},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(y.default,"change:online",(function(){e.setState({online:y.default.online})}))}},{key:"render",value:function(){var e,t,a,n,i=s.createElement(C.default,{onRoadmapSelected:this.onRoadmapSelected,onSatelliteSelected:this.onSatelliteSelected,onTerrainSelected:this.onTerrainSelected,onTrafficToggled:this.onTrafficToggled,showTraffic:this.state.showTraffic}),r=this.props.msg,o=r.finalLat,d=r.finalLng,l=r.finalTimeOffset,c=r.lat,g=r.lng,v=r.senderObj,E=r.t,y=this.state,S=y.mapType,k=y.showTraffic,M=y.markerSelected;return void 0===o||void 0===d||void 0===l?(e=c,t=g,a=E):(e=o,t=d,a=E+l),n=y.online?s.createElement("div",{className:m.default.wrapper},s.createElement(j.default,{contact:v,lat:e,lng:t,mapType:S,showTraffic:k,markerSelected:M,onMarkerSelected:this.onMarkerSelected}),s.createElement("div",{className:m.default.notification},s.createElement("div",{className:m.default.ended},b.default.t(768)),s.createElement("div",{className:m.default.lastUpdated},u.default.liveLocationLastUpdatedStr(a)))):s.createElement("div",{className:m.default.offline},s.createElement("div",null,s.createElement("div",{className:m.default.circle},s.createElement(_.default,{name:"live-location-disconnected"})),s.createElement("div",{className:m.default.text},b.default.t(815)))),s.createElement(f.default,null,s.createElement(p.default,{title:b.default.t(769),type:p.DRAWER_HEADER_TYPE.SMALL,menu:i,onCancel:this.onClose}),s.createElement(h.default,null,n))}}]),t}(s.PureComponent);k.CONCERNS={msg:["finalLat","finalLng","finalTimeOffset","lat","lng","senderObj","t"]};var M=(0,g.default)((0,v.default)((0,S.default)(k,k.CONCERNS)));t.default=M},cdhjbegegf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=n(a("ddhijeejag")),h=i(a("bfgbdiffgd")),p=i(a("bicfacdfic")),g=i(a("bcifhbgija"));function m(){var e=(0,r.default)(["Assertion failed!"]);return m=function(){return e},e}function b(){var e=(0,r.default)(["Current index: ",", total count: ",""]);return b=function(){return e},e}var v=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).apply(this,arguments))).setRefBar=function(t){e.refBar=t},e.onClick=function(t){e.props.onClick&&e.props.onClick(t)},e.onStart=function(t,a){if(e.refBar){var n=1e3*h.default.statusVideoMaxDuration,i=Math.min(t,n),r=Math.min(a,n),o="-".concat(i/r*100,"%");(0,g.default)(e.refBar,"stop"),e.barAnimation=(0,g.default)(e.refBar,{translateX:["0%",o]},{duration:i,easing:"linear"})}},e.onPause=function(){e.refBar&&(0,g.default)(e.refBar,"stop")},e.onEnded=function(){return e.barAnimation?e.barAnimation:Promise.resolve()},__LOG__(1)(b(),e.props.current,e.props.total),e.props.current>=0&&e.props.current<e.props.total||(__LOG__(4,!1,new Error)(m()),SEND_LOGS("bad current status v3 index")),e}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){for(var e=this,t=[],a="".concat(100/this.props.total,"%"),n=function(n){var i=(0,u.default)(p.default.foreground,{[p.default.filled]:n<e.props.current,[p.default.empty]:n>e.props.current,[p.default.active]:n===e.props.current}),r=f.createElement("div",{className:p.default.wrapper,style:{width:a},key:n,onClick:function(){return e.onClick(n)}},f.createElement("div",{className:p.default.bg}),f.createElement("div",{className:p.default.mask},f.createElement("div",{className:i,ref:n===e.props.current?e.setRefBar:function(){}})));t.push(r)},i=0;i<this.props.total;++i)n(i);return f.createElement("div",{className:p.default.container},t)}}]),t}(f.Component);t.default=v},cdjefgbie:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LiveLocationDrawer",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ExpiredLocationDrawer",{enumerable:!0,get:function(){return r.default}});var i=n(a("bjiecabhbh")),r=n(a("cdhhgdibbf"))},cebbffhbdf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("daghjjjedc")),p=i(a("cfadcbbiie")),g=i(a("ccbgfecegc")),m=i(a("cdddjjjgij")),b=i(a("bdjjabfecc")),v=i(a("dagdiahdfi")),j=i(a("dcdbbhicce")),E=a("cjfegjecaj"),C=i(a("dhhjhedjij")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={notifications:v.default.getGlobalNotifications(),sounds:v.default.getGlobalSounds(),previews:v.default.getGlobalPreviews(),collapseMuted:v.default.getCollapseMuted()},a.onSounds=function(){var e=!a.state.sounds;a.setState({sounds:e}),v.default.setGlobalSounds(e)},a.onNotifications=function(){var e=!a.state.notifications;a.setState({notifications:e}),v.default.setGlobalNotifications(e)},a.onPreviews=function(){var e=!a.state.previews;a.setState({previews:e}),v.default.setGlobalPreviews(e)},a.onCollapseMuted=function(){var e=!a.state.collapseMuted;a.setState({collapseMuted:e}),v.default.setCollapseMuted(e)},a.onClose=function(){g.default.closeModal()},a.onMuteDesktopNotifications=function(){g.default.muteAll((0,E.unproxy)(a.props.mute),!a.props.mute.isMuted)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=[];if(window.Notification){e.push(u.createElement("div",{className:m.default.section,onClick:this.onNotifications,key:0},u.createElement("div",{"data-a8n":f.default.key("menu-icon-notifications"),className:m.default.control},u.createElement(h.default,{onChange:this.onNotifications,checked:this.state.notifications})),u.createElement("div",{"data-a8n":f.default.key("option-desktop-notifications"),className:m.default.label},b.default.t(1033))));var t=(0,s.default)(m.default.section,{[m.default.disabled]:!this.state.notifications});e.push(u.createElement("div",{className:t,onClick:this.onPreviews,key:1},u.createElement("div",{"data-a8n":f.default.key("menu-icon-notifications"),className:m.default.control},u.createElement(h.default,{onChange:this.onPreviews,checked:this.state.previews})),u.createElement("div",{"data-a8n":f.default.key("option-msg-previews"),className:m.default.label},b.default.t(1034),u.createElement(C.default,{theme:"muted",block:!0},b.default.t(1035)))))}var a,n=this.props.mute.expiration,i=this.props.mute.isMuted,r=b.default.t(1278);if(i&&null!=n){var o=p.default.untilStr(n);a=u.createElement(C.default,{theme:"muted",block:!0},o)}return u.createElement("div",{className:m.default.container},u.createElement("div",{className:m.default.section,onClick:this.onSounds},u.createElement("div",{"data-a8n":f.default.key("menu-icon-notifications"),className:m.default.control},u.createElement(h.default,{onChange:this.onSounds,checked:this.state.sounds})),u.createElement("div",{"data-a8n":f.default.key("option-sounds"),className:m.default.label},b.default.t(1037))),e,void 0,u.createElement("div",{className:(0,s.default)(m.default.section),onClick:this.onMuteDesktopNotifications,role:"button"},u.createElement("div",{"data-a8n":f.default.key("menu-icon-notifications"),className:m.default.control},u.createElement(h.default,{onChange:this.onMuteDesktopNotifications,checked:i})),u.createElement("div",{"data-a8n":f.default.key("option-msg-previews"),className:m.default.label},r,a)))}}]),t}(u.Component);y.CONCERNS={mute:["isMuted","expiration"]};var S=(0,j.default)(y,y.CONCERNS);t.default=S},cebgbdgebc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cfadcbbiie")),f=i(a("ccbgfecegc")),h=n(a("bjgiedaj")),p=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),b=i(a("dbfjeecgih")),v=i(a("edfgfbdfg")),j=i(a("bdjjabfecc")),E=i(a("cjfjiidcae")),C=i(a("bfccfbijcg")),y=i(a("debgiacjfi")),S=i(a("dhhjhedjij")),_=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).orderFlatListController=new b.default,a.state={isLoading:!0,order:null},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.orderId,n=t.token,i=t.sellerJid;E.default.findOrder(a,i,n).then((function(t){e.setState({order:t,isLoading:!1})}))}},{key:"_getDrawerContent",value:function(){var e=this.props,t=e.sellerJid,a=e.sessionId,n=this.state.order;if(this.state.isLoading||null==n)return s.createElement(v.default,null);var i="";i=n.products.length>0?j.default.t(754,{count:n.totalItemCount||0,_plural:n.totalItemCount||0}):j.default.t(1043);var r=s.createElement(S.default,{theme:"title",block:!0},i),o=null;o=null!=n.total?s.createElement(S.default,{theme:"muted-small",block:!0},j.default.t(1041,{subtotal:h.format(n.currency,n.total)})):s.createElement(S.default,{theme:"muted-small",block:!0},j.default.t(1038));var d=null;if(null!=n.createdAt){var l=u.default.timeStr(n.createdAt);d=s.createElement(S.default,{theme:"muted-small"},"".concat(l))}return s.createElement(s.Fragment,null,s.createElement("div",{className:C.default.info},r,o),s.createElement(y.default,{flatListController:this.orderFlatListController,onProductDetail:this.props.onProductDetail,order:n,sellerJid:t,sessionId:a}),s.createElement("div",{className:C.default.date},d))}},{key:"onClose",value:function(){f.default.closeDrawerRight()}},{key:"render",value:function(){var e=this.props.userIsCartOwner;return s.createElement(p.default,{theme:"striped",onDrop:this.onClose},s.createElement(m.default,{title:e?j.default.t(1040):j.default.t(1039),type:m.DRAWER_HEADER_TYPE.SMALL,onBack:this.onClose}),s.createElement(g.default,{flatListControllers:[this.orderFlatListController]},this._getDrawerContent()))}}]),t}(s.Component);t.default=_},ceejajbjbd:function(e,t){e.exports={scaler:"_115TV",scalerButton:"_3ASL9"}},ceggieaiij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("eabehhacha")),h=i(a("cfadcbbiie")),p=i(a("bhbdiadfhj")),g=i(a("bdjjabfecc")),m=i(a("bfgbdiffgd")),b=i(a("dcdbbhicce")),v=i(a("fabfijbdh")),j=i(a("bahcdceje")),E=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.statusV3,n=t.contact,i=(0,s.default)({[v.default.dimmed]:n.statusMute});return e=m.default.statusRanking&&p.default.supportsFeature(p.default.F.STATUS_RANKING)?a.hasUnread?g.default.t(1232,{count:a.unreadCount,_plural:a.unreadCount}):g.default.t(1231,{count:a.totalCount,_plural:a.totalCount}):h.default.relativeDateAndTimeStr(a.t),u.createElement(f.default,{className:i,key:a.id.toString(),customImage:!0,theme:"status-list",image:u.createElement(j.default,{statusV3:a,contact:n,onClick:this.props.onClick}),primary:n.formattedName,secondary:e,onClick:this.props.onClick,contextEnabled:function(){return!1}})}}]),t}(u.PureComponent);E.CONCERNS={statusV3:["id","t","hasUnread","unreadCount","totalCount","contact"],contact:["formattedName","statusMute"]};var C=(0,b.default)(E,E.CONCERNS);t.default=C},cehjgabfic:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=a("cfabbaghh"),u=n(a("ddhijeejag")),f=i(a("hgigjbgie")),h=n(a("dgjacfgggf")),p=i(a("ebddggeaib")),g=i(a("ceejajbjbd")),m=i(a("dgdcjccfdi")),b=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).validateTranslate=function(e,t){var n=a.props.editedMedia.editData,i=(e-n.width/2)*n.scale,r=(e+n.width/2)*n.scale,o=(t+n.height/2)*n.scale,d=(t-n.height/2)*n.scale;return{x:i<-a.cropRadius&&r>a.cropRadius,y:d<-a.cropRadius&&o>a.cropRadius}},a.validateScale=function(e){var t=a.props.editedMedia.editData,n=Math.max(2*a.cropRadius/t.width,2*a.cropRadius/t.height),i=Math.max(e,n);if(t.width*e<a.cropRadius||t.height*e<a.cropRadius)return!1;var r=-a.cropRadius/i+t.width/2,o=a.cropRadius/i-t.width/2,d=-a.cropRadius/i+t.height/2,l=a.cropRadius/i-t.height/2;return{scale:i,offsetX:Math.min(Math.max(t.offsetX,o),r),offsetY:Math.min(Math.max(t.offsetY,l),d)}},a.onPressMove=function(e,t){var n=a.props.editedMedia.editData,i=e.stageX-t.x,r=e.stageY-t.y,o=n.offsetX+i/n.scale,d=n.offsetY+r/n.scale,l=a.validateTranslate(o,d);l.x&&(n.offsetX=o),l.y&&(n.offsetY=d),t.x=e.stageX,t.y=e.stageY,a.props.drawCanvas()},a.onEnlarge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1,t=a.props.editedMedia.editData,n=0!==e?e:1.1,i=a.validateScale(t.scale*n);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,a.props.drawCanvas())},a.onReduce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.1,t=a.props.editedMedia.editData,n=0!==e?e:1.1,i=a.validateScale(t.scale/n);i&&(t.scale=i.scale,t.offsetX=i.offsetX,t.offsetY=i.offsetY,a.props.drawCanvas())},a.crop=function(){var e,t=a.props.editedMedia,n=t.editData,i=t.editedImage&&t.editedImage.src;if(!i)return Promise.reject("empty image");var r=2*a.cropRadius,o=r;return r>f.default.MAX_PIC_SIDE?o=f.default.MAX_PIC_SIDE:r<f.default.MIN_PIC_SIDE&&(o=f.default.MIN_PIC_SIDE),h.crop(i,(n.width-2*a.cropRadius)/2,(n.height-2*a.cropRadius)/2,2*a.cropRadius,2*a.cropRadius,o,o,h.DATA_URL|h.CANVAS).then((function(t){var a=t.images;return e=a.dataUrl,h.crop(a.canvas,0,0,f.default.PROF_PIC_THUMB_SIDE,f.default.PROF_PIC_THUMB_SIDE)})).then((function(t){return{thumb:t.images.dataUrl,full:e}}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this;return u.createElement("div",{className:g.default.scaler},u.createElement("div",{className:g.default.scalerButton,onClick:function(){e.onEnlarge()}},u.createElement(m.default,{name:"plus"})),u.createElement("div",{className:g.default.scalerButton,onClick:function(){e.onReduce()}},u.createElement(m.default,{name:"minus"})))}},{key:"componentDidMount",value:function(){var e=this;this.props.editedMedia.saveEdits();var t,a=this.props.editedMedia.editData,n=this.props.cropOverlay,i=n.canvas;t=a.baseItem?a.baseItem.getBounds():{width:0,height:0},i.style.display="block",i.width=t.width,i.height=t.height;var r=new s.Easel.Shape;r.graphics.beginFill("rgba(0, 0, 0, 0.1)"),r.graphics.drawRect(0,0,t.width,t.height),r.regX=t.width/2,r.regY=t.height/2,r.x=t.width/2,r.y=t.height/2,r.on("mousedown",(function(t){var a={x:t.stageX,y:t.stageY},n=r.on("pressmove",e.onPressMove,null,!1,a);r.on("pressup",(function(){r.off("pressmove",n)}),null,!0)})),r.cursor="move",this.props.listeners.add(i,"mousewheel",(function(t){t.deltaY>0?e.onEnlarge(1.02):e.onReduce(1.02)}));var o=i.getContext("2d"),d=i.width,l=i.height,c=d/l>500/361?l/361:d/500;this.cropRadius=Math.min(361,500)/2*.9*c,o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(0,0,d,l),o.globalCompositeOperation="destination-out",o.beginPath(),o.arc(d/2,l/2,this.cropRadius,0,2*Math.PI,!0),o.fillStyle="#ffffff",o.fill(),n.addChild(r),n.update()}}]),t}(u.Component),v=b;t.Component=v;var j=(0,p.default)(b);t.default=j},ceibaheeb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("eaaagccfda")),h=a("djfeeacgad"),p=n(a("ddhijeejag")),g=a("ceagbbhcha"),m=a("chcfhehffe"),b=i(a("ciehddchae")),v=a("heaagdjji"),j=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,c.default)(t).call(this,e))).setMap=function(e){return a.map=e},a.onLocationChanged=function(e){var t=a.props,n=t.clusters,i=t.atCenter,r=t.selectedMarkerId;if(a.props.onLocationChanged(),!r&&i)a.viewAllClusters();else if(r&&r===e){var o=n.get(r);o&&a.viewSingleCluster(o)}},a.onIdle=(0,f.default)((function(){var e=a.map;if(e){var t=e.getZoom();if(a.zoomingToAllClusters){a.defaultZoomLevel=t,a.zoomingToAllClusters=!1;var n=(0,s.default)(a).zoomHistory;if(n.prev.preZoom===n.curr.postZoom&&n.prev.postZoom===n.curr.preZoom)return}a.props.onMapMoved(t,a.atCenter())}}),100),a.onDragStart=function(){var e=a.map;if(e){var t=e.getZoom();a.props.onMapMoved(t,!1)}},a.onResize=(0,f.default)((function(){a.setMapLatLngDiff()}),250),a.mapOnClick=function(){a.dismissMarkerTimer.debounceAndCap(50,100)},a.markerOnClick=function(e,t){a.dismissMarkerTimer.isScheduled()&&a.dismissMarkerTimer.cancel(),a.props.onMarkerSelected(t)},a.dismissMarkerTimer=new h.ShiftTimer((function(){a.props.selectedMarkerId&&a.props.onClearSelected()})),a.defaultLatDiff=a.defaultLngDiff=.01,a.defaultZoomLevel=-1,a.zoomingToAllClusters=!1,a.zoomHistory={prev:{preZoom:-1,postZoom:-1},curr:{preZoom:-1,postZoom:-1}},a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentWillUnmount",value:function(){this.onIdle.cancel(),this.onResize.cancel(),window.removeEventListener("resize",this.onResize),this.dismissMarkerTimer.isScheduled()&&this.dismissMarkerTimer.cancel()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),this.setMapLatLngDiff(),this.viewAllClusters()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.clusters,n=t.secondaryClusters,i=t.selectedMarkerId,r=t.atCenter,o=e.selectedMarkerId;if(this.setMapLatLngDiff(),a.size&&(!o||i||r))if(i&&o!==i){var d=a.get(i)||n.get(i);d&&this.viewSingleCluster(d)}else!i&&r&&this.viewAllClusters()}},{key:"viewAllClusters",value:function(){var e=this.props.clusters;0===e.size||this.atCenter()||(this.zoomToFitAllClusters(e),this.centerAllClusters(e))}},{key:"viewSingleCluster",value:function(e){this.zoomToFitSingleCluster(e),this.centerSingleCluster(e)}},{key:"zoomToFitAllClusters",value:function(e){var t=this.map;if(t){this.zoomingToAllClusters=!0,this.zoomHistory.prev.preZoom=this.zoomHistory.curr.preZoom,this.zoomHistory.curr.preZoom=t.getZoom();var a=this.getBounds(e),n=e.entries().next();if(1!==e.size||n.done)this.boundsTooSmall(a)?t.fitBounds(this.getDefaultBounds(a.getCenter())):t.fitBounds(a);else{var i=(0,r.default)(n.value,2)[1];this.zoomToFitSingleCluster(i,!1)}this.zoomHistory.prev.postZoom=this.zoomHistory.curr.postZoom,this.zoomHistory.curr.postZoom=t.getZoom()}}},{key:"zoomToFitSingleCluster",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.map;if(a&&(!t||!this.boundsTooSmall(a.getBounds()))){var n=e.northeast,i=e.southwest,r=new google.maps.LatLng(n.lat,n.lng),o=new google.maps.LatLng(i.lat,i.lng),d=new google.maps.LatLngBounds(o,r);this.boundsTooSmall(d)?a.fitBounds(this.getDefaultBounds(d.getCenter())):a.fitBounds(d)}}},{key:"centerAllClusters",value:function(e){var t=this.getBounds(e).getCenter();this.centerMap(t)}},{key:"centerSingleCluster",value:function(e){var t=new google.maps.LatLng(e.center);this.centerMap(t)}},{key:"centerMap",value:function(e){var t=this.map;t&&(t.getCenter().equals(e)||t.panTo(e))}},{key:"getInitialCenter",value:function(){return this.getBounds(this.props.clusters).getCenter()}},{key:"getBounds",value:function(e){var t=new google.maps.LatLngBounds;return e.forEach((function(e){t.extend({lat:e.lat,lng:e.lng})})),t}},{key:"boundsTooSmall",value:function(e){var t=e.getNorthEast(),a=e.getSouthWest(),n=t.lat()-a.lat(),i=t.lng()-a.lng(),r=this.defaultLatDiff,o=this.defaultLngDiff,d=Math.abs(n)<r,l=Math.abs(i)<o;return d||l}},{key:"getDefaultBounds",value:function(e){var t=this.defaultLatDiff,a=this.defaultLngDiff,n=new google.maps.LatLng(e.lat()-t/2,e.lng()-a/2),i=new google.maps.LatLng(e.lat()+t/2,e.lng()+a/2);return new google.maps.LatLngBounds(n,i)}},{key:"atCenter",value:function(){var e=this.map;if(!e)return!0;var t=e.getCenter(),a=this.getInitialCenter(),n=t.lat()-a.lat(),i=t.lng()-a.lng();return Math.abs(n)<1e-4&&Math.abs(i)<1e-4&&this.defaultZoomLevel===e.getZoom()}},{key:"setMapLatLngDiff",value:function(){var e=this.map;if(e){var t=e.getCenter(),a=e.getDiv(),n=(0,v.getMetersPerPixel)(t.lat(),m.INITIAL_ZOOM),i=a.offsetWidth*n,r=a.offsetHeight*n;this.defaultLatDiff=(0,v.getLatDiff)(r),this.defaultLngDiff=(0,v.getLngDiff)(i,t.lat())}}},{key:"getMarkers",value:function(){var e=this,t=this.props,a=t.clusters,n=t.secondaryClusters,i=t.selectedMarkerId,r=[],o=function(t,a){r.push(p.createElement(b.default,{key:a,marker:{isLive:!0,cluster:t,onLocationChanged:function(){return e.onLocationChanged(a)},selected:i===a,onClick:function(t){return e.markerOnClick(t,a)}}}))};return a.forEach(o),n.forEach(o),r}},{key:"getTrafficLayer",value:function(){return this.props.showTraffic?p.createElement(g.TrafficLayer,{autoRefresh:!0}):null}},{key:"render",value:function(){return p.createElement(g.GoogleMap,{ref:this.setMap,defaultCenter:this.getInitialCenter(),defaultOptions:this.props.getMapOptions(),defaultZoom:m.INITIAL_ZOOM,mapTypeId:this.props.mapType,onClick:this.mapOnClick,onDragStart:this.onDragStart,onIdle:this.onIdle},this.getMarkers(),this.getTrafficLayer())}}]),t}(p.Component),E=(0,m.withConfig)((0,g.withScriptjs)((0,g.withGoogleMap)(j)));t.default=E},cejfghgbfb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("iidhbgeed")),u=i(a("bebajedcaf")),f=i(a("bhdddbafig")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("effbcehec")),m=a("dfdebdgdei"),b=i(a("ccbgfecegc")),v=i(a("bbfjdcedab")),j=i(a("dhigahgdjb")),E=i(a("dbgbgeefcf")),C=i(a("dahagdijgh")),y=i(a("bjheffjbgd")),S=n(a("bjjhgjdbhd")),_=a("cdhbdacigj"),k=n(a("cajijabhgb")),M=i(a("bfchfhibba")),I=i(a("dbfjeecgih")),T=i(a("bbaacgghch")),L=i(a("ddajbaceej")),P=a("dgjddffcfg"),w=i(a("dhfbfehaef")),N=i(a("bdjjabfecc")),O=i(a("dcjccddaca")),A=i(a("cbdjcijgja")),R=i(a("dhccahhefj")),D=i(a("deffjjfcba")),x=a("cbhhehcjbb"),U=i(a("bfgbdiffgd")),F=i(a("ecdebjcgfa")),B=i(a("dgdcjccfdi")),V=n(a("bjhgigfbec")),G=i(a("didfdhbecg")),H=(0,V.genId)("max_participant_toast"),W=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={searchText:"",participants:a.props.participants,shouldFocus:!0,isBusy:!1},a.flatListController=new I.default,a.setRefParticipantList=function(e){a.refParticipantList=e},a.setRefList=function(e){a.refList=e},a.onKeyDown=function(e){if("Backspace"===e.key&&!a.state.searchText&&!(0,u.default)(a.state.participants)){e.preventDefault();var t=a.state.participants;a.setState({participants:t.slice(0,t.length-1),shouldFocus:!0})}},a.onInput=function(e){a.setState({searchText:e.target.value})},a.onReset=function(){a.setState({searchText:"",shouldFocus:!0})},a.focus=function(){L.default.focus(a.refInput)},a.onBack=function(){a.props.onBack()},a.onContinue=function(){a.props.onContinue(a.state.participants)},a.onDelete=function(e,t){var n=(0,s.default)(a.state.participants,(function(e){return!e.id.equals(t.id)}));a.setState({participants:n,shouldFocus:!n.length})},a.onContactClick=function(e,t){a.state.participants.find((function(e){return e.id.equals(t.id)}))?a.removeContact(t):t.isBlocked()?b.default.openModal(p.createElement(v.default,{title:N.default.t(183),onOK:function(){a.unblockAndAddContact(t),b.default.closeModal()},onCancel:function(){return b.default.closeModal()},okText:N.default.t(1716),cancelText:N.default.t(1583)},N.default.t(179))):a.addContact(t)},a.onFocusList=function(e){a.refList&&(e.preventDefault(),e.stopPropagation(),T.default.shouldIndicateFocus(),a.refList&&a.refList.focusFirst())},a.onFocusParticipants=function(e){e.repeat||a.refInput&&0!==a.refInput.selectionStart||a.refParticipantList&&(e.preventDefault(),e.stopPropagation(),w.default.flashFocus=0,a.refParticipantList&&a.refParticipantList.focusLast())},a.onSelectFirst=function(e){e.preventDefault(),e.stopPropagation();var t=a.getFilteredContacts()[0];t&&a.onContactClick(e,t)},a.onFocusSearch=function(){T.default.shouldIndicateFocus(),L.default.focus(a.refInput)},a.setRefInput=function(e){a.refInput=e},a.setRefSizer=function(e){a.refSizer=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.focus()}},{key:"componentDidUpdate",value:function(){this.adjustInput()}},{key:"getFilteredContacts",value:function(){var e=(0,f.default)(j.default.getFilteredContacts(),this.state.participants),t=this.state.searchText;if(!t)return e;t=N.default.accentFold(t);var a=(0,P.numberSearch)(t);return e.filter((function(e){return e.searchMatch(t,a)}))}},{key:"adjustInput",value:function(){if(this.refInput){var e,t=this.refInput.offsetParent.offsetWidth-10,a=this.refSizer.offsetWidth,n=a>t?t:a;this.refInput.style.width=n+"px",e=t-this.refInput.offsetLeft-n>0?t-this.refInput.offsetLeft:t,this.refInput.style.width=e+"px",this.state.shouldFocus&&this.focus()}}},{key:"addContact",value:function(e){var t=this.state.participants;if(t.length>=U.default.maxParticipants){var a=N.default.t(69,{max:U.default.maxParticipants});b.default.openToast(p.createElement(V.default,{msg:a,id:H}))}else this.setState({participants:t.concat(e),searchText:"",shouldFocus:!0})}},{key:"removeContact",value:function(e){var t=this.state.participants;this.setState({participants:(0,s.default)(t,(function(t){return!e.id.equals(t.id)})),shouldFocus:!0})}},{key:"unblockAndAddContact",value:function(e){var t=this;this.setState({isBusy:!0}),(0,m.unblockContact)(e).checkpoint(this.props.rejectOnUnmount()).then((function(){t.addContact(e),t.setState({isBusy:!1})})).catchType(k.Unmount,(function(){})).catch((function(){t.setState({isBusy:!1})}))}},{key:"render",value:function(){var e;this.state.isBusy?e=p.createElement("div",{className:O.default.spinner},p.createElement(F.default,{stroke:6,size:24})):this.state.participants&&this.state.participants.length&&(e=p.createElement(D.default,{a8nText:"group-participants-btn",onClick:this.onContinue},p.createElement(B.default,{name:"arrow-forward",directional:!0})));var t=this.state.participants&&this.state.participants.length?" ":N.default.t(671),a={down:this.onFocusList,enter:this.state.searchText?this.onSelectFirst:this.state.participants&&this.state.participants.length?this.onContinue:function(){},up:this.onFocusParticipants};a[N.default.LR("left","right")]=this.onFocusParticipants;var n,i=this.getFilteredContacts();return n=0===i.length?p.createElement(_.SearchContacts,null):p.createElement(E.default,{ref:this.setRefList,flatListController:this.flatListController,contacts:i,onClick:this.onContactClick,onFocusSearch:this.onFocusSearch,showPersonGroupDivisionHeader:!1}),p.createElement(C.default,null,p.createElement(S.default,{title:N.default.t(1745),type:S.DRAWER_HEADER_TYPE.LARGE,onBack:this.onBack}),p.createElement(y.default,null,p.createElement("div",{className:O.default.search},p.createElement("div",null,p.createElement(w.default,{handlers:a,className:O.default.inputLine},p.createElement("div",{"data-list-scroll-container":!0},p.createElement(A.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.state.participants,onDelete:this.onDelete,onFocusSearch:this.onFocusSearch})),p.createElement("input",{"data-a8n":g.default.key("inputarea"),className:(0,h.default)(O.default.inputarea,x.SELECTABLE_INPUT_CSS_CLASS),ref:this.setRefInput,placeholder:t,onKeyDown:this.onKeyDown,onChange:this.onInput,value:this.state.searchText,type:"text"}),p.createElement("span",{className:O.default.inputareaSizer,ref:this.setRefSizer},this.state.searchText)))),p.createElement(M.default,{className:O.default.contacts,flatListControllers:[this.flatListController]},n),p.createElement(G.default,{transitionName:"btn",className:O.default.drawerSection},e)))}}]),t}(p.Component);W.defaultProps={participants:[]};var z=(0,R.default)(W);t.default=z},cejgdbefcg:function(e,t){e.exports={nextButton:"_1KM01",section:"_2RLvm"}},cejgggcehb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("djecdhecha")),c=i(a("cjedcdbdii")),s=i(a("bjehdcaaj")),u=i(a("dbjagcfebh")),f=i(a("bgifaaggh")),h=i(a("fhfbcdaib")),p=n(a("ddhijeejag")),g=a("biheibdage"),m=i(a("iieiegjjd")),b=i(a("ccbgfecegc")),v=i(a("bdeebiagii")),j=a("dibegjcfci"),E=i(a("bcjcbbafcj")),C=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,c.default)(t).apply(this,arguments))).onCancel=function(){e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()},e.onFailedMedias=function(t){var a=t.filter((function(e){return e.isGif}));if(a.length>0){var n=a.map((function(e){return e.filename}));b.default.once("ui_idle",(function(){b.default.pasteChatTextInput(e.props.chat,n.join(" "))})),e.props.onComplete&&e.props.onComplete(!1),e.clearComposeAttachMedia(),e.props.mediaCollection.mediaPickerStatsLogger.logCancel(),e.end()}},e.sendMediaWithMentions=function(t,a){var n=e.props.chat;b.default.once("ui_idle",(function(){t.forEach((function(t,a){var i=t.media,r={};if(0===a&&(r.quotedMsg=n.composeQuotedMsg,n.composeQuotedMsg=null),r.mentionedJidList=t.mentionedJidList,r.caption=i.caption,r.addEvenWhilePreparing=i.previewable&&i.state===g.ATTACH_MEDIA_STATE.PROCESSING,e.props.initCaption&&e.props.initCaption.ctwaContextLinkData){var o=e.props.initCaption,d=o.ctwaContextLinkData,l=o.ctwaContext;r.ctwaContext=(0,j.prepareCtwaContextSend)(d,l)}i.sendToChat(n,r)})),e.clearComposeAttachMedia()})),e.props.onComplete&&e.props.onComplete(!0,a),e.props.mediaCollection.mediaPickerStatsLogger.logSend(),e.end()},e.setText=function(t){null!=t&&b.default.once("ui_idle",(function(){b.default.pasteChatTextInput(e.props.chat,t)})),e.end()},e.clearComposeAttachMedia=function(){e.props.chat&&e.props.chat.setComposeAttachMediaContents(null)},e.handleRequestDismiss=e.handleRequestDismiss.bind((0,l.default)(e)),e}return(0,u.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){b.default.closeContextMenu(),b.default.closeTooltip(),this.push(p.createElement(m.default,{chat:this.props.chat,onBack:this.onCancel,initCaption:this.props.initCaption,onSendMedia:(0,h.default)(this.sendMediaWithMentions),onDropText:(0,h.default)(this.setText),onFailedMedias:this.onFailedMedias,mediaCollection:this.props.mediaCollection}))}},{key:"componentWillUnmount",value:function(){var e=this;E.default.isGecko?(0,f.default)((function(){return b.default.focusChatTextInput(e.props.chat)})):b.default.focusChatTextInput(this.props.chat)}},{key:"handleRequestDismiss",value:function(e){!1===e&&(this.clearComposeAttachMedia(),this.props.mediaCollection.mediaPickerStatsLogger.logCancel()),(0,s.default)((0,c.default)(t.prototype),"handleRequestDismiss",this).call(this)}}]),t}(v.default);t.default=C},cfaheajaaj:function(e,t){e.exports={header:"_1c_T1"}},cffjbgdgeg:function(e,t){e.exports={notifyName:"_12Pe6"}},cfhfdchaij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ebcagbhefg")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=i(a("dcgdbhbjdi")),g=i(a("dhbchaebgb")),m=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("ddeefhbafc")),E=n(a("cajijabhgb")),C=a("eajdbbfgfg"),y=i(a("jheedhagg")),S=a("dhegcfddhg"),_=i(a("chhebaafhb")),k=i(a("bdjjabfecc")),M=i(a("ebddggeaib")),I=a("edagdaii"),T=i(a("biecbbiiee")),L=i(a("eigdejjai")),P=i(a("eahdicfdjf")),w=i(a("cbccffhcjb")),N=i(a("dhccahhefj")),O=i(a("bfgbdiffgd")),A=i(a("ecdebjcgfa")),R=i(a("dcdbbhicce")),D=i(a("dgdcjccfdi")),x=n(a("bjhgigfbec")),U=i(a("ccbcihdfhg")),F=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;L.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e,"change:playedRemaining change:readRemaining change:deliveryRemaining",(function(){t.forceUpdate()}))})).catchType(E.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),f.default.openToast(s.createElement(x.default,{msg:k.default.t(896),id:(0,x.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===h.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===T.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"render",value:function(){var e,t,a,n=this.props.msg,i=this.state,r=i.msgInfo,o=i.unimplemented;if(r){var d,l,c,f=[];r.isPTT&&(t=k.default.t(859),l=(d=r.played.head())&&d.t,c=s.createElement("span",{className:g.default.icon},s.createElement(D.default,{name:"status-ptt",className:g.default.pttBlue})),f.push(s.createElement(p.default,{title:k.default.t(854),t:l,icon:c,key:"played"}))),l=(d=r.read.head())&&d.t,c=s.createElement("span",{className:g.default.icon},s.createElement(D.default,{name:"status-dblcheck",className:g.default.ack})),t=t||k.default.t(856),f.push(s.createElement(p.default,{title:t,t:l,icon:c,key:"read"})),l=(d=r.delivery.head())&&d.t,c=s.createElement("span",{className:g.default.icon},s.createElement(D.default,{name:"status-dblcheck"})),f.push(s.createElement(p.default,{title:k.default.t(852),t:l,icon:c,key:"delivery"})),!O.default.hfmStringChanges&&O.default.frequentlyForwardedMessages&&n.numTimesForwarded>0&&!n.isFrequentlyForwarded&&f.push(s.createElement(P.default,{key:"forward",msg:n})),e=s.createElement(j.default,{theme:"padding"},f)}r||o||(a=s.createElement("div",{className:g.default.spinner,key:"spinner"},s.createElement(A.default,{size:50,stroke:4})));var E=null;return n.labels&&n.labels.length&&(0,C.canDisplayLabel)()&&(E=s.createElement(j.default,{theme:"padding"},s.createElement(_.default,{labels:n.labels}))),s.createElement(m.default,{key:"message-info-modal",theme:"striped"},s.createElement(v.default,{title:k.default.t(851),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),s.createElement(w.default,{ref:this.setRefScrollable,chatPreference:u.default.assertGet("defaultPreference")},s.createElement(U.default,{msg:n,ref:(0,S.GetRef)("wrapper",this),displayType:h.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:I.MsgPosition.END,onProductClick:this.props.onProductClick})),s.createElement(b.default,null,E,s.createElement("div",{className:g.default.body},a,e)))}}]),t}(s.Component);F.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var B=(0,y.default)((0,N.default)((0,M.default)((0,R.default)(F,F.CONCERNS))));t.default=B},cfhfjfibci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ieeidjijb")),f=i(a("bgheieccaj")),h=i(a("bfchfhibba")),p=i(a("dbfjeecgih")),g=i(a("bdjjabfecc")),m=i(a("dabbegbbcb")),b=i(a("dggddfhei")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new p.default,a.renderListItem=function(e){var t=e.participant,n=t.valid?s.createElement(b.default,{participant:t}):g.default.t(801),i=t.valid?function(){return a.props.onParticipantSelected(t.contact.id.toString())}:null,r=t.isMe?s.createElement("div",{onClick:a.props.onStopSharing,className:m.default.stopSharingButton},g.default.t(791)):null;return s.createElement(u.default,{contact:t.contact,secondary:n,onClick:i,detail:r})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),contentKey:e.valid?"valid":"invalid",participant:e}}))}},{key:"render",value:function(){var e=this.getListData();return s.createElement(h.default,{className:m.default.list,flatListControllers:[this.flatListController]},s.createElement(f.default,{data:e,renderItem:this.renderListItem,flatListController:this.flatListController,direction:"vertical"}))}}]),t}(s.Component);t.default=v},cgagcihcgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("bjchbacdef")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onProductEdit=function(){},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.product,a=e.sessionId;t&&this.push(s.createElement(f.default,{product:t,onBack:this._pop,onEditProduct:this.onProductEdit,sessionId:a}))}}]),t}(u.default);t.default=h},cggdjhhbaf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("hhegggegb")),f=n(a("ddhijeejag")),h=i(a("ccbgfecegc")),p=i(a("hgigjbgie")),g=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),b=n(a("bjjhgjdbhd")),v=i(a("jagjbhcgf")),j=i(a("dgebcfedgb")),E=a("cdhbdacigj"),C=n(a("cajijabhgb")),y=a("bgddggdhc"),S=i(a("ddajbaceej")),_=i(a("jheedhagg")),k=a("dhegcfddhg"),M=i(a("dhfbfehaef")),I=i(a("bdjjabfecc")),T=i(a("ebddggeaib")),L=a("cadfgefaja"),P=i(a("dhccahhefj")),w=i(a("jcfhjhibi")),N=i(a("dcaibchbg")),O=i(a("ecdebjcgfa")),A=i(a("bgedfbagfd")),R=i(a("ccadaajdfc")),D=i(a("dgdcjccfdi")),x=i(a("jjhjbgbd")),U=i(a("didfdhbecg"));function F(){var e=(0,r.default)(["StarredDrawer:loadEarlierMsgs failed\n",""],["StarredDrawer:loadEarlierMsgs failed\\n",""]);return F=function(){return e},e}var B=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,c.default)(t).call(this,e))).msgRefs={},a.getInitialState=function(){var e=a.props.starredMsgs;return{cursor:w.default.create({msgCollection:e,type:p.default.RENDER_CURSOR.STARRED_DRAWER}).loadAfter(e,{count:p.default.MSG_PRELOAD_THRESHOLD})}},a.handleStarChange=function(){a.initSelectionObjects(),a.forceUpdate()},a.initSelectionObjects=function(){var e=a.props.starredMsgs.toArray();a.currSelection.init(e,!0),a.activeSelection.init(e)},a.setRefMsgComponent=function(e,t){t?a.msgRefs[e.id.toString()]=t:delete a.msgRefs[e.id.toString()]},a.loadEarlierMsgs=function(){var e=a.state.cursor,t=a.props.chat&&a.props.chat.id,n=a.props.starredMsgs,i=n.models;if(e.getEnd(n)<i.length)a.setState({cursor:e.loadAfter(n)});else{if(n.isSynced)return;a.props.starredMsgs.sync(t).checkpoint(a.props.rejectOnUnmount()).then((function(){e.hasAfter(n)&&a.setState({cursor:e.loadAfter(n)})})).catchType(C.Unmount,(function(){})).catch((function(e){__LOG__(2)(F(),e)}))}},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.focus=function(){a.body&&S.default.focus((0,y.forbiddenAssertDOMNode)(a.body))},a.onFocusGain=function(e){a.body&&((e?e.target:document.activeElement)===(0,y.forbiddenAssertDOMNode)(a.body)&&(a.currSelection.index<0?a.currSelection.setFirst(!0):a.currSelection.reset(!1)))},a.onNextMsg=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=a.currSelection.next();a.currSelection.index!==t&&a.currSelection.setNext(!0)},a.onPrevMsg=function(e){e&&(e.stopPropagation(),e.preventDefault()),a.currSelection.prev()>-1&&a.currSelection.setPrev(!0)},a.onScroll=function(e){a.handleScroll(e.currentTarget)},a._handleScroll=function(e){a.updateMsgListInfo(),function(e){return e.scrollTop+p.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight}(e)&&a.loadEarlierMsgs()},a.selectMsg=function(e){a.currSelection.setVal(e),a.activeSelection.setVal(e),h.default.openChatAt(e.chat,e.chat.getSearchContext(e)),h.default.focusShowMsg(e.id)},a.getMsgList=function(){var e=a.state.cursor,t=a.props.starredMsgs,n=t.toArray(),i=t.isSynced?e.getEnd(t):Math.min(e.getEnd(t),n.length);return n=n.slice(e.getStart(t),i),a.length=n.length,n},a.getMsgVisibility=function(e){if(!e)return p.default.VISIBILITY.BELOW;if(a.scrollContainer){var t=(0,y.forbiddenAssertDOMNode)(a.scrollContainer),n=t.previousSibling.clientHeight,i=t.scrollTop+n,r=i+t.clientHeight,o=(0,y.forbiddenAssertDOMNode)(e);return o?o.offsetTop+o.clientHeight<=i?p.default.VISIBILITY.ABOVE:o.offsetTop>=r?p.default.VISIBILITY.BELOW:p.default.VISIBILITY.VISIBLE:p.default.VISIBILITY.BELOW}},a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!!a.msgListInfo.visibleMsgs[e.toString()]&&(!!t||a.getMsgComponent(e))},a.getMsgComponent=function(e){var t=a.msgRefs[e.toString()];if(t){var n=t.getWrapperRef();return n&&"function"==typeof n.getMsgComponentRef?n.getMsgComponentRef():void 0}},a._updateMsgListInfo=function(){for(var e=a.getMsgList(),t={},n=0,i=a.length-1;n<i;){var r=Math.floor((n+i)/2),o=a.msgRefs[e[r].id.toString()];a.getMsgVisibility(o)===p.default.VISIBILITY.ABOVE?n=r+1:i=r}for(var d=n;d<e.length;d++){var l=a.msgRefs[e[d].id.toString()];if(a.getMsgVisibility(l)!==p.default.VISIBILITY.VISIBLE)break;t[e[d].id.toString()]=!0}a.pauseHiddenGifs(a.msgListInfo.visibleMsgs,t),a.msgListInfo.visibleMsgs=t},a.pauseHiddenGifs=function(e,t){for(var n in e)if(!t[n]){var i=a.props.starredMsgs.get(n);if(i&&i.isGif){var r=a.getMsgComponent(n);r&&r.playCount&&r.pause()}}},a.handleScroll=(0,u.default)(a._handleScroll,100),a.updateMsgListInfo=(0,u.default)(a._updateMsgListInfo,100),a.msgListInfo={visibleMsgs:{}},a.state=a.getInitialState(),a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.currSelection=new N.default([],(function(e){return e.id.toString()})),this.activeSelection=new N.default([],(function(e){return e.id.toString()}))}},{key:"componentDidMount",value:function(){var e=this;this.focus(),this.props.listeners.add(window,"resize",this.updateMsgListInfo),!this.props.starredMsgs.isSynced&&this.props.starredMsgs.length<p.default.PAGE_SIZE&&this.props.listeners.uiIdle(this.loadEarlierMsgs),this.props.listeners.add(this.props.starredMsgs,"reset sync",(function(){e.initSelectionObjects(),e.forceUpdate()})),this.initSelectionObjects(),this.forceUpdate(),this.props.listeners.add(this.props.starredMsgs,"add remove",this.handleStarChange),this.onFocusGain(),this.props.listeners.add(this.props.starredMsgs,"reset",(function(){e.msgListInfo={visibleMsgs:{}},e.setState(e.getInitialState()),e.loadEarlierMsgs()}))}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel(),this.updateMsgListInfo.cancel()}},{key:"componentDidUpdate",value:function(){this.updateMsgListInfo()}},{key:"render",value:function(){var e,t,a=this,n=this.getMsgList(),i=this.state.cursor,r=this.props.starredMsgs,o=this.props.chat||null;if(t=r.isSynced&&i.getEnd(r)>=n.length?null:this.props.starredMsgs.syncPromise?f.createElement("div",{className:A.default.more,title:I.default.t(802)},f.createElement(O.default,{stroke:6,size:24})):f.createElement("div",{className:A.default.more},f.createElement("div",{title:I.default.t(799),onClick:this.loadEarlierMsgs},f.createElement(D.default,{name:"refresh"}))),n.length>0){var d=n.map((function(e){var t=e.type===p.default.MSG_TYPE.IMAGE||e.type===p.default.MSG_TYPE.VIDEO||e.type===p.default.MSG_TYPE.AUDIO;return f.createElement(R.default,{key:e.id.toString(),ref:function(t){a.setRefMsgComponent(e,t)},msg:e,isMsgVisible:t?a.isMsgVisible:function(){},currSelection:a.currSelection,activeSelection:a.activeSelection,onClickMsg:a.selectMsg})}));e=f.createElement(U.default,{transitionName:"slide"},d)}else this.props.starredMsgs.isSynced?e=f.createElement(E.StarredMsgs,null):(e=f.createElement(E.Loading,null),t=null);var l={down:this.onNextMsg,up:this.onPrevMsg},c=n.length>0?f.createElement(L.MenuBarItem,{a8nText:"starred-menu",icon:f.createElement(D.default,{name:"menu"}),title:I.default.t(843)},f.createElement(V,{chat:o,msgs:n})):null;return f.createElement(g.default,{theme:"gallery"},f.createElement(M.default,{className:A.default.hotKeyWraper,handlers:l,onFocus:this.onFocusGain,"data-tab":p.default.TAB_ORDERS.CHAT_STARRED_DRAWER,ref:(0,k.GetRef)("body",this)},f.createElement(b.default,{title:I.default.t(1220),onBack:this.onClose,type:b.DRAWER_HEADER_TYPE.LARGE,menu:c}),f.createElement(m.default,{onScroll:this.onScroll,ref:(0,k.GetRef)("scrollContainer",this)},e,t)))}}]),t}(f.Component),V=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).sendUnstarAll=function(){h.default.openModal(f.createElement(x.default,{msgs:a.props.msgs,chat:a.props.chat}))},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props.msgs;return f.createElement(v.default,{type:"dropdown_menu",flipOnRTL:!0,key:"StarredDrawerHeader",dirX:"LEFT"},f.createElement(j.default,{a8n:"mi-unstar-all menu-item",action:this.sendUnstarAll,disabled:0===e.length},I.default.t(1291)))}}]),t}(f.Component),G=(0,_.default)((0,P.default)((0,T.default)(B)));t.default=G},cggehdbfjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a,n){var i=e.map(k.vcardFromContactModel),r=1===i.length?i[0]:(0,k.mergeVcards)(i),o="".concat(r.displayName,".vcf"),d=(0,p.createFile)([r.vcard],o,{type:"text/vcard"}),l=d.size/1024;if(m.default.supportsFeature(m.default.F.VCARD_OVER_MMS)&&0!==S.default.vcardAsDocumentSizeKb&&l>S.default.vcardAsDocumentSizeKb)return void function(){L.apply(this,arguments)}(d,e.length,t,a,n);!function(e,t,a,n,i){var r=n&&n.msgContextInfo(t.id),o=(0,g.getMaybeMeUser)(),d=T({ack:h.default.ACK.CLOCK,from:o,id:new v.default({from:o,to:t.id,id:(0,E.default)(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,self:"out",t:u.default.globalUnixTime(),to:t.id},r,{ctwaContext:i}),l=1===e.length?T({type:"vcard",vcardFormattedName:e[0].displayName,body:e[0].vcard},d,{},O(t)):T({type:"multi_vcard",vcardList:e},d,{},O(t));P((function(){return(0,C.addAndSendMsgToChat)(t,l)[1]}),{channel:b.default.CONTACT_SEND_CHANNEL.CHATD,isMultiVcard:e.length>1,sizeInKb:a})}(i,t,l,a,n)};var r=i(a("dfadhaifh")),o=i(a("diaegabbjd")),d=i(a("bhabhhjdch")),l=i(a("ffedgcdgj")),c=n(a("ddhijeejag")),s=i(a("dbjacfjdhg")),u=i(a("cfadcbbiie")),f=i(a("ccbgfecegc")),h=i(a("hgigjbgie")),p=a("cgffhfegce"),g=a("ddbdgibbbi"),m=i(a("bhbdiadfhj")),b=i(a("bdcchebfge")),v=i(a("cffajefeag")),j=i(a("cahfddcdga")),E=i(a("cfejjfjhca")),C=a("cgddafdgie"),y=a("dgbddfjdhi"),S=i(a("bfgbdiffgd")),_=n(a("bjhgigfbec")),k=a("cjjdjbcgjh");function M(){var e=(0,r.default)(["Error sending contact: ",""]);return M=function(){return e},e}function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(){return(L=(0,l.default)(o.default.mark((function e(t,a,n,i,r){var d,l,u,p,g;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={file:t,type:h.default.MSG_TYPE.DOCUMENT,filename:t.name,mimetype:"text/vcard",isVcardOverMmsDocument:!0,documentPageCount:a},l=new s.default({chatParticipantCount:n.getParticipantCount()}),e.next=4,l.processAttachments([d]);case 4:if(u=l.uiProcessMsgs(),!(p=u.errorMsgs)){e.next=8;break}return f.default.openToast(c.createElement(_.default,{msg:p,id:(0,_.genId)()})),e.abrupt("return");case 8:g=(0,j.default)(l.getValidMedias()[0],"collection.getValidMedias()[0]"),P((function(){return g.sendToChat(n,{quotedMsg:i,ctwaContext:r})}),{channel:b.default.CONTACT_SEND_CHANNEL.MMS,isMultiVcard:a>1,sizeInKb:t.size/1024});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return w.apply(this,arguments)}function w(){return(w=(0,l.default)(o.default.mark((function e(t,a){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new b.default.ContactSend({channel:a.channel,isMultiVcard:a.isMultiVcard,vcardDataSize:Math.floor(a.sizeInKb)}),e.prev=1,e.next=4,t();case 4:i=e.sent,n.messageSendResult=N(i),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),__LOG__(2)(M(),e.t0),n.messageSendResult=b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UNKNOWN,e.t0;case 13:return e.prev=13,n.markMessageSendT(),n.commit(),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[1,8,13,17]])})))).apply(this,arguments)}function N(e){switch(e){case y.SendMsgResult.OK:return b.default.MESSAGE_SEND_RESULT_TYPE.OK;case y.SendMsgResult.ERROR_NETWORK:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_NETWORK;case y.SendMsgResult.ERROR_EXPIRED:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_EXPIRED;case y.SendMsgResult.ERROR_CANCELLED:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_CANCELLED;case y.SendMsgResult.ERROR_UPLOAD:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UPLOAD;case y.SendMsgResult.ERROR_UNKNOWN:return b.default.MESSAGE_SEND_RESULT_TYPE.ERROR_UNKNOWN}}function O(e){var t={};if(S.default.ephemeralMessages){e.isEphemeralSettingOn()&&(t.ephemeralDuration=e.getEphemeralSetting());var a=e.getEphemeralSettingTimestamp();null!=a&&(t.ephemeralSettingTimestamp=a)}return t}},cggjjcbdia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.mimeType,a=e.filename,n=(0,d.default)(l.default.icon,s[t]?s[t].icon:"icon-doc-generic");return o.createElement("div",{className:l.default.container,"data-animate-attach-media":!0},o.createElement("div",{className:l.default.media},o.createElement("div",{className:l.default.document},o.createElement("div",{className:n}),o.createElement("div",{className:l.default.text},a))))};var r=i(a("bgeijhbbad")),o=n(a("ddhijeejag")),d=i(a("ceffhbhahb")),l=i(a("bajbjjihjg")),c=a("cedhgehjef"),s=(0,r.default)(c.MIMETYPES,(function(e){return"document"===e.msgType}))},cghhjgjffa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("bjigbaghc")),h=n(a("hhcjfgifh")),p=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),m=i(a("cciafahdib")),b=n(a("bjjhgjdbhd")),v=i(a("gfebgebbi")),j=a("ddbdgibbbi"),E=i(a("bdjjabfecc")),C=i(a("dadjidbecc")),y=i(a("dgdcjccfdi")),S=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=s.createElement(C.default,{id:this.props.profileId}),t=s.createElement(h.default,{id:(0,j.getMaybeMeUser)(),size:82,quality:h.DETAIL_IMAGE_QUALITY.HIGH}),a=s.createElement(v.default,{text:f.default.pushname,ellipsify:!0,titlify:!0});return s.createElement(p.default,{theme:"settings"},s.createElement(b.default,{title:E.default.t(1210),onBack:this.props.onClose,type:b.DRAWER_HEADER_TYPE.LARGE}),s.createElement(g.default,null,s.createElement(u.default,{onClick:this.props.onProfile,image:t,primary:a,theme:"identity",secondary:e}),s.createElement(m.default,{a8nText:"li-notifications",icon:s.createElement(y.default,{name:"settings-notifications"}),onClick:this.props.onNotifications},E.default.t(833)),void 0,s.createElement(m.default,{icon:s.createElement(y.default,{name:"settings-theme"}),onClick:this.props.onThemeSettings},E.default.t(840)),s.createElement(m.default,{icon:s.createElement(y.default,{name:"settings-wallpaper"}),onClick:this.props.onWallpaper},E.default.t(841)),s.createElement(m.default,{a8nText:"li-blocked",icon:s.createElement(y.default,{name:"settings-blocked"}),onClick:this.props.onBlocked},E.default.t(826)),void 0,s.createElement(m.default,{a8nText:"li-help",icon:s.createElement(y.default,{name:"settings-help"}),onClick:this.props.onHelp},E.default.t(828)),void 0,void 0,void 0,void 0,void 0))}}]),t}(s.PureComponent);t.default=S},chbjhajdfc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cciecagbbc")),f=i(a("ccbgfecegc")),h=i(a("bdeebiagii")),p=i(a("biibicegh")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i))))._pop=function(){a.pop(),f.default.closeDrawerMid()},a._end=function(){a.end(!0)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(new p.default).toString();this.push(s.createElement(u.default,{sessionId:e,onBack:this._pop}))}}]),t}(h.default);t.default=g},chcfhehffe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.withConfig=function(e){return function(t){function a(){var e,t;(0,d.default)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=(0,c.default)(this,(e=(0,s.default)(a)).call.apply(e,[this].concat(i)))).state={authFailed:!0===window.gm_authFailed},t.onAuthFailed=function(){window.gm_authFailed=!0,t.setState({authFailed:!0});var e=t.getUrl(),a=String(g.default.googleMapsDoNotAuth),n=String(g.default.googleMapsKeyless);__LOG__(4,!1,new Error)(v(),e,"web",a,n),SEND_LOGS("google-map-auth-failed")},t}return(0,u.default)(a,t),(0,l.default)(a,[{key:"componentDidMount",value:function(){window.gm_authFailure=this.onAuthFailed}},{key:"componentWillUnmount",value:function(){window.gm_authFailure=void 0}},{key:"getUrl",value:function(){var e={client:"gme-whatsappinc",v:"3",libraries:"geometry,drawing,places",t:Math.floor(Date.now()/864e5)};return b.default.build("https://maps.googleapis.com/maps/api/js",e)}},{key:"getMapOptions",value:function(){return{clickableIcons:!1,fullscreenControl:!1,keyboardShortcuts:!1,mapTypeControl:!1,minZoom:3,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}}}},{key:"render",value:function(){if(this.state.authFailed)return f.createElement("div",{className:p.default.authFailed},h.default.t(637));var t=this.getUrl(),a=f.createElement("div",{className:p.default.loading},f.createElement(m.default,{color:"highlight"})),n=f.createElement("div",{className:p.default.container}),i=f.createElement("div",{className:p.default.map});return f.createElement(e,(0,r.default)({googleMapURL:t,loadingElement:a,containerElement:n,mapElement:i,getMapOptions:this.getMapOptions},this.props))}}]),a}(f.Component)},t.MIN_ZOOM=t.INITIAL_ZOOM=t.MapType=void 0;var r=i(a("bacehaajgh")),o=i(a("dfadhaifh")),d=i(a("eaidjcib")),l=i(a("dgcdacjddi")),c=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=i(a("bdjjabfecc")),p=i(a("cddhggdajg")),g=i(a("bfgbdiffgd")),m=i(a("ecdebjcgfa")),b=i(a("edbaidcaf"));function v(){var e=(0,o.default)(["url: ","\ntarget: ","\nprops; "," & ",""],["url: ","\\ntarget: ","\\nprops; "," & ",""]);return v=function(){return e},e}var j=a("bjgidhichc")({ROADMAP:"roadmap",SATELLITE:"satellite",TERRAIN:"terrain"});t.MapType=j;t.INITIAL_ZOOM=15;t.MIN_ZOOM=3},chihjgjffb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bafcchidfe")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("hgigjbgie")),g=i(a("bdeebiagii")),m=i(a("bdjjabfecc")),b=i(a("bijffg")),v=i(a("bacbeacgf")),j=i(a("eabhbddaei")),E=i(a("bihiceijie")),C=function(e){function t(){var e,n;(0,r.default)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(n=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o)))).onDeleteLabel=function(e){e.forEach((function(e){var t=e.id;b.default.deleteLabel(t)}))},n.onManageLabels=function(e){f.default.openModal(s.createElement(E.default,{modelsToUpdate:e}))},n.onEditLabel=function(e){f.default.openModal(s.createElement(u.default,{labelId:e,onUpdateLabel:n.onUpdateLabel,onCancel:f.default.closeModal()}))},n.onLabelClick=function(e){var t=a("bahjbgaefa").default;n.push(s.createElement(t,{openLabelColorDrawer:n.openLabelColorDrawer,labelId:e,onManageLabels:n.onManageLabels,onClose:n._pop,onRemoveLabel:n.onRemoveLabel,onEditLabel:n.onEditLabel}))},n.openAddLabel=function(){b.default.toArray().length>=p.default.MAX_SMB_LABEL_COUNT?f.default.openModal(s.createElement(h.default,{okText:m.default.t(1026),onOK:function(){return f.default.closeModal()}},m.default.t(1741,{count:p.default.MAX_SMB_LABEL_COUNT}))):f.default.openModal(s.createElement(u.default,{onAddLabel:n.onAddLabel,onCancel:f.default.closeModal()}))},n.onUpdateLabel=function(e,t){b.default.updateLabel(e,t)},n.openLabelColorDrawer=function(e,t){n.push(s.createElement(v.default,{labelId:e,onClose:n._pop,onUpdateColor:n.onUpdateLabel,currentColor:t}))},n._pop=function(){n.pop()},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(j.default,{onDeleteLabel:this.onDeleteLabel,onLabelClick:this.onLabelClick,onClose:this._pop,openAddLabel:this.openAddLabel}))}},{key:"onAddLabel",value:function(e,t){b.default.addNewLabel(e,t)}},{key:"onRemoveLabel",value:function(e,t){b.default.addOrRemoveLabels([{id:e,type:"remove"}],t)}}]),t}(g.default);t.default=C},chjbbfedjd:function(e,t){e.exports={newGroupButton:"_1g1ui"}},chjejfcdd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=a("jagjbhcgf"),g=i(a("bjjdjibgad")),m=a("dbbhijehii"),b=i(a("dhfbfehaef")),v=i(a("bdjjabfecc")),j=i(a("jdibabjeb")),E=i(a("bdeggjiff")),C=a("cecdefhddc"),y=i(a("dgdcjccfdi")),S=i(a("cgjdibiahi")),_=i(a("dfciadajdf")),k=a("bficeagfg"),M=i(a("didfdhbecg")),I=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={active:!1,emojiPicker:null},a.onEmojiPicker=function(e){e&&(e.preventDefault(),e.stopPropagation());var t=u.createElement(g.default,{onEmoji:a.onEmoji,onFocusNext:a.restoreFocus,onFocusPrev:a.restoreFocus});a.setState({emojiPicker:{menu:t,dirY:p.DirY.TOP,type:"emoji_picker",anchor:e.target}}),a.restoreFocus()},a.onEmojiPickerClose=function(){a.setState({emojiPicker:null})},a.onRestoreEmojiPickerFocus=function(){if(a.refEmojiPicker){var e=a.refEmojiPicker.getRef();if(e){var t=e.getElement();t&&t.restoreFocus()}}},a.onEmoji=function(e){var t=a.refInput;t&&(t.focus(!1),t.replaceSelection(e)),a.onEmojiPickerClose()},a.setRefInput=function(e){a.refInput=e},a.setRefEmojiPicker=function(e){a.refEmojiPicker=e},a.onSelectionChange=function(e){a.selection=e},a.onMaxPasteExceeded=function(){f.default.openModal(u.createElement(h.default,{title:v.default.t(367),onOK:function(){f.default.closeModal()},okText:v.default.t(1588)},v.default.t(366)))},a.restoreFocus=function(){a.refInput&&a.refInput.focus()},a.onBlur=function(e){a.state.active&&a.setState({active:!1}),a.props.onBlur&&a.props.onBlur(e)},a.onFocus=function(e){e.stopPropagation(),a.state.active||a.setState({active:!0}),a.props.onFocus&&a.props.onFocus(e)},a.onReset=function(){a.refInput&&a.refInput.reset()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.restoreFocus()}},{key:"render",value:function(){var e,t=this.props.maxLength,a=(0,k.numCodepoints)(this.props.value||""),n=(0,s.default)(E.default.textInput,{[E.default.noPlaceholder]:!this.props.placeholder,[E.default.active]:!0}),i=(0,s.default)(E.default.labelText,{[E.default.float]:!!this.props.value}),r=this.props.supportsEmoji?u.createElement("button",{className:E.default.inputEmoji,onClick:this.onEmojiPicker},u.createElement(y.default,{name:"emoji-input"})):void 0,o=this.props.value;e=o&&""!==o?u.createElement("div",{role:"button",className:E.default.clearInput,onClick:this.onReset},u.createElement(y.default,{name:"x-alt"})):null;var d,l=this.props.showRemaining?u.createElement("div",{className:(0,s.default)(E.default.buttonContainer,E.default.charCounter,{[E.default.charCounterWithClearBtn]:!!e})},u.createElement("div",{className:E.default.charCounter},t-a<50?v.default.n(t-a):null)):null;return this.state.emojiPicker&&(d=u.createElement(S.default,{displayName:"EmojiPicker",escapable:!0,popable:!0,ref:this.setRefEmojiPicker,requestDismiss:this.onEmojiPickerClose,requestFocus:this.onRestoreEmojiPickerFocus},u.createElement(_.default,{contextMenu:this.state.emojiPicker}))),u.createElement(b.default,{className:n,onFocus:this.restoreFocus},u.createElement("span",{className:i},this.props.placeholder),u.createElement("div",{className:E.default.spacer}),u.createElement("div",{className:E.default.suggestionsPositioner},u.createElement("div",{className:E.default.suggestionsContainer},u.createElement(j.default.MentionSuggestions,{chat:this.props.chat,theme:C.ThemeOptions.MEDIA_CAPTION}),u.createElement(j.default.EmojiSuggestions,{chat:this.props.chat,theme:m.ThemeOptions.MEDIA_CAPTION}))),u.createElement("div",{className:(0,s.default)(E.default.wrapper,{[E.default.textActive]:this.state.active})},u.createElement(j.default,{ref:this.setRefInput,initialValue:this.props.value,initialSelection:this.selection,readOnly:!1,spellCheck:this.props.spellCheck,multiline:this.props.multiline,maxLength:this.props.maxLength,onEnter:this.props.onEnter,onMaxPasteExceeded:this.onMaxPasteExceeded,onFiles:this.props.onFiles,onChange:this.props.onChange,onSelect:this.onSelectionChange,theme:"media-caption"}),u.createElement("div",{className:E.default.inputControls},u.createElement(M.default,{transitionName:"pop",component:"div",className:E.default.buttonContainer},e,r),l)),d)}}]),t}(u.Component);t.default=I,I.defaultProps={maxLength:25}},cicgecaadf:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.createElement("div",{className:e.inactive?o.default.inactive:o.default.offline,onClick:e.onClick},r.createElement("div",null,r.createElement("div",{className:o.default.circle},r.createElement(d.default,{name:e.svgName})),r.createElement("div",{className:o.default.text},e.text)))};var r=i(a("ddhijeejag")),o=n(a("dfdgfddgcc")),d=n(a("dgdcjccfdi"))},cichhcjjd:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.frequentlyForwardedCount,a=e.totalCount,n=r.createElement("span",{className:c.default.text},1===t&&1===a?s.default.t(604):s.default.t(603)," ",r.createElement(d.default,{href:(0,l.getFrequentlyForwardedFaqUrl)()},s.default.t(759)));return r.createElement("div",{className:c.default.wrapper},r.createElement("div",{className:c.default.icon},r.createElement(u.default,{name:"highly-forwarded"})),r.createElement(o.default,{theme:"plain",primary:n,idle:!0}))};var r=i(a("ddhijeejag")),o=n(a("cefccdiabc")),d=n(a("djaiggcdb")),l=a("facgccaif"),c=n(a("cddiididei")),s=n(a("bdjjabfecc")),u=n(a("dgdcjccfdi"))},cidchbceif:function(e,t){e.exports={container:"_3qp5P",list:"_2zDc6",header:"_2Atzl",item:"_1fRkd",right:"_2oXi_",left:"hgYu1",close:"_1__zT",name:"lKtSq",time:"_2Y-Ms"}},ciehddchae:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("ceagbbhcha"),h=i(a("ccjdjhjhij")),p=a("dbgjdhbdaj"),g=i(a("ebddggeaib")),m=i(a("dijcebghbf")),b=i(a("badjagjaja")),v=i(a("diffaiehid")),j=i(a("dfefggiaaf")),E=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).setOverlay=function(e){a.overlay=e},a.onLocationChanged=function(){a.props.marker.isLive&&a.props.marker.onLocationChanged()},a.onLastUpdatedTimeChanged=function(){if(a.props.marker.isLive){null!=a.timeoutId&&(a.props.clearTimeout(a.timeoutId),a.timeoutId=null);var e=(0,p.isStale)(a.props.marker.cluster);a.state.stale!==e&&a.setState({stale:e}),e||a.setStaleTimeout()}},a.getPixelPositionOffset=function(e,t){return{x:-e/2,y:-t}},a.state={stale:!e.marker.isLive||(0,p.isStale)(e.marker.cluster)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster;(0,p.isStale)(t)||this.setStaleTimeout(),t.participants.forEach((function(t){e.props.listeners.add(t,"change:lat change:lng",e.onLocationChanged),e.props.listeners.add(t,"change:lastUpdated",e.onLastUpdatedTimeChanged)}))}}},{key:"setStaleTimeout",value:function(){var e=this;if(this.props.marker.isLive){var t=this.props.marker.cluster,a=p.STALE_THRESHOLD-(0,p.getSmallestElapsedTime)(t);a<=0||(this.timeoutId=this.props.setTimeout((function(){return e.setState({stale:!0})}),1e3*a))}}},{key:"getMapPaneName",value:function(){return this.props.marker.onClick?f.OverlayView.OVERLAY_MOUSE_TARGET:f.OverlayView.OVERLAY_LAYER}},{key:"render",value:function(){var e,t,a,n,i=this.props.marker,r=i.onClick,o=i.selected,d=this.state.stale;if(this.props.marker.isLive){var l=this.props.marker.cluster;e=l.lat,t=l.lng,a=l.participants.map((function(e){return e.id}))}else e=this.props.marker.lat,t=this.props.marker.lng,a=[this.props.marker.contact.id];if(o){var c,g,v;if(this.props.marker.isLive){var E=this.props.marker.cluster,C=E.participants,y=E.hasSingleParticipant()?C.at(0):null;y&&(c=y.id,g=y.accuracy,v=y.isMe)}else{var S=this.props.marker.contact;c=S.id,v=S.isMe}c&&(n=u.createElement(b.default,{id:c,lat:e,lng:t,accuracy:g,isMe:v||!1,markerSize:p.MARKER_SIZE}))}return u.createElement(f.OverlayView,{ref:this.setOverlay,position:{lat:e,lng:t},mapPaneName:this.getMapPaneName(),getPixelPositionOffset:this.getPixelPositionOffset},u.createElement(j.default.Provider,{value:this.context},u.createElement("div",{className:(0,s.default)(m.default.container,{[m.default.selected]:o}),onClick:r},n,u.createElement("div",{className:(0,s.default)(m.default.glow,{[m.default.stale]:d,[m.default.expired]:!this.props.marker.isLive}),style:{height:p.AVATAR_SIZE,width:p.AVATAR_SIZE,padding:p.GLOW_SIZE}},u.createElement("div",null,u.createElement(h.default,{ids:a,size:p.IMAGE_SIZE,border:!0,showCount:!0}))),u.createElement("div",{className:(0,s.default)(m.default.pin,{[m.default.selected]:o}),style:{height:p.PIN_SIZE,width:p.PIN_SIZE,marginLeft:(p.MARKER_SIZE-p.PIN_SIZE)/2}}))))}}]),t}(u.Component);E.contextType=j.default;var C=(0,v.default)((0,g.default)(E));t.default=C},cijddbbaja:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("jbgeabaaj")),u=n(a("ddhijeejag")),f=i(a("cagaiadjai")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),m=a("eajdbbfgfg"),b=i(a("bdjjabfecc")),v=i(a("bijffg")),j=a("dcfieddiah"),E=i(a("ebddggeaib")),C=i(a("ccdfgfhhfa")),y=i(a("bdcchebfge")),S=n(a("dgjfidhijd")),_=i(a("dgaefbheia")),k=i(a("dceicchccd")),M=a("cjfegjecaj"),I=i(a("dgdcjccfdi")),T=0,L=1,P=2,w=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).selectedLabels=new k.default([],(function(e){return e.id})),a.changeSet=new Set,a.onMultiSelect=function(e){e&&(a.initialLabelState[e]===P?a.changeSet.add("{labelId}_changed"):a.changeSet.has(e)?a.changeSet.delete(e):a.changeSet.add(e),a.forceUpdate())},a.constructLabelCountMap=function(){var e={};return a.props.modelsToUpdate.forEach((function(t){var a=(0,M.unproxy)(t);a.labels&&a.labels.forEach((function(t){e[t]=e[t]?++e[t]:1}))})),e},a.onUpdateLabelsOK=function(){(0,j.logLabelOperationEvent)(y.default.LABEL_OPERATIONS.CLICK_POSITIVE,a.props.modelsToUpdate.length,y.default.LABEL_TARGETS.LABEL_COMBINED_DIALOG);var e=a.selectedLabels.list,t=a.selectedLabels.selected,n=e.map((function(e,a){return{id:e.id,type:t[a]?"add":"remove"}}));v.default.addOrRemoveLabels(n,a.props.modelsToUpdate),a.props.onLabelUpdateComplete&&a.props.onLabelUpdateComplete()};var n=a.props.modelsToUpdate,i=a.constructLabelCountMap();return a.initialLabelState=(0,s.default)(i,(function(e){return e===n.length?L:e>0?P:T})),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=u.createElement(f.default,{a8nText:"popup-controls-ok",type:"primary",disabled:0===this.changeSet.size,onClick:this.onUpdateLabelsOK,key:1},b.default.t(1152)),t=u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"plain",onClick:this.props.onCancel,key:0},b.default.t(1436)),a=(0,m.canEditLabel)()&&u.createElement("div",{className:C.default.newLabelBtn},u.createElement(f.default,{a8nText:"popup-controls-cancel",type:"simplified",onClick:this.props.onAddNewLabel,key:2},u.createElement(I.default,{name:"plus-large",className:C.default.plus,display:"inline"}),b.default.t(190)));return u.createElement(S.default,{type:S.TowerModalType},u.createElement(h.default,{key:"mange_label_modal",theme:"labels"},u.createElement(g.default,{title:b.default.t(755),type:g.DRAWER_HEADER_TYPE.POPUP,onCancel:this.props.onCancel}),u.createElement(p.default,{"data-list-scroll-container":!0,theme:"padding"},u.createElement(_.default,{shouldScrollIntoViewAndSelect:this.props.shouldScrollIntoViewAndSelect,initialLabelState:this.initialLabelState,selectedLabels:this.selectedLabels,renderContext:"label-selection",onLabelClick:this.props.onLabelClick,onMultiSelect:this.onMultiSelect})),a,u.createElement("div",{className:C.default.actionBtns},t,e)))}}]),t}(u.Component),N=(0,E.default)(w);t.default=N},cijgjfcbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cfadcbbiie")),p=i(a("dhigahgdjb")),g=i(a("hhcjfgifh")),m=a("cdhbdacigj"),b=n(a("bgheieccaj")),v=i(a("bfchfhibba")),j=i(a("dbfjeecgih")),E=a("ddbdgibbbi"),C=i(a("bhbdiadfhj")),y=i(a("bdjjabfecc")),S=i(a("ebddggeaib")),_=i(a("cahfddcdga")),k=i(a("bfgbdiffgd")),M=i(a("ceggieaiij")),I=i(a("bgcdajbhif")),T=i(a("cijhhdbhfe")),L=i(a("bahcdceje")),P=i(a("dgdcjccfdi")),w="SEC_UNREAD",N="SEC_READ",O="SEC_MUTED",A="ROW_STATUS",R=function(e){function t(){var e;(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).apply(this,arguments))).flatListController=new j.default,e.onStatusChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,r.default)(t),(0,r.default)(a)).filter((function(e){return e.contact.statusMute}));e.setState({unreadStatusList:t.filter((function(e){return!e.contact.statusMute})),readStatusList:a.filter((function(e){return!e.contact.statusMute})),mutedStatusList:n,myStatus:I.default.getMyStatus()})},e.onContactMuteChange=function(){var t=e.getUnreadStatusList(),a=e.getReadStatusList(),n=[].concat((0,r.default)(t),(0,r.default)(a)).filter((function(e){return e.contact.statusMute}));e.setState({unreadStatusList:t.filter((function(e){return!e.contact.statusMute})),readStatusList:a.filter((function(e){return!e.contact.statusMute})),mutedStatusList:n,myStatus:I.default.getMyStatus()})},e.toggleMuted=function(){e.setState((function(e){return{isMutedExpanded:!e.isMutedExpanded}}))},e.renderItem=function(t){switch(t.type){case w:return u.createElement("div",{className:T.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:T.default.listSectionText},u.createElement("span",null,y.default.t(1234))));case N:return u.createElement("div",{className:T.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:T.default.listSectionText},u.createElement("span",null,y.default.t(1240))));case O:return u.createElement("div",{className:T.default.listSectionSep},u.createElement("hr",null),u.createElement("div",{className:T.default.listSectionText},u.createElement("span",null,y.default.t(1228)),u.createElement("button",{className:T.default.listSectionAction,onClick:e.toggleMuted},t.expanded?y.default.t(1225):y.default.t(1226))));case A:return u.createElement(M.default,{statusV3:t.status,onClick:function(){return e.props.onOpenStatus(t.status,void 0,t.index)},contact:t.status.contact});default:throw new b.UnknownDataError(t)}};var a=e.getUnreadStatusList(),n=e.getReadStatusList(),i=[].concat((0,r.default)(a),(0,r.default)(n)).filter((function(e){return e.contact.statusMute}));return e.state={unreadStatusList:a.filter((function(e){return!e.contact.statusMute})),readStatusList:n.filter((function(e){return!e.contact.statusMute})),mutedStatusList:i,myStatus:I.default.getMyStatus(),isMutedExpanded:!1},e}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(I.default,"add remove bulk_add sort change:msgsChanged change:hasUnread",this.onStatusChange),this.props.listeners.add(p.default,"change:statusMute",this.onContactMuteChange),this.props.listeners.add(I.default,"sync",(function(){e.forceUpdate()}))}},{key:"getUnreadStatusList",value:function(){return I.default.getUnexpired(!0)}},{key:"getReadStatusList",value:function(){return I.default.getUnexpired(!1)}},{key:"getData",value:function(){var e=this.state,t=e.unreadStatusList,a=e.readStatusList,n=e.mutedStatusList,i=[];return t.length>0&&(i.push({type:w,itemKey:"section-unread",height:48}),i.push.apply(i,(0,r.default)(t.map((function(e,t){return{type:A,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),a.length>0&&(i.push({type:N,itemKey:"section-read",height:48}),i.push.apply(i,(0,r.default)(a.map((function(e,t){return{type:A,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),n.length>0&&(i.push({type:O,itemKey:"section-muted",height:48,expanded:this.state.isMutedExpanded}),this.state.isMutedExpanded&&i.push.apply(i,(0,r.default)(n.map((function(e,t){return{type:A,itemKey:e.id.toString(),height:64,status:e,index:t}}))))),i}},{key:"render",value:function(){var e,t=this.getData();return e=I.default.hasSynced()&&t.length>0?u.createElement(b.default,{className:"statusList",itemEnterAnimationsEnabled:!0,flatListController:this.flatListController,direction:"vertical",data:t,renderItem:this.renderItem}):u.createElement(m.ListStatus,null),u.createElement("div",{className:T.default.listPanel},u.createElement(D,{statusV3:this.state.myStatus,onOpenStatus:this.props.onOpenStatus}),u.createElement(v.default,{className:T.default.listBody,flatListControllers:[this.flatListController]},e))}}]),t}(u.Component),D=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t,a,n=this,i=this.props.statusV3;i&&(a=i.msgs);var r,o,d,l,c=function(){var e=i&&i.msgs;i&&e&&e.length&&n.props.onOpenStatus(i,e.head(),0)};if(i&&a&&a.length){e=u.createElement(L.default,{statusV3:i,contact:i.contact,onClick:c});var s=(0,_.default)(a.last(),"myMsgs.last()").t;t=u.createElement("span",{className:T.default.secondaryHeaderText},k.default.statusRanking&&C.default.supportsFeature(C.default.F.STATUS_RANKING)?y.default.t(1231,{count:a.length,_plural:a.length}):h.default.relativeDateAndTimeStr(s)),o={cursor:"pointer"},r=c}else e=u.createElement(g.default,{id:(0,E.getMaybeMeUser)(),theme:"status_v3",size:40}),t=u.createElement("span",{"data-a8n":f.default.key("status-no-updates"),className:T.default.secondaryHeaderText},y.default.t(1230));C.default.supportsFeature(C.default.F.STATUS_V3_UI_SENDING)&&(d=u.createElement(P.default,{name:"menu"}),l=u.createElement(P.default,{name:"status-v3-create"}));var p=u.createElement("span",{"data-a8n":f.default.key("my-status"),className:T.default.primaryHeaderText},y.default.t(1229));return u.createElement("div",{className:T.default.panelHeader,style:o,onClick:r},u.createElement("div",{className:T.default.headerButtonsPrimary},e),u.createElement("div",{className:T.default.headerText},p,t),u.createElement("div",{className:T.default.headerButtonsSecondary},l,d))}}]),t}(u.Component),x=(0,S.default)(R);t.default=x},cijhbdaifj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=n(a("ddhijeejag")),d=i(a("ejegihaeh")),l=i(a("bdjjabfecc")),c=i(a("cahfddcdga")),s=n(a("chbeahhfcj")),u=i(a("biebgdijhi")),f=i(a("bfgbdiffgd")),h=o.forwardRef((function(e,t){var a,n,i,h=o.useState(!1),p=(0,r.default)(h,2),g=p[0],m=p[1],b=o.useState([]),v=(0,r.default)(b,2),j=v[0],E=v[1];return f.default.productCatalogDeeplink&&(n=function(e,t,a){m(0===a.length)},i=function(e){var t=e;E(t),m(t.length>0)},a=o.createElement(u.default,{disabled:!g,onClick:function(){var t,a=(0,c.default)(null===(t=j[0])||void 0===t?void 0:t.catalogWid,"products[0]?.catalogWid"),n=(0,c.default)(d.default.get(a),"CatalogCollection.get(catalogWid)");e.onShare(n)}})),o.createElement(s.default,{ref:t,title:l.default.t(1208),onCancel:e.onCancel,onConfirm:e.onConfirm,listType:s.ListType.PRODUCT_SELECT_MODAL,enableSearchBox:!1,customHeader:a,onSelectionChanged:n,onDataLoaded:i})}));t.default=h},cjecgfcdhj:function(e,t){e.exports={btnSend:"_1N5LP",attributionLink:"_2tsq7",mediaBody:"_2-uN_",attribution:"_3oMGj",footer:"_30pU5",containerBackground:"_3wSHf",retake:"Uyo2X",retakeIcon:"_2G0yz",mediaElementBase:"SN8ky",mediaElement:"_3wiv2 SN8ky"}},cjfjhjdfaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("ccbgfecegc")),h=i(a("ebddggeaib")),p=i(a("bgcdajbhif")),g=i(a("cijgjfcbg")),m=i(a("bacjaiigfd")),b=i(a("eafijicig")),v=i(a("dgdcjccfdi")),j=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onStatusAddRemove=function(){a.setState({status:p.default.getMyStatus()})},a.state={status:p.default.getMyStatus()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.status!==this.state.status}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.sessionId,n=t.listeners;n.add(p.default,"add remove",this.onStatusAddRemove),n.add(f.default,"dismiss_status_v3_viewer",(function(){e.props.closeStatusViewer(!0)})),null!=a&&p.default.logMetrics({type:"session",sessionId:a})}},{key:"render",value:function(){var e=this,t=this.props.onOpenStatus,a=(0,s.default)(m.default.v3_x,{});return u.createElement("div",{className:m.default.modalBackground,"data-animate-status-v3-modal-background":!0},u.createElement("div",{className:m.default.mainWrapper},u.createElement(g.default,{onOpenStatus:t}),u.createElement(b.default,{status:this.state.status,onOpenStatus:t}),u.createElement("button",{className:a,onClick:function(){return e.props.closeStatusViewer(!0)}},u.createElement(v.default,{name:"x-viewer"}))))}}]),t}(u.Component),E=(0,h.default)(j);t.default=E},dababjcdei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("ebjcghgjdh")),h=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return s.createElement("div",{className:f.default.overlay,key:"avatar-overlay"},s.createElement("div",{className:f.default.icon},this.props.icon),s.createElement("div",{"data-a8n":u.default.key("avatar-text"),className:f.default.text},this.props.text))}}]),t}(s.Component);t.default=h},dabbegbbcb:function(e,t){e.exports={list:"US3Wo",stopSharingButton:"VVjzR"}},dacaegbbf:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("gcfidijgh")),o=a("cgffhfegce"),d=n(a("edbaidcaf"));t.default=function e(t,a,n,l){var c=this;(0,i.default)(this,e),this.updateEditData=function(e){c.saveEdits(),c.editData=(0,r.default)({},c.editData,e)},this.updateEditItems=function(e,t){c.saveEdits();var a=[];c.editData.items&&c.editData.items.forEach((function(e){e!==t&&a.push(e)})),a.push(e),c.editData.items=a},this.saveEdits=function(){var t=new e(c.media,c.originalImage,c.editData,c.previous);c.previous=t},this.revertEdit=function(){c.previous&&(c.editData=c.previous.editData,c.previous=c.previous.previous)},this.saveEditsFromCanvas=function(e){var t=e.toDataURL();c.editedImage||(c.editedImage=new Image),c.editedImage.src=t},this.exportEditedMedia=function(){if(c.hasEdits()&&c.editedImage){var e=c.editedImage.src;return d.default.dataURLtoFile(e)}return c.media instanceof File?c.media:(0,o.createFile)([c.media],"",{type:c.media.type})},this.hasEdits=function(){return!!c.previous&&c.editedImage},this.cleanUp=function(){window.URL.revokeObjectURL(c.originalImage.src)},this.media=t,a?this.originalImage=a:(this.originalImage=new Image,this.originalImage.src=window.URL.createObjectURL(t)),this.previous=l,this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null},(0,r.default)(this.editData,n)}},dacbhighjj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("effbcehec")),f=i(a("dcaaidgfdg")),h=a("bfcfjggjab"),p=i(a("bdjjabfecc")),g=i(a("dcdbbhicce")),m=i(a("dhhjhedjij")),b=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t,a;switch(this.props.section){case h.SECTIONS.PLAYED_FOOTER:e=this.props.msgInfo.playedRemaining,t=this.props.msgInfo.playedRemaining;break;case h.SECTIONS.READ_FOOTER:e=this.props.msgInfo.readRemaining,t=this.props.msgInfo.readRemaining;break;case h.SECTIONS.DELIVERED_FOOTER:e=this.props.msgInfo.deliveryRemaining,t=this.props.msgInfo.deliveryRemaining}a=null!=e&&0!==e?{count:e,_plural:t}:{_plural:t};var n=p.default.t(858,a);return s.createElement("div",{"data-a8n":u.default.key("msg-info-remaining"),className:f.default.footer},s.createElement(m.default,{theme:"muted"},n))}}]),t}(s.Component);b.CONCERNS={msgInfo:["playedRemaining","readRemaining","deliveryRemaining"]};var v=(0,g.default)(b,b.CONCERNS);t.default=v},dacigcjbia:function(e,t){e.exports={wrapper:"_2uXz_",offline:"_31Os9",circle:"_61PxU",text:"_3_Q6O",notification:"VK7yK",ended:"_1rLEC",lastUpdated:"_3xhCZ"}},daeddehde:function(e,t){e.exports={price:"_3iBgI",separator:"xa-ee",quantity:"_1Ogu5"}},dagffibabh:function(e,t){e.exports={container:"o3k0e",border:"_18DtA",square:"_3Ta3r",avatar:"CFLiX",count:"_3mTd6",two:"_2pv7C",first:"_3nORc",second:"_3gybq",three:"_1nRlc",third:"_1Lkqf",four:"_1yqvm",fourth:"_3p2g9"}},dbgbgeefcf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bjcdghhbjh")),h=n(a("dighcbdehd")),p=i(a("dbdfbgehgj")),g=i(a("hgigjbgie")),m=n(a("ieeidjijb")),b=i(a("cfaheajaaj")),v=n(a("bgheieccaj")),j=i(a("dhfbfehaef")),E=i(a("bdjjabfecc")),C=i(a("baabifghjg")),y=i(a("dcaibchbg")),S=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).selection=new y.default([],(function(e){return e.id.toString()})),a.getSelectionList=function(){var e=a.props,t=e.contacts,n=e.frequentContacts,i=[],r=[];return t.forEach((function(e){if(e.isGroup){var t=p.default.get(e.id);t&&r.push(t)}else i.push(e)})),(n||[]).concat(i).concat(r)},a.onFocusGain=function(e){e.target===a.refList&&(a.selection.index<0?a.focusFirst():a.selection.reset(!0))},a.focusFirst=function(){a.selection.setFirst(!0)},a.onNextContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.setNext(!0)},a.onPrevContact=function(e){e.preventDefault(),e.stopPropagation(),a.selection.prev()>-1?a.selection.setPrev(!0):(a.selection.unset(),a.props.onFocusSearch(e))},a.setRefHotKeys=function(e){a.refList=e},a.renderContact=function(e,t){var n;return e.isBlocked()&&(n=E.default.t(452)),u.createElement(m.default,{active:a.selection,contact:e,onClick:a.props.onClick,secondary:n,frequent:t,waitIdle:!0})},a.renderItem=function(e){switch(e.type){case 0:return u.createElement(C.default,{key:"frequent-contacts-header",header:E.default.t(1484)});case 3:var t=e.data,n=e.frequent;return a.renderChat(t,n);case 2:var i=e.data,r=e.frequent;return a.renderContact(i,r);case 1:var o=e.data,d=e.separator;return u.createElement("div",{className:b.default.header},d?u.createElement(f.default,{key:"separator-".concat(o)}):null,u.createElement(C.default,{header:o}));default:throw new v.UnknownDataError(e)}},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"renderChat",value:function(e,t){return u.createElement(h.default,{active:this.selection,chat:e,mode:h.Mode.INFO,noContext:!0,onClick:this.props.onClick,frequent:t})}},{key:"getFrequentContactsData",value:function(e){var t=this,a=[];return e.forEach((function(e){var n=t.getContactDataItem(e,!0);n&&a.push(n)})),a}},{key:"getContactDataItem",value:function(e,t){var a=(t?m.FREQUENT_PREFIX:"")+e.id.toString();if(e.isGroup){var n=p.default.get(e.id);return n?{itemKey:a,data:n,type:3,frequent:t}:null}return{itemKey:a,data:e,type:2,frequent:t}}},{key:"getData",value:function(){var e=this.props.frequentContacts,t=[],a=[],n=[];e&&e.length&&(t.push({itemKey:"frequent-contacts-header",type:0}),t.push.apply(t,(0,r.default)(this.getFrequentContactsData(e)))),this.props.contacts.forEach((function(e){e.isGroup?n.push(e):a.push(e)}));var i=this.getDataFromContacts(a),o=this.getDataFromContacts(n);if(this.props.showPersonGroupDivisionHeader&&i.length>0){var d=E.default.t(1452);t.push({itemKey:"header-".concat(d),data:d,separator:!0,type:1})}if(t.push.apply(t,(0,r.default)(i)),this.props.showPersonGroupDivisionHeader&&o.length>0){var l=E.default.t(1557);t.push({itemKey:"header-".concat(l),data:l,separator:!0,type:1})}return t.push.apply(t,(0,r.default)(o)),t}},{key:"getDataFromContacts",value:function(e){if(0===e.length)return[];for(var t=e[0].isGroup?"group":"contact",a=[],n=e.length>10,i="XXX",r=0;r<e.length;r++){var o=e[r];if(n&&o.header){var d=o.header;if(d!==i){var l=r<e.length-1&&d!==e[r+1].header;a.push({itemKey:"header-".concat(t,"-").concat(d),data:d,separator:l,type:1}),i=d}}var c=this.getContactDataItem(o);c&&a.push(c)}return a}},{key:"render",value:function(){this.selection.init(this.getSelectionList());var e={down:this.onNextContact,up:this.onPrevContact};return u.createElement(j.default,{onRef:this.setRefHotKeys,handlers:e,onFocus:this.onFocusGain,"data-tab":g.default.TAB_ORDERS.CHAT_CONTACT_LIST},u.createElement(v.default,{data:this.getData(),renderItem:this.renderItem,flatListController:this.props.flatListController,direction:"vertical"}))}}]),t}(u.PureComponent);t.default=S},dbgjdhbdaj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getSmallestElapsedTime=r,t.isStale=function(e){return r(e)>=600},t.MARKER_SIZE=t.AVATAR_SIZE=t.PIN_SIZE=t.GLOW_SIZE=t.IMAGE_BORDER_SIZE=t.IMAGE_SIZE=t.STALE_THRESHOLD=void 0;var i=n(a("bhfcfhafdj"));t.STALE_THRESHOLD=600;t.IMAGE_SIZE=40;t.IMAGE_BORDER_SIZE=2;t.GLOW_SIZE=4;t.PIN_SIZE=4;t.AVATAR_SIZE=44;function r(e){var t=e.participants.map((function(e){return e.elapsedTime()}));return Math.min.apply(Math,(0,i.default)(t))}t.MARKER_SIZE=52},dbjchidfej:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("dbahhcabjf")),f=i(a("dbafiicfja")),h=i(a("dadhheahfi")),p=n(a("ddhijeejag")),g=n(a("dhajefgece")),m=i(a("ccbgfecegc")),b=i(a("hgigjbgie")),v=i(a("dahagdijgh")),j=i(a("bjheffjbgd")),E=n(a("bjjhgjdbhd")),C=a("cdhbdacigj"),y=n(a("cajijabhgb")),S=i(a("bbaacgghch")),_=i(a("ddajbaceej")),k=i(a("dhfbfehaef")),M=i(a("bhigchjbgb")),I=i(a("bdjjabfecc")),T=i(a("fiijdaaid")),L=i(a("dhccahhefj")),P=i(a("diffaiehid")),w=n(a("bjhgigfbec")),N=i(a("bcjcbbafcj")),O=a("bficeagfg"),A=i(a("cfidecfjad")),R=i(a("bjieiiccce")),D=i(a("dfjfejdjjh"));function x(){var e=(0,r.default)(["Image search failed"]);return x=function(){return e},e}function U(){var e=(0,r.default)(["Image search failed"]);return U=function(){return e},e}var F=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,c.default)(t).call(this,e))).setRefSearch=function(e){a.refSearch=e},a.setRefSearchHotkeys=function(e){a.refSearchHotkeys=e},a.setRefGallery=function(e){a.refGallery=e},a._search=function(e,t){a._hasPendingSearch=!1;var n=g.search(e,t).cancellable().then((function(t){n===a._searchPromise&&(a._addSearchResults(e,t),a.setState({isSearching:!1}))})).catchType(Promise.CancellationError,(function(){})).catch((function(){__LOG__(3,!0)(U()),m.default.openToast(p.createElement(w.default,{msg:I.default.t(732),id:(0,w.genId)()})),n===a._searchPromise&&a.setState({isSearching:!1})})).finally((function(){n===a._searchPromise&&(a._searchPromise=null)}));a._searchPromise=n,a.setState({isSearching:!0})},a.handleUserInput=function(e){var t=(e||"").trim();if(!t)return a._cancelSearch(),void a._resetState();(0,O.numCodepoints)(t)<b.default.FTS_MIN_CHARS||t!==a.state.query&&(a._cancelSearch(),a._resetState(),a._requestSearch(t))},a.handleRequestMoreImages=function(){a._hasPendingSearch||a._searchPromise||!a.state.totalEstimatedMatches||a.state.nextOffset>=a.state.totalEstimatedMatches||a._requestSearch(a.state.query,a.state.nextOffset)},a.handleImageClick=function(e){var t=a.state.imageData[e];if(t){var n=t.contentUrl;(N.default.isElectron?D.default.getRetry(n,R.default.RESP_TYPE.BLOB).then((function(e){if(200!==e.status)throw new y.ServerStatusError(null,n,e.status);return e.response})):A.default.downloadImage(n)).checkpoint(a.props.rejectOnUnmount()).then((function(e){if(!(e instanceof Blob))throw new y.ImageError("Server did not respond with image bytes",n);a.props.onImageSelected(e,t.hostPageUrl)})).catchType(y.Unmount,(function(){})).catch((function(){__LOG__(3,!0)(x()),m.default.openToast(p.createElement(w.default,{msg:I.default.t(729),id:(0,w.genId)()}))}))}},a.focusSearch=function(){S.default.shouldIndicateFocus(),_.default.focus(a.refSearch)},a.focusGallery=function(e){e.repeat||a.refGallery&&a.refSearch&&a.refSearch.cursorIsAtEnd()&&(e.preventDefault(),e.stopPropagation(),S.default.shouldIndicateFocus(),null!=a.refGallery&&_.default.focus(a.refGallery))},a.handleSearchFocus=function(){S.default.maybeIndicateFocus(a.refSearchHotkeys)},a.state={imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0},a._hasPendingSearch=!1,a._searchPromise=null,a._debouncedSearch=a.props.debounce(a._search,750),a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentWillUnmount",value:function(){this._cancelSearch()}},{key:"_requestSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._hasPendingSearch=!0,this._debouncedSearch(e,t)}},{key:"_cancelSearch",value:function(){this._hasPendingSearch&&(this._debouncedSearch.cancel(),this._hasPendingSearch=!1),this._searchPromise&&this._searchPromise.cancel()}},{key:"_resetState",value:function(){this.setState({imageData:{},isSearching:!1,nextOffset:0,query:"",thumbnails:[],totalEstimatedMatches:0})}},{key:"_addSearchResults",value:function(e,t){this.setState((function(a){var n=(0,h.default)(t.value,(function(e){return null==e?void 0:e.thumbnailUrl})),i=(0,f.default)(t.value,(function(e){return{id:e.imageId,thumbUrl:e.thumbnailUrl}})),r=t.value.length,o={};return a.query===e?(o.nextOffset=t.nextOffset?t.nextOffset:a.nextOffset+r,o.thumbnails=(0,u.default)(a.thumbnails,i),o.totalEstimatedMatches=t.totalEstimatedMatches,o.imageData=Object.assign(n,a.imageData)):(o.imageData=n,o.nextOffset=t.nextOffset?t.nextOffset:r,o.query=e,o.thumbnails=i,o.totalEstimatedMatches=t.totalEstimatedMatches),o}))}},{key:"render",value:function(){var e,t=E.DRAWER_HEADER_TYPE.POPUP,a={down:this.focusGallery};return e=0===this.state.thumbnails.length?this.state.isSearching?p.createElement(C.SearchingImages,null):this.state.query?p.createElement(C.ImageSearchEmpty,null):p.createElement(C.BeforeImageSearch,null):p.createElement(M.default,{ref:this.setRefGallery,canLoadMore:this.state.nextOffset<this.state.totalEstimatedMatches,isLoadingMore:this.state.isSearching,thumbnails:this.state.thumbnails,onFocusPrev:this.focusSearch,onImageClick:this.handleImageClick,onRequestMoreImages:this.handleRequestMoreImages}),p.createElement(v.default,null,p.createElement(E.default,{title:I.default.t(736),type:t,onBack:this.props.onBack,onCancel:this.props.onCancel}),p.createElement(j.default,null,p.createElement(k.default,{onRef:this.setRefSearchHotkeys,handlers:a,onFocus:this.handleSearchFocus},p.createElement(T.default,{ref:this.setRefSearch,placeholder:I.default.t(733),onSearch:this.handleUserInput,loading:this.state.isSearching})),e))}}]),t}(p.Component),B=F;t.Component=B;var V=(0,P.default)((0,L.default)(F));t.default=V},dbjdhjhjha:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.chat,a=(0,d.default)(t.groupMetadata.groupInviteLink,"chat.groupMetadata.groupInviteLink"),n="".concat(o.default.t(683)," ").concat(a);return r.createElement(l.default,{title:o.default.t(667),text:n,pushTransition:"none",popTransition:"none"})};var r=i(a("ddhijeejag")),o=n(a("bdjjabfecc")),d=n(a("cahfddcdga")),l=n(a("dighgbcbbd"))},dcaaidgcgg:function(e,t){e.exports={popup:"_24EYR",container:"_1U2TB",twoLines:"_2s5AZ",name:"_3w_Sk",status:"_2tE8w",menuButton:"rEpEA",triangle:"BPkae"}},dcaaidgfdg:function(e,t){e.exports={title:"_3ZCmo",titleIcon:"_3_FzN",ack:"_2HaT0",pttBlue:"_4Oh9J",forwardCount:"_3JkvB",spinner:"_1pSqT",list:"_3VIyj",footer:"_2c-PE"}},dccbiiffa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("bgiehaehhh")),p=i(a("bdjjabfecc")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).handleCancel=function(){u.default.closeModal()},a.handleOK=function(){a.props.onConfirm(),u.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return s.createElement(f.default,{title:p.default.t(653),onOK:this.handleOK,okText:p.default.t(653),onCancel:this.handleCancel,cancelText:p.default.t(1436)},s.createElement("div",{className:h.default.confirmationText},p.default.t(664,{groupName:this.props.chat.contact.name})))}}]),t}(s.Component);t.default=g},dcdefbibje:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=a("cfabbaghh"),f=n(a("ddhijeejag")),h=i(a("eahjciebii")),p=n(a("difhgjjfcb")),g=i(a("eafahcacji")),m=function(e){function t(e){var a;return(0,o.default)(this,t),(a=(0,l.default)(this,(0,c.default)(t).call(this,e))).initCanvas=function(){var e=a.props.editedMedia.originalImage;e.complete?a.onImageLoad():e.onload=a.onImageLoad},a.onImageLoad=function(){var e=a.props.editedMedia.editData;a.props.editedMedia.editedImage=null;var t=a.props.editedMedia.originalImage;if(e.width||e.height||(e.width=t.naturalWidth,e.height=t.naturalHeight),!e.baseItem){var n=new u.Easel.Bitmap(t);e.baseItem=n}a.drawCanvas(!0)},a.maybeInitStage=function(e){var t;return a.state.stage?t=a.state.stage:(t=new u.Easel.Stage(e)).enableMouseOver(),a.props.mediaEditController.stage=t,t},a.drawCanvas=function(e,t){if(a.refStaticCanvas&&a.refStaticCanvas.refCanvas){var n=a.refStaticCanvas.refCanvas;t&&a.props.mediaPickerStatsLogger&&a.props.mediaPickerStatsLogger.logChange(a.props.activeMediaId||-1,t);var i=a.props.editedMedia,o=i.editData,d=a.maybeInitStage(n);e&&(n.width=o.width,n.height=o.height),d.removeAllChildren(),null!=o.baseItem&&d.addChild(o.baseItem),o.items&&d.addChild.apply(d,(0,r.default)(o.items));var l=i.originalImage.naturalWidth,c=i.originalImage.naturalHeight;d.regX=l/2,d.regY=c/2,d.rotation=o.rotation,o.width&&o.height&&(d.x=o.width/2+o.scale*o.offsetX,d.y=o.height/2+o.scale*o.offsetY),d.scaleX=o.scale,d.scaleY=o.scale,d.update(),a.setState({canvasSize:{width:n.width,height:n.height},stage:d})}},a.saveCanvas=function(){a.drawCanvas(!0);var e=a.refStaticCanvas&&a.refStaticCanvas.refCanvas;e&&a.props.editedMedia.saveEditsFromCanvas(e)},a.clearStage=function(e){e&&(e.children.forEach((function(e){e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.enableMouseOver(0),e.clear())},a.setRefStaticCanvas=function(e){a.refStaticCanvas=e},a.setRefMediaContainer=function(e){a.refMediaContainer=e},a.setRefCropOverlay=function(e){a.refCropOverlay=e},a.updateCanvasSize=function(e,t){a.setState({canvasSize:{width:e,height:t}})},a.state={canvasSize:{height:1,width:1},stage:null,mediaContainer:null},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.initCanvas(),this.setState({mediaContainer:this.refMediaContainer}),this.cropOverlay=new u.Easel.Stage(this.refCropOverlay),this.cropOverlay.autoClear=!1,this.cropOverlay.enableMouseOver(),this.refMediaContainer&&(this.props.mediaEditController.mediaContainer=this.refMediaContainer),this.props.mediaEditController.cropOverlay=this.cropOverlay}},{key:"componentWillUnmount",value:function(){var e=this.props.editedMedia.originalImage;e.complete||(e.onload=void 0),this.saveCanvas(),this.clearStage(this.state.stage),this.clearStage(this.cropOverlay)}},{key:"render",value:function(){var e=f.createElement("canvas",{ref:this.setRefCropOverlay,className:h.default.cropOverlay});return f.createElement("div",{className:this.props.className,ref:this.setRefMediaContainer},f.createElement(p.default,{type:this.props.fitType||p.FIT_TYPE.SCALE_DOWN,size:this.state.canvasSize},e,f.createElement(g.default,{ref:this.setRefStaticCanvas,className:h.default.mediaViewerImg})))}}]),t}(f.Component);t.default=m},dcfihjeedb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("dgffihajaa")),u=i(a("bdeebiagii")),f=i(a("dbjchidfej")),h=n(a("ddhijeejag")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onImageSelected=function(e,t){a.push(h.createElement(s.default,{onCancel:a._handleCancel,attributionUrl:t,onFinished:a.onFinished,onRetake:a._pop,retryText:s.RETRY_OPTIONS.NONE,img:e}))},a._handleCancel=function(){a.end()},a._pop=function(){a.pop()},a.onFinished=function(e,t){a.props.onFinished(e,t),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(h.createElement(f.default,{onCancel:this._pop,onImageSelected:this.onImageSelected}))}}]),t}(u.default);t.default=p},dcgdbhbjdi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("ddhijeejag")),o=n(a("effbcehec")),d=n(a("cefccdiabc")),l=n(a("cfadcbbiie")),c=n(a("jbeeghga"));t.default=function(e){var t=e.title,a=e.icon,n=e.t,i=null!=n?l.default.relativeDateAndTimeStr(n):"-",s=r.createElement("div",{className:c.default.title,"data-a8n":o.default.key("msg-info-title")},a,t);return r.createElement(d.default,{primary:s,secondary:i,theme:"plain",idle:!0})}},dcgfgbbjff:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.onAddProductClick,a=r.createElement("div",{className:s.default.placeholderIcon}),n='<a href="https://www.facebook.com/legal/terms" target="_blank">'.concat(c.default.t(582),"</a>"),i='<a href="https://www.facebook.com/policies/commerce" target="_blank">'.concat(c.default.t(581),"</a>"),f='<a href="https://www.whatsapp.com/legal/commerce-policy" target="_blank">'.concat(c.default.t(1724),"</a>"),h=c.default.t(370,{fb_product_link:n,fb_commerce_link:i,wa_commerce_policy_link:f});return r.createElement(l.default,{theme:"padding-small",animation:!1},r.createElement(u.default,{theme:"title",block:!0},c.default.t(368)),r.createElement(o.default,{onClick:t,theme:"default"}),r.createElement(u.default,{theme:"plain",block:!0},r.createElement("div",{dangerouslySetInnerHTML:{__html:h}})),r.createElement("div",{className:s.default.placeholderContainer},r.createElement(d.default,{theme:"add-item-placeholder",image:a,customImage:!0,className:s.default.addItemPlaceholder,primary:"",secondary:"",idle:!0}),r.createElement("div",{className:s.default.divider}),r.createElement(d.default,{theme:"add-item-placeholder",image:a,customImage:!0,className:s.default.addItemPlaceholder,primary:"",secondary:"",idle:!0}),r.createElement("div",{className:s.default.divider})))};var r=i(a("ddhijeejag")),o=n(a("biegjchieg")),d=n(a("cefccdiabc")),l=n(a("ddeefhbafc")),c=n(a("bdjjabfecc")),s=n(a("ffecbdcib")),u=n(a("dhhjhedjij"))},dcjahegieh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("cebbffhbdf")),o=i(a("dahagdijgh")),d=i(a("bjheffjbgd")),l=n(a("bjjhgjdbhd")),c=i(a("bdjjabfecc")),s=i(a("dagdiahdfi")),u=n(a("ddhijeejag"));t.default=function(e){return u.createElement(o.default,null,u.createElement(l.default,{a8n:"drawer-title-notifications",title:c.default.t(1019),onBack:e.onClose,type:l.DRAWER_HEADER_TYPE.LARGE}),u.createElement(d.default,null,u.createElement(r.default,{key:"notifications",mute:s.default.globalMute()})))}},dcjccddaca:function(e,t){e.exports={spinner:"_146LM",search:"_1tbWk",inputarea:"_17ePo",inputLine:"_3xBBI",contacts:"_2gSSF",drawerSection:"_39PT0",inputareaSizer:"_2r74O"}},dddhbbadie:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=a("ebjaejiaba"),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),g=i(a("gfebgebbi")),m=i(a("dhfbfehaef")),b=i(a("bdjjabfecc")),v=n(a("dgjfidhijd")),j=i(a("deffjjfcba")),E=i(a("dgdcjccfdi")),C=i(a("dhjjaiefdi")),y=i(a("ecbejhejff")),S=a("cjjdjbcgjh"),_=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.contactList,i=a.onSend,r=a.onBack,o=a.chat;switch(o.kind){case u.CHAT_KIND.CHAT:e=b.default.t(437,{chat:o.title(),count:b.default.n(n.length),_plural:n.length});break;case u.CHAT_KIND.GROUP:e=b.default.t(438,{chat:o.title(),count:b.default.n(n.length),_plural:n.length});break;case u.CHAT_KIND.BROADCAST:e=b.default.t(436,{chat:o.title(),count:b.default.n(n.length),_plural:n.length})}var d=e?s.createElement(g.default,{text:e,direction:"auto",titlify:!0,ellipsify:!0}):null;return s.createElement(v.default,{type:v.BoxModalType},s.createElement(f.default,null,s.createElement(p.default,{type:p.DRAWER_HEADER_TYPE.POPUP,onBack:r},d),s.createElement(h.default,null,s.createElement(m.default,null,s.createElement("div",{className:C.default.body},n.map((function(e,a){return t.renderVcard((0,S.vcardFromContactModel)(e),a.toString())}))))),s.createElement("div",{className:C.default.btnContainer},s.createElement("div",{className:C.default.btnPosition},s.createElement(j.default,{large:!0,onClick:i},s.createElement(E.default,{name:"send",directional:!0}))))))}},{key:"renderVcard",value:function(e,t){var a=(0,S.parseVcard)(e.vcard);return a?s.createElement("div",{key:t,className:C.default.vcardWrapper},s.createElement(y.default,{parsedVcard:a,thumbnail:(0,S.vcardThumbnail)(a)})):null}}]),t}(s.Component);t.default=_},ddfaijbfgj:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("diaegabbjd")),o=i(a("ffedgcdgj")),d=i(a("eaidjcib")),l=i(a("dgcdacjddi")),c=i(a("ffceefejc")),s=i(a("cjedcdbdii")),u=i(a("dbjagcfebh")),f=n(a("ddhijeejag")),h=a("dfdebdgdei"),p=i(a("ccbgfecegc")),g=i(a("hgigjbgie")),m=i(a("bdeebiagii")),b=i(a("bdjjabfecc")),v=n(a("chbeahhfcj")),j=i(a("bfgbdiffgd")),E=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=(0,c.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))))._handleForwardConfirmed=function(e){e.forEach(function(){var e=(0,o.default)(r.default.mark((function e(t){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isUser||!t.contact.isBlocked()){e.next=3;break}return e.next=3,(0,h.unblockContact)(t.contact);case 3:a._sendProduct(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),a.end(),1===e.length&&(p.default.openChatFromUnread(e[0]),window.innerWidth<=g.default.LAYOUT_2COLUMNS_MAX_WIDTH&&p.default.closeDrawerRight())},a._handleCancel=function(){a.end()},a._sendProduct=function(e){var t=a.props.product;p.default.once("ui_idle",(function(){e.sendProductMessage(t)}))},a}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){p.default.closeContextMenu(),p.default.closeTooltip(),this.push(f.createElement(v.default,{onConfirm:this._handleForwardConfirmed,maxItems:j.default.multicastLimitGlobal,title:b.default.t(898),listType:v.ListType.CHAT_SELECT_MODAL,onCancel:this._handleCancel}))}}]),t}(m.default);t.default=E},ddgehgjfdd:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ID_SEPARATOR=void 0;var i=n(a("bhfcfhafdj")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),d=n(a("gabccaieg")),l=a("heaagdjji");t.ID_SEPARATOR=",";var c=function(){function e(){var t=this;(0,r.default)(this,e),this.participants=new d.default;for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];n.forEach((function(e){return t.add(e)}))}return(0,o.default)(e,[{key:"add",value:function(e){this.participants.add(e)}},{key:"hasSingleParticipant",value:function(){return 1===this.length}},{key:"fits",value:function(e,t,a){var n=this.center,i=n.lat,r=n.lng,o=e.lat,d=e.lng,c=(0,l.getMetersBetweenLatLngs)(i,r,i,d),s=(0,l.getMetersBetweenLatLngs)(i,r,o,r),u=(0,l.getMetersPerPixel)(i,t);return c/u<=a&&s/u<=a}},{key:"id",get:function(){return this.participants.map((function(e){return e.id.toString()})).join(",")}},{key:"center",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:(Math.min.apply(Math,(0,i.default)(e))+Math.max.apply(Math,(0,i.default)(e)))/2,lng:(Math.min.apply(Math,(0,i.default)(t))+Math.max.apply(Math,(0,i.default)(t)))/2}}},{key:"lat",get:function(){return this.center.lat}},{key:"lng",get:function(){return this.center.lng}},{key:"length",get:function(){return this.participants.length}},{key:"northeast",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.max.apply(Math,(0,i.default)(e)),lng:Math.max.apply(Math,(0,i.default)(t))}}},{key:"southwest",get:function(){var e=this.participants.map((function(e){return e.lat})),t=this.participants.map((function(e){return e.lng}));return{lat:Math.min.apply(Math,(0,i.default)(e)),lng:Math.min.apply(Math,(0,i.default)(t))}}}]),e}();t.default=c},ddggdgafij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("dgebcfedgb")),h=i(a("jhjbdcjbc")),p=i(a("bdjjabfecc")),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onCapture=function(){u.default.openModal(s.createElement(h.default,{onFinished:a.props.onImageTake}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return s.createElement(f.default,{action:this.onCapture,a8n:"mi-take-photo",disabled:this.props.disabled},p.default.t(1262))}}]),t}(s.Component);t.default=g},ddigiajeji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("ebcagbhefg")),p=i(a("ccbgfecegc")),g=i(a("hgigjbgie")),m=i(a("dahagdijgh")),b=i(a("bjheffjbgd")),v=n(a("bjjhgjdbhd")),j=i(a("ddeefhbafc")),E=n(a("cajijabhgb")),C=n(a("bgheieccaj")),y=i(a("dbfjeecgih")),S=a("eajdbbfgfg"),_=i(a("bdijbhadid")),k=i(a("dcaaidgfdg")),M=i(a("dacbhighjj")),I=a("bfcfjggjab"),T=i(a("jheedhagg")),L=a("dhegcfddhg"),P=i(a("chhebaafhb")),w=i(a("bdjjabfecc")),N=i(a("ebddggeaib")),O=a("edagdaii"),A=i(a("biecbbiiee")),R=i(a("eigdejjai")),D=i(a("eahdicfdjf")),x=i(a("cbccffhcjb")),U=i(a("cahfddcdga")),F=i(a("dhccahhefj")),B=i(a("eafdabbdgj")),V=i(a("bfgbdiffgd")),G=i(a("ecdebjcgfa")),H=i(a("dcdbbhicce")),W=i(a("dgdcjccfdi")),z=i(a("dhhjhedjij")),Y=n(a("bjhgigfbec")),K=i(a("ccbcihdfhg")),q=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new y.default,a.setRefScrollable=function(e){a.refScrollable=e},a.state={msgInfo:void 0,unimplemented:!1},a.wrapper=null,a.isMsgVisible=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===a.props.msg.id&&(!!t||a.getMsgComponent())},a.onClose=function(){a.props.uim.uie.requestDismiss()},a.getHeaderAtSection=function(e){var t,a;switch(e){case I.SECTIONS.PLAYED_HEADER:a=u.createElement(W.default,{name:"status-ptt",className:k.default.pttBlue}),t=w.default.t(855);break;case I.SECTIONS.READ_HEADER:a=u.createElement(W.default,{name:"status-dblcheck",className:k.default.ack}),t=w.default.t(857);break;case I.SECTIONS.DELIVERED_HEADER:a=u.createElement(W.default,{name:"status-dblcheck"}),t=w.default.t(853)}return a=u.createElement("div",{className:k.default.titleIcon},a),u.createElement("div",{"data-a8n":f.default.key("msg-info-title"),className:k.default.title},u.createElement(B.default,{side:a,ellipsify:!0},u.createElement(z.default,{theme:"section-title"},t)))},a.getFooterAtSection=function(e){var t=(0,U.default)(a.state.msgInfo,"_this.state.msgInfo");return u.createElement(M.default,{key:e,section:e,msgInfo:t})},a.renderItem=function(e){return"MSG_INFO_ROW"===e.type?a.getInfoCell(e.participant):e.type===I.SECTIONS.FORWARD_COUNT?a.getForwardCount():e.type===I.SECTIONS.PLAYED_HEADER||e.type===I.SECTIONS.READ_HEADER||e.type===I.SECTIONS.DELIVERED_HEADER?a.getHeaderAtSection(e.type):a.getFooterAtSection(e.type)},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e,t=this;R.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(e){t.setState({msgInfo:e}),t.props.listeners.add(e.played,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.read,"add remove",(function(){t.forceUpdate()})),t.props.listeners.add(e.delivery,"add remove",(function(){t.forceUpdate()}))})).catchType(E.Unmount,(function(){})).catch((function(){t.setState({unimplemented:!0}),p.default.openToast(u.createElement(Y.default,{msg:w.default.t(896),id:(0,Y.genId)("msg_info_failed")}))}));var a=null===(e=this.refScrollable)||void 0===e?void 0:e.container;this.props.msg.type===g.default.MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight),this.props.listeners.add(this.props.msg,"remove",(function(e,a){a===A.default&&t.props.uim.uie.requestDismiss()}))}},{key:"getAnimateEnterClass",value:function(e){return"animate-enter".concat(-1===e?"":e)}},{key:"getMsgComponent",value:function(){var e=this.wrapper;if(e)return e.getMsgComponentRef()}},{key:"getInfoCell",value:function(e){return u.createElement(_.default,{msgInfoParticipant:e,contact:e.contact,key:e.id.toString()})}},{key:"getForwardCount",value:function(){return V.default.hfmStringChanges?null:u.createElement("div",{className:k.default.forwardCount},u.createElement(D.default,{msg:this.props.msg}))}},{key:"getData",value:function(){var e=this.props.msg,t=this.state.msgInfo,a=[];return t&&t.isPTT&&(a.push({type:I.SECTIONS.PLAYED_HEADER,itemKey:I.SECTIONS.PLAYED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.played.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:C.DEFAULT_ITEM_HEIGHT}})))),t.playedRemaining>0&&a.push({type:I.SECTIONS.PLAYED_FOOTER,itemKey:I.SECTIONS.PLAYED_FOOTER,height:50})),t&&(t.read.length>0||t.playedRemaining>0)&&(a.push({type:I.SECTIONS.READ_HEADER,itemKey:I.SECTIONS.READ_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.read.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:C.DEFAULT_ITEM_HEIGHT}})))),t.readRemaining>0&&a.push({type:I.SECTIONS.READ_FOOTER,itemKey:I.SECTIONS.READ_FOOTER,height:50})),t&&(t.delivery.length>0||t.deliveryRemaining>0)&&(a.push({type:I.SECTIONS.DELIVERED_HEADER,itemKey:I.SECTIONS.DELIVERED_HEADER,height:50}),a.push.apply(a,(0,r.default)(t.delivery.map((function(e){return{participant:e,type:"MSG_INFO_ROW",itemKey:e.id.toString(),height:C.DEFAULT_ITEM_HEIGHT}})))),t.deliveryRemaining>0&&a.push({type:I.SECTIONS.DELIVERED_FOOTER,itemKey:I.SECTIONS.DELIVERED_FOOTER,height:50})),V.default.frequentlyForwardedMessages&&e.numTimesForwarded>0&&!e.isFrequentlyForwarded&&a.push({type:I.SECTIONS.FORWARD_COUNT,itemKey:I.SECTIONS.FORWARD_COUNT,height:60}),a}},{key:"render",value:function(){var e,t=this.props.msg,a=this.state,n=a.msgInfo,i=a.unimplemented;n||i||(e=u.createElement("div",{className:k.default.spinner,key:"spinner"},u.createElement(G.default,{size:50,stroke:4})));var r=this.getData(),o=r.length?u.createElement(C.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:r,renderItem:this.renderItem}):null,d=null;return t.labels&&t.labels.length&&(0,S.canDisplayLabel)()&&(d=u.createElement(j.default,{theme:"padding"},u.createElement(P.default,{labels:t.labels}))),u.createElement(m.default,{key:"message-info-modal",theme:"striped"},u.createElement(v.default,{title:w.default.t(851),type:v.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),u.createElement(x.default,{ref:this.setRefScrollable,chatPreference:h.default.assertGet("defaultPreference")},u.createElement(K.default,{msg:t,ref:(0,L.GetRef)("wrapper",this),displayType:g.default.DISP_TYPE.MSG_INFO,isMsgVisible:this.isMsgVisible,position:O.MsgPosition.END,onProductClick:this.props.onProductClick})),u.createElement(b.default,{flatListControllers:[this.flatListController]},d,e,u.createElement("div",{className:k.default.list},o)))}}]),t}(u.Component);q.CONCERNS={msg:["id","star","type","isGif","labels","numTimesForwarded","isFrequentlyForwarded"]};var Z=(0,T.default)((0,F.default)((0,N.default)((0,H.default)(q,q.CONCERNS))));t.default=Z},deafgdcafd:function(e,t){e.exports={ring:"_24ddh",read:"_1dQZm",unread:"_1LP3m"}},debgiacjfi:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.order,a=e.onProductDetail,n=e.sellerJid,i=e.sessionId;return r.createElement(l.default,{flatListControllers:[e.flatListController]},r.createElement(d.default,{flatListController:e.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:(f=t.orderItemCollection.toArray(),n===(0,c.getMaybeMeUser)().toString()&&(0,s.logOrderListImpression)(i,t.id,f.length),f.map((function(e){return{itemKey:e.id.toString(),product:e}}))),renderItem:function(e){var t=e.product,o={productId:t.id,businessOwnerJid:n};return r.createElement(u.default,{product:t,onClick:function(){return a(o,i)}})},defaultItemHeight:o.default.PRODUCT_LIST_ITEM_HEIGHT}));var f};var r=i(a("ddhijeejag")),o=n(a("hgigjbgie")),d=n(a("bgheieccaj")),l=n(a("bfchfhibba")),c=a("ddbdgibbbi"),s=a("habihjdae"),u=n(a("dfdhffjdjj"))},debhhgegij:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("bjihjhccce")),h=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).closeStatusViewer=function(){a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{initialStatusV3:this.props.statusV3,quotedMsgKey:this.props.msgKey,closeStatusViewer:this.closeStatusViewer,onMsgNotFound:this.props.onMsgNotFound}),"none")}}]),t}(u.default);t.default=h},defdgchjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("ceffhbhahb")),f=a("djfeeacgad"),h=n(a("ddhijeejag")),p=i(a("biaicaiffc")),g=i(a("ccbgfecegc")),m=i(a("hgigjbgie")),b=i(a("dahagdijgh")),v=i(a("bjheffjbgd")),j=n(a("bjjhgjdbhd")),E=n(a("cajijabhgb")),C=n(a("dciajcgfie")),y=a("dhegcfddhg"),S=n(a("dgjacfgggf")),_=i(a("bdjjabfecc")),k=i(a("gdjchhcha")),M=i(a("chjejfcdd")),I=n(a("dcecgegjfc")),T=i(a("bdcchebfge")),L=i(a("difhgjjfcb")),P=i(a("dcdjgccech")),w=i(a("dhccahhefj")),N=i(a("deffjjfcba")),O=i(a("ecdebjcgfa")),A=i(a("dgdcjccfdi")),R=i(a("edbaidcaf")),D=i(a("didfdhbecg")),x=i(a("ecfabjjeda"));function U(){var e=(0,r.default)(["captureDrawer:render Unhandled video capture state ",""]);return U=function(){return e},e}function F(){var e=(0,r.default)(["Assertion failed!"]);return F=function(){return e},e}function B(){var e=(0,r.default)(["Assertion failed!"]);return B=function(){return e},e}function V(){var e=(0,r.default)(["CaptureDrawer:onCapture can not get 2d context"]);return V=function(){return e},e}var G="ANIMATING",H="LOADING",W="RECORDING",z="SENDING",Y=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={state:G,stream:void 0,img:void 0,caption:void 0,videoSize:void 0},a.videoRef=null,a.startTimer=new f.ShiftTimer((function(e){a.loadNewStream(e)})),a.loadNewStream=function(e){e?(a.setState({state:H,stream:e}),(0,I.isSrcObjectInVideoElement)()||(e?(window.URL.revokeObjectURL(a.url),a.url=window.URL.createObjectURL(e)):(window.URL.revokeObjectURL(a.url),a.url=void 0))):a.state.state===G&&a.setState({state:H})},a.stopStreamTimer=new f.ShiftTimer((function(e){e&&I.stop(e),(0,I.isSrcObjectInVideoElement)()||(a.url=window.URL.revokeObjectURL(a.url))})),a.onCapture=function(){if(a.videoRef){var e=a.videoRef.underlyingVideo();if(e){var t=a.props.chat,n=document.createElement("canvas");n.height=e.videoHeight,n.width=e.videoWidth;var i=n.getContext("2d");if(i){i.translate(n.width,0),i.scale(-1,1),i.drawImage(e,0,0,e.videoWidth,e.videoHeight);var r=a.props.onCaptured;if(r)S.canvasToBlob(n).then((function(e){r(e)}));else{a.stopStreamTimer.onOrBefore(500,a.state.stream),a.mediaLogger=new k.default,a.mediaLogger.logAdd("CAPTURE_MEDIA","image",T.default.MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE),a.mediaLogger.chatRecipients=t&&t.groupMetadata?t.groupMetadata.participants.length:1;var o=n.toDataURL("image/jpeg");a.setState({state:z,stream:void 0,img:o})}}else __LOG__(3)(V())}}},a.onVideoLoaded=function(e){a.setState({state:W,videoSize:{width:e.videoWidth,height:e.videoHeight}})},a.onRetake=function(){a.setState({state:H,caption:void 0});var e=I.start("camera");Promise.race([e,a.props.rejectOnUnmount()]).checkpoint(a.props.rejectOnUnmount()).then((function(e){e&&((0,I.isSrcObjectInVideoElement)()||(a.url=window.URL.createObjectURL(e)),a.setState({stream:e}))})).catchType(E.Unmount,(function(){e.then((function(e){return I.stop(e)})).catch((function(){}))})).catchType(E.GUM.NotAllowedError,(function(){a.props.onBack(),g.default.openModal(h.createElement(C.default,{messaging:C.Messaging.CAMERA_FAIL,type:C.default.TYPE.GUIDE_UNBLOCK}))})).catchType(E.GUM.GUMError,(function(){a.props.onBack(),g.default.openModal(h.createElement(C.default,{messaging:C.Messaging.CAMERA_MISSING,type:C.default.TYPE.GUIDE_NONE}))}))},a.onSend=function(){var e=a.state,t=e.img,n=e.caption,i=a.props.onSend;if(i)if(t){var r=a.refCaptionInput&&a.refCaptionInput.refInput,o=[];if(n&&r){var d=r.serialize(n),l=[d[0].trim(),d[1]],c=l[0],s=l[1];c.length&&(n=c,o=s.mentionedJidList||[])}i({getImg:P.default.createFromBase64Jpeg(R.default.parseDataURL(t).data),caption:n,mentionedJidList:o}),a.mediaLogger.logSend()}else t||(__LOG__(4,!1,new Error)(F()),SEND_LOGS("capture-drawer-no-img"));else i||(__LOG__(4,!1,new Error)(B()),SEND_LOGS("capture-drawer-no-onSend"))},a.onCaptionChange=function(e){a.setState({caption:e})},a.setRefCaptionInput=function(e){a.refCaptionInput=e},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.startTimer.onOrBefore(300,this.props.stream)}},{key:"componentWillUnmount",value:function(){this.startTimer.cancel(),this.url&&window.URL.revokeObjectURL(this.url),this.state.stream&&I.stop(this.state.stream),this.mediaLogger&&this.mediaLogger.logCancel()}},{key:"render",value:function(){var e,t,a,n,i;switch(this.state.state){case G:case H:if(i=h.createElement(O.default,{stroke:4,size:50}),this.state.state===G)break;case W:var r=(0,u.default)(p.default.video,{[p.default.videoInactive]:this.state.stream&&this.state.state===H}),o=this.state.stream?h.createElement(x.default,{autoPlay:!0,ref:(0,y.GetRef)("videoRef",this),onPlay:this.onVideoLoaded,src:this.url?this.url:void 0,srcObject:this.url?void 0:this.state.stream}):null;a=this.state.stream?h.createElement("div",{key:"webcam"},h.createElement(L.default,{type:this.props.layoutType,size:this.state.videoSize},h.createElement("div",{className:r,"data-animage-capture-webcam":!0},o))):null,e=this.state.state===W?h.createElement("div",{className:p.default.btn,key:"btn-capture"},h.createElement(N.default,{large:!0,onClick:this.onCapture},h.createElement(A.default,{name:"camera"}))):null;break;case z:a=h.createElement(L.default,{type:this.props.layoutType,size:this.state.videoSize},h.createElement("img",{className:p.default.image,"data-animate-capture-snapshot":!0,src:this.state.img})),e=h.createElement("div",{className:(0,u.default)(p.default.btn,p.default.btnSend),key:"btn-send"},h.createElement(N.default,{large:!0,onClick:this.onSend},h.createElement(A.default,{name:"send",directional:!0}))),t=h.createElement("div",{className:p.default.retakeBtn,onClick:this.onRetake},h.createElement("div",{className:p.default.retakeIcon},h.createElement(A.default,{name:"return"})),_.default.t(1129)),n=this.props.chat?h.createElement(M.default,{ref:this.setRefCaptionInput,chat:this.props.chat,maxLength:m.default.MAX_CAPTION_LENGTH,multiline:!0,onEnter:this.onSend,onChange:this.onCaptionChange,placeholder:_.default.t(178),showRemaining:!0,spellCheck:!0,supportsEmoji:!0,value:this.state.caption}):null;break;default:__LOG__(2)(U(),this.state.state)}var d=this.props.caption?h.createElement(D.default,{transitionName:"media-caption",className:p.default.caption},n):null;return h.createElement(b.default,{key:"attach-capture-modal",theme:"capture"},h.createElement(j.default,{title:_.default.t(1262),type:j.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack},t),h.createElement(v.default,{overflow:"hidden"},h.createElement("div",{className:p.default.container},i,h.createElement("div",{className:p.default.body},h.createElement(D.default,{transitionName:"capture",className:p.default.videoContainer},a))),h.createElement("div",{className:p.default.footer},d,h.createElement(D.default,{transitionName:"pop_delay"},e))))}}]),t}(h.PureComponent);Y.defaultProps={caption:!1};var K=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).loadNewStream=function(e){a.getComponent().loadNewStream(e)},a}return(0,s.default)(t,e),t}((0,w.default)(Y));t.default=K},dfbdhdcebe:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdeebiagii")),f=i(a("ddigiajeji")),h=i(a("cjgdgbgbj")),p=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onProductClick=function(e,t){a.push(s.createElement(h.default,{refreshCarousel:!0,chat:a.props.msg.chat,product:e,sessionId:t,onEnd:a._pop}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(f.default,{msg:this.props.msg,onProductClick:this.onProductClick}))}}]),t}(u.default);t.default=p},dfdgfddgcc:function(e,t){e.exports={wrapper:"_3UyK-",inactive:"_2OldH",offline:"_2jt_D",circle:"_4yn0L",text:"_1N8OC",backToCenter:"_3v53f",visible:"_2CPlk"}},dfdhffjdjj:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.product,a=e.onClick,n=r.createElement(l.default,{text:t.name,ellipsify:!0,titlify:!0}),i=r.createElement(u.default,{mediaData:t.mediaData,theme:"list"}),h=c.default.t(1042,{quantity:t.quantity.toString()}),p=null;t.quantity&&(p=r.createElement(f.default,{className:s.default.quantity},h));var g=null;t.price&&(g=r.createElement(f.default,{className:s.default.price},d.format(t.currency,t.price)));var m=null;null!=g&&null!=p&&(m=r.createElement("span",{className:s.default.separator},"•"));var b=r.createElement("div",null,g,m,p);return r.createElement(o.default,{key:t.id.toString(),image:i,customImage:!0,primary:n,secondary:b,theme:"order-product",onClick:a})};var r=i(a("ddhijeejag")),o=n(a("cefccdiabc")),d=i(a("bjgiedaj")),l=n(a("gfebgebbi")),c=n(a("bdjjabfecc")),s=n(a("daeddehde")),u=n(a("dchhjffcdj")),f=n(a("dhhjhedjij"))},dffbbbhiad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StatusV3MsgNotFound=t.StatusV3LoadingError=t.InvalidStatusV3Iterator=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("dbahhcabjf")),u=i(a("cfjdfebffb")),f=i(a("dbafiicfja")),h=a("bjhaecbifc"),p=i(a("bgcdajbhif")),g=n(a("bgabgddgch"));function m(){var e=(0,r.default)(["error while loading more status msgs: ",""]);return m=function(){return e},e}function b(){var e=(0,r.default)(["error while loading more status msgs: ",""]);return b=function(){return e},e}function v(){var e=(0,r.default)(["Loaded "," messages with total count ",", but noEarlierMsgs set"]);return v=function(){return e},e}function j(){var e=(0,r.default)(["error while getting first unread status: ",""]);return j=function(){return e},e}function E(){var e=(0,r.default)(["Total count: ",", unread count: ",", msgs length: ",""]);return E=function(){return e},e}var C=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}((0,h.customError)("InvalidStatusV3Iterator"));t.InvalidStatusV3Iterator=C;var y=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}((0,h.customError)("StatusV3LoadingError"));t.StatusV3LoadingError=y;var S=function(e){function t(){return(0,o.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),t}((0,h.customError)("StatusV3MsgNotFound"));t.StatusV3MsgNotFound=S;t.default=function e(t,a){var n=this;if((0,o.default)(this,e),this.printInfo=function(){n.statuses.forEach((function(e){__LOG__(2)(E(),e.totalCount,e.unreadCount,e.msgs.length)}))},this.getFirstUnread=function(e,t,a){var i=n.statuses.findIndex((function(t){return t.statusV3===e}));if(-1!==i){var r,o=n.statuses[i],d=o.readMsgKeys;return a?(r=o.msgs?o.msgs.findIndex((function(e){return a&&e.id.toString()===a.toString()})):-1)>=0?Promise.resolve({msgIdx:r,statusIdx:i}):Promise.reject(new C):-1===(r=o.msgs?o.msgs.findIndex((function(e){return!d.includes(e.id.toString())})):-1)&&e.msgs.msgLoadState.noEarlierMsgs?(r=t?0:o.msgs.length-1,Promise.resolve({msgIdx:r,statusIdx:i})):-1!==r?Promise.resolve({msgIdx:r,statusIdx:i}):0===o.unreadCount&&t&&o.msgs.length>0?Promise.resolve({msgIdx:0,statusIdx:i}):n.fetchMore(e).then((function(){return n.getFirstUnread(e,t,a)})).catch((function(e){return __LOG__(3)(j(),String(e)),Promise.reject(new C)}))}return Promise.reject(new C)},this.hasNext=function(e){var t=n.statuses[e.statusIdx];return e.msgIdx+1<t.totalCount||e.statusIdx+1<n.statuses.length},this.getNext=function(e){var t=n.statuses[e.statusIdx],a=t.statusV3;if(e.msgIdx+1<t.totalCount&&e.msgIdx+1<t.msgs.length)return Promise.resolve({msgIdx:e.msgIdx+1,statusIdx:e.statusIdx});if(e.msgIdx+1<t.totalCount)return a.msgs.msgLoadState.noEarlierMsgs?(__LOG__(3)(v(),t.msgs.length,t.totalCount),Promise.reject(new C)):n.fetchMore(a).then((function(){return n.getNext(e)})).catch((function(t){if(__LOG__(3)(b(),String(t)),e.statusIdx+1<n.statuses.length){var a=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(a,!0)}return Promise.reject(new C)}));if(e.statusIdx+1<n.statuses.length){var i=n.statuses[e.statusIdx+1].statusV3;return n.getFirstUnread(i,!0)}return Promise.reject(new C)},this.hasPrev=function(e){return e.msgIdx>0||e.statusIdx>0},this.getPrev=function(e){if(e.msgIdx>0)return Promise.resolve({msgIdx:e.msgIdx-1,statusIdx:e.statusIdx});if(e.statusIdx>0){var t=n.statuses[e.statusIdx-1].statusV3;return n.getFirstUnread(t,!1)}return Promise.reject(new C)},this.statusAt=function(e,t){var a=n.statuses[e.statusIdx],i=a.statusV3;return t<a.msgs.length?Promise.resolve({msgIdx:t,statusIdx:e.statusIdx}):i.msgs.msgLoadState.noEarlierMsgs?Promise.reject(new C):n.fetchMore(i).then((function(){return n.statusAt(e,t)})).catch((function(e){return __LOG__(3)(m(),String(e)),Promise.reject(new C)}))},this.fetchMore=function(e){return Promise.loop((function(t,a,i){var r=Promise.delay(g.expBackoff(i,12e4,1e3,.1));return e.loadMore().then((function(){var a=n.statuses.findIndex((function(t){return t.statusV3===e}));if(-1!==a){var o=n.statuses[a],d=o.totalCount,l=o.unreadCount,c=e.msgs.getModelsArray().slice(0,d),h=c.slice(0,d-l),p=(0,f.default)(h,(function(e){return e.id.toString()}));o.msgs=c,o.readMsgKeys=(0,u.default)((0,s.default)(o.readMsgKeys,p)),t(!0)}else{if(!(i>=4))return r;t(!1)}})).catch((function(){if(!(i>=4))return r;t(!1)}))})).then((function(e){if(!e)throw new y}))},a){var i=t.msgs.getModelsArray().find((function(e){return a&&e.id.toString()===a.toString()}));if(!i)throw new S;this.statuses=[{statusV3:t,totalCount:1,unreadCount:0,msgs:[i],readMsgKeys:[i.id.toString()]}]}else if(t.unreadCount>0&&!t.contact.isMe&&!t.contact.statusMute){var r=p.default.getUnexpired(!0),d=[];r.forEach((function(e){if(!e.contact.statusMute){var t=e.msgs.getModelsArray(),a=e.totalCount-e.unreadCount,n=t.slice(0,a),i=(0,f.default)(n,(function(e){return e.id.toString()}));d.push({statusV3:e,totalCount:e.totalCount,unreadCount:e.unreadCount,msgs:t,readMsgKeys:i})}})),this.statuses=d}else{var l=t.msgs.getModelsArray(),c=t.totalCount-t.unreadCount,h=l.slice(0,c),_=(0,f.default)(h,(function(e){return e.id.toString()})),k=[{statusV3:t,totalCount:t.totalCount,unreadCount:t.unreadCount,msgs:l,readMsgKeys:_}];this.statuses=k}this.printInfo()}},dfjfejdjjh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhehgiigij")),o=i(a("bacbhehedf")),d=n(a("bgabgddgch")),l=n(a("bgeajihhc")),c=i(a("bjieiiccce"));function s(e){return Promise.loop((function(t,a,n){var i=Promise.delay(d.expBackoff(n,6e4,void 0,.1));return(l.default.state===l.STATE.CONNECTED?Promise.resolve():(0,o.default)(l.default,"change:state",(0,r.default)({state:l.STATE.CONNECTED}))).then((function(){return e()})).then((function(e){if(e.status>=500&&e.status<600)return i;t(e)})).catch((function(){return i}))}))}var u={headRetry:function(e){return s((function(){return c.default.head(e)}))},getRetry:function(e,t){return s((function(){return c.default.get(e,t)}))},postRetry:function(e,t){return s((function(){return c.default.post(e,t)}))}};t.default=u},dfjhjafaab:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.getTosUrl=function(){return"".concat("https://www.whatsapp.com/legal/","?lg=").concat(i.default.getLocale())},t.TOS_BASE_URL=void 0;var i=n(a("bdjjabfecc"));t.TOS_BASE_URL="https://www.whatsapp.com/legal/"},dgaefbheia:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("bhfcfhafdj")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("bhcgjhdbdj")),h=a("eajdbbfgfg"),p=i(a("bijffg")),g=i(a("ecbbjjjhh")),m=i(a("ebddggeaib")),b=i(a("gfgihaeab")),v=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).call(this))).refLastLabel=null,e.updateData=function(t,a,n){var i=e.props.shouldScrollIntoViewAndSelect;e.setState({labels:p.default.toArray()},(function(){if(n.add&&i){var a=i(t.name),r=a.shouldScrollIntoView,o=a.shouldSelect;r&&e.refLastLabel&&e.refLastLabel.scrollIntoView({behavior:"smooth"}),o&&e.onMultiSelect(t,!0,!1)}}))},e.setRefLastLabel=function(t){e.refLastLabel=t},e.onMultiSelect=function(t,a,n){var i=e.props,r=i.selectedLabels,o=i.onMultiSelect;r&&r.setVal(t,a,n),o&&o(t.id)},e.renderLabelRow=function(){var t=e.props,a=t.renderContext,n=t.onLabelClick,i=t.initialLabelState,o=void 0===i?{}:i,d=e.props.SelectableState||new b.default(!0);return e.state.labels.reduce((function(t,i,l){var c=p.default.assertGet(i.id);if(!i.name)return t;var s="label-selection"===a||(0,h.canEditLabel)()?u.createElement(f.default,{theme:a,model:c,initialSelection:o[i.id]||0,multiSelection:e.props.selectedLabels,selectableState:d,onSelect:e.onMultiSelect},u.createElement(g.default,{label:i.id})):u.createElement(g.default,{label:i.id,theme:a});return[].concat((0,r.default)(t),[u.createElement("div",{key:"label_item_".concat(i.id),ref:l===e.state.labels.length-1?e.setRefLastLabel:function(){},onClick:n?n.bind(null,i.id):function(){}},s)])}),[])},e.state={labels:p.default.toArray()},e}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(p.default,"add remove",this.updateData)}},{key:"render",value:function(){return u.createElement("div",null,this.renderLabelRow())}}]),t}(u.PureComponent),j=(0,m.default)(v);t.default=j},dgffihajaa:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Component=t.RETRY_OPTIONS=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("bebajedcaf")),u=n(a("ddhijeejag")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=i(a("bjjhgjdbhd")),g=i(a("cjecgfcdhj")),m=i(a("dacaegbbf")),b=i(a("djaiggcdb")),v=i(a("bdjjabfecc")),j=i(a("ebddggeaib")),E=i(a("dcdefbibje")),C=i(a("dhdeebadad")),y=n(a("difhgjjfcb")),S=i(a("cehjgabfic")),_=i(a("deffjjfcba")),k=i(a("dgdcjccfdi")),M=a("dfjhjafaab"),I=i(a("edbaidcaf")),T=i(a("didfdhbecg")),L={NONE:"none",RETAKE:"retake",RESTART:"restart"};t.RETRY_OPTIONS=L;var P=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onDoneEditing=function(){var e=a.state.editedMedia;a.saveCanvas(),a.refProfileCropTool&&a.refProfileCropTool.getComponent().crop().then((function(t){var n=t.thumb,i=t.full;a.props.onFinished(n,i),e.cleanUp()}))},a.onObjectLoad=function(e){if(e&&e instanceof HTMLElement){var t={};!a.state.editorSize||a.state.editorSize.width===e.clientWidth&&a.state.editorSize.height===e.clientHeight||(t.editorSize={width:e.clientWidth,height:e.clientHeight}),a.state.loaded||(t.loaded=!0),(0,s.default)(t)||a.setState(t)}},a.setRefMediaEditCanvas=function(e){a.mediaEditCanvas=e},a.setRefProfileCropTool=function(e){a.refProfileCropTool=e},a.drawCanvas=function(e,t){a.mediaEditCanvas&&a.mediaEditCanvas.drawCanvas(e,t)},a.saveCanvas=function(){a.mediaEditCanvas&&a.mediaEditCanvas.saveCanvas()},a.updateCanvasSize=function(e,t){a.mediaEditCanvas&&a.mediaEditCanvas.updateCanvasSize(e,t)},a.onCanvasInitialized=function(){a.forceUpdate()},a.state={doneEditing:!1,loaded:!1,editorSize:{width:500,height:361},editedMedia:new m.default(e.img)},a.mediaEditController=new C.default,a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.mediaEditController,"change:isInitialized",this.onCanvasInitialized)}},{key:"render",value:function(){var e,t=this.props,a=t.attributionUrl,n=t.onRetake,i=t.retryText,r=this.state.loaded?u.createElement("div",{className:g.default.btnSend,key:"btn-send"},u.createElement(_.default,{large:!0,onClick:this.onDoneEditing},u.createElement(k.default,{name:"checkmark-large"}))):null;this.mediaEditController.isInitialized&&(e=u.createElement(S.default,{editedMedia:this.state.editedMedia,stage:this.mediaEditController.stage,cropOverlay:this.mediaEditController.cropOverlay,mediaContainer:this.mediaEditController.mediaContainer,drawCanvas:this.drawCanvas,ref:this.setRefProfileCropTool}));var o,d=u.createElement(E.default,{className:g.default.mediaElement,editedMedia:this.state.editedMedia,mediaEditController:this.mediaEditController,fitType:y.FIT_TYPE.COVER,ref:this.setRefMediaEditCanvas});if(n){var l;switch(i){case L.NONE:l=null;break;case L.RETAKE:l=v.default.t(1129);break;case L.RESTART:default:l=v.default.t(1138)}o=u.createElement("div",{className:g.default.retake,onClick:n},u.createElement("div",{className:g.default.retakeIcon},u.createElement(k.default,{name:"return"})),l)}var c=a?u.createElement("div",{className:g.default.attribution},u.createElement(b.default,{className:g.default.attributionLink,href:a},I.default.hostname(a)),u.createElement("span",null,v.default.t(731)," ",u.createElement(b.default,{href:(0,M.getTosUrl)()},v.default.t(737)))):null,s=u.createElement("div",{className:g.default.footer},u.createElement(T.default,{transitionName:"btn"},r),c),m=this.props.imageSize?this.props.imageSize:{width:500,height:361};return u.createElement(f.default,{key:"attach-edit-modal",theme:"edit"},u.createElement(p.default,{title:v.default.t(194),type:"offset",onCancel:this.props.onCancel},o),u.createElement(h.default,{overflow:"hidden"},u.createElement("div",{className:g.default.mediaBody},e,u.createElement("div",{className:g.default.containerBackground},u.createElement(T.default,{transitionName:"capture"},u.createElement(y.default,{type:y.FIT_TYPE.COVER,size:m,onObjectLoad:this.onObjectLoad},d)))),s))}}]),t}(u.Component),w=P;t.Component=w;var N=(0,j.default)(P);t.default=N},dggddfhei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdjjabfecc")),f=i(a("ebddggeaib")),h=i(a("diffaiehid")),p=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onUpdate=function(e){a.setState({timestampText:a.getTimestampText(e)})},a.state={timestampText:a.getTimestampText(e.participant)},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.participant;e.isMe?this.props.listeners.add(e,"change:expiration",this.onUpdate):this.props.listeners.add(e,"change:lastUpdated",this.onUpdate);var t=this.getTime(e);this.setTimeoutForNextMinute(t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.participant,a=e.participant;if(t.expiration!==a.expiration&&t.lastUpdated!==a.lastUpdated){null!=this.timeoutId&&this.props.clearTimeout(this.timeoutId),null!=this.intervalId&&this.props.clearInterval(this.intervalId);var n=this.getTime(t);this.setTimeoutForNextMinute(n)}}},{key:"getTimestampText",value:function(e){return e.isMe?this.remainingTimeText(e.remainingTime()):this.elapsedTimeText(e.elapsedTime())}},{key:"getTime",value:function(e){return e.isMe?e.remainingTime():e.elapsedTime()}},{key:"setTimeoutForNextMinute",value:function(e){var t=this;this.timeoutId=this.props.setTimeout((function(){t.setState({timestampText:t.getTimestampText(t.props.participant)}),t.setIntervalForEveryMinute()}),e%60*1e3)}},{key:"setIntervalForEveryMinute",value:function(){var e=this;this.intervalId=this.props.setInterval((function(){e.setState({timestampText:e.getTimestampText(e.props.participant)})}),6e4)}},{key:"elapsedTimeText",value:function(e){var t=this.toHoursAndMinutes(e),a=t.hours,n=t.minutes;return a>0?n>0?u.default.t(795,{hours:a,minutes:n}):u.default.t(794,{hours:a,_plural:a}):n>0?u.default.t(797,{minutes:n,_plural:n}):u.default.t(796)}},{key:"remainingTimeText",value:function(e){var t=this.toHoursAndMinutes(e,!0),a=t.hours,n=t.minutes;return a>0?n>0?u.default.t(782,{hours:a,minutes:n}):u.default.t(781,{hours:a,_plural:a}):u.default.t(783,{minutes:n,_plural:n})}},{key:"toHoursAndMinutes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e;t&&(a+=59);var n=3600,i=Math.floor(a/n),r=a%n,o=Math.floor(r/60);return{hours:i,minutes:o}}},{key:"render",value:function(){return s.createElement("span",null,this.state.timestampText)}}]),t}(s.Component),g=(0,f.default)((0,h.default)(p));t.default=g},dhajefgece:function(e,t,a){"use strict";var n=a("cfjecfhbfg"),i=a("bfejgijfbh");Object.defineProperty(t,"__esModule",{value:!0}),t.search=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,n={q:e,SafeSearch:"Strict",appid:c,mkt:f[o.default.getLocale()]||f.en,size:u,aspect:s,count:a,offset:t},i=d.default.build("https://www.bingapis.com/api/v6/images/search",n);return l.default.get(i,l.default.RESP_TYPE.JSON).then((function(t){if(!t.response.hasOwnProperty("_type"))throw new r.InvalidServerResponseError(i,status,"Not a valid Bing response: ".concat(JSON.stringify(t.response)));if("ErrorResponse"===t.response._type){var a=t.response;throw new r.BingServerError(e,t.status,a)}if("Images"!==t.response._type)throw new r.InvalidServerResponseError(i,status,"Did not receive an image search response, "+"potentially malformed query ".concat(JSON.stringify(t.response)));return t.response}))};var r=i(a("cajijabhgb")),o=n(a("bdjjabfecc")),d=n(a("edbaidcaf")),l=n(a("bjieiiccce")),c="D41D8CD98F00B204E9800998ECF8427E4F4A7492",s="Square",u="Medium",f={ar:"ar-SA",da:"da-DK",de:"de-DE",en:"en-US",es:"es-US",fi:"fi-FI",fr:"fr-FR",it:"it-IT",ko:"ko-KR",nl:"nl-NL",pl:"pl-PL","pt-BR":"pt-BR",ru:"ru-RU",sv:"sv-SE",tr:"tr-TR","zh-CN":"zh-CN","zh-TW":"zh-TW"}},dhbchaebgb:function(e,t){e.exports={icon:"_2rgWN",body:"_2xUrR",spinner:"_2yODJ",ack:"_1PG1Q",pttBlue:"_942s1"}},dhdeebadad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("dcaifjegcg")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).stage=(0,s.prop)(),a.cropOverlay=(0,s.prop)(),a.mediaContainer=(0,s.prop)(),a.isInitialized=(0,s.derived)(a._isInitialized,["stage","cropOverlay","mediaContainer"]),a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"_isInitialized",value:function(){return!!this.stage&&!!this.cropOverlay&&!!this.mediaContainer}},{key:"clearStage",value:function(e){e&&(e.children.forEach((function(e){e.removeAllEventListeners()})),e.removeAllEventListeners(),e.removeAllChildren(),e.clear())}}]),t}(s.default),f=(0,s.defineModel)(u);t.default=f},dhibhgiihj:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("dgcdacjddi")),o=n(a("bfgbdiffgd"));function d(e){return Math.min(e,o.default.statusVideoMaxDuration)}var l=function(){function e(){var t=this;(0,i.default)(this,e),this.addListeners=function(e,a,n){t._onStart=e,t._onPause=a,t._onEnded=n},this.setVideo=function(e){t._video!==e&&(t.unsetVideo(),t._video=e,null!=e&&(e.addEventListener("playing",t._onPlayingHandler),e.addEventListener("pause",t._onPauseHandler),e.addEventListener("ended",t._onEndedHandler),e.addEventListener("timeupdate",t._onTimeUpdate)))},this.unsetVideo=function(){var e=t._video;e&&(t.stop(),e.removeEventListener("playing",t._onPlayingHandler),e.removeEventListener("pause",t._onPauseHandler),e.removeEventListener("ended",t._onEndedHandler),e.removeEventListener("timeupdate",t._onTimeUpdate))},this.play=function(){t._video&&t._video.play()},this.pause=function(){t._video&&!t._video.paused&&t._video.pause()},this.resume=function(){t._video&&t._video.play()},this.stop=function(){t._video&&!t._video.paused&&t._video.pause()},this._onPlayingHandler=function(){var e=t._video;if(null!=e){var a=t._onStart;if(a){var n=d(e.duration);a(1e3*(n-e.currentTime),1e3*n)}}},this._onPauseHandler=function(){var e=t._onPause;e&&e()},this._onEndedHandler=function(){var e=t._onEnded;e&&e()},this._onTimeUpdate=function(){var e,a=null===(e=t._video)||void 0===e?void 0:e.currentTime;if(null!=a&&a>=o.default.statusVideoMaxDuration){t.stop(),t._onEndedHandler();var n=t._video;n&&(n.removeEventListener("timeupdate",t._onTimeUpdate),n.removeEventListener("ended",t._onEndedHandler))}},this.removeListeners=function(){t.stop(),t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0}}return(0,r.default)(e,[{key:"duration",get:function(){return null==this._video?0:1e3*d(this._video.duration)}}]),e}();t.default=l},dhigcdiaid:function(e,t,a){e.exports=a.p+"bryndan_write_20e48b2ec8c64b2a1ceb5b28d9bcc9d0.ttf"},dhjihjcdah:function(e,t){e.exports={title:"_3G4bS",text:"_1l2WO",icon:"_2_eZL"}},dhjjaiefdi:function(e,t){e.exports={body:"_2GuwY",vcardWrapper:"_3uEv4",btnContainer:"nm4bx",btnPosition:"_1vwtt"}},dieaaaeidb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.StatusV3Text=t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("djecdhecha")),u=i(a("dbjagcfebh")),f=i(a("eaaagccfda")),h=i(a("ceffhbhahb")),p=n(a("ddhijeejag")),g=i(a("jigjfjjij")),m=i(a("dbdfbgehgj")),b=i(a("cfadcbbiie")),v=i(a("ccbgfecegc")),j=i(a("hgigjbgie")),E=i(a("hhcjfgifh")),C=i(a("gfebgebbi")),y=n(a("cajijabhgb")),S=i(a("ddajbaceej")),_=i(a("djifeiaaea")),k=a("dhegcfddhg"),M=i(a("dhfbfehaef")),I=i(a("bhbcdbjdeg")),T=a("gaifbabbj"),L=i(a("bdjjabfecc")),P=i(a("ebddggeaib")),w=i(a("dcjigehfeb")),N=i(a("chihecbaj")),O=i(a("bdcchebfge")),A=n(a("difhgjjfcb")),R=i(a("dhccahhefj")),D=i(a("ecdebjcgfa")),x=i(a("dcdbbhicce")),U=i(a("bfffjiagfi")),F=a("eaaffccdb"),B=i(a("bbbdhbgafg")),V=i(a("cdhjbegegf")),G=i(a("cgjdibiahi")),H=a("bficeagfg"),W=i(a("cdhbehgbej"));function z(){var e=(0,r.default)(["Invalid status v3 image type: ",""]);return z=function(){return e},e}var Y=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).apply(this,arguments))).refProgressBar=p.createRef(),e.refProgressBarComponent=p.createRef(),e.refMeasuringProfile=p.createRef(),e.refWrapper=p.createRef(),e.componentWillUnmount=function(){if(e.playbackController.removeListeners(),null!=e.props.sessionId){var t=Math.round(e.playbackController.duration||0);e.statusViewEvent.webcStatusPlaybackT=t;var a=(0,s.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.statusViewEvent.commit()}},e.onWindowResize=function(){var t=e.refMeasuringProfile&&e.refMeasuringProfile.current,a=e.refProgressBar&&e.refProgressBar.current;if(t&&a){var n=t.getBoundingClientRect(),i=a.getBoundingClientRect();!L.default.isRTL()&&n.right>i.left-5||L.default.isRTL()&&n.left<i.right+5?e.setState({narrow:!0}):e.setState({narrow:!1})}},e.onTab=function(t){(t&&(t.stopPropagation(),t.preventDefault()),e.props.statusV3.contact.isMe)||(e.composeBox.isFocused()?e.dismissReply():e.startReply())},e.onWindowGainedFocus=function(){e.windowFocused=!0,e.play()},e.onWindowLostFocus=function(){e.windowFocused=!1,e.pause()},e.onClickProfile=function(){var t=e.props.statusV3.contact.id;m.default.find(t).then((function(e){return v.default.openChatBottom(e)})).then((function(){e.props.closeStatusViewer(!0)}))},e.play=function(){var t=e.props.mediaData;if(t){if(t.mediaStage!==w.default.STAGE.RESOLVED)return;e.statusViewEvent.webcStatusLoadT||(e.statusViewEvent.markWebcStatusLoadT(),e.statusViewEvent.webcStatusLoaded=!0)}var a=e.composeBox;a&&a.isPaused()||e.windowFocused&&(e.playStartTime=window.performance.now(),e.playbackController.resume())},e.pause=function(){var t=e.props.mediaData;if(!t||t.mediaStage===w.default.STAGE.RESOLVED){var a=(0,s.default)(e).playStartTime;null!=a&&(e.statusViewEvent.webcStatusViewT+=Math.round(window.performance.now()-a),e.playStartTime=void 0),e.playbackController.pause()}},e.onMouseDown=function(){e.pause()},e.onMouseUp=function(){e.play()},e.dismissReply=function(){var t=e.refWrapper&&e.refWrapper.current;t&&S.default.focus(t)},e.startReply=function(){e.composeBox.restoreFocus()},e.onSend=function(){e.statusViewEvent.webcStatusReplyCount++},e.state={chat:void 0,narrow:!1},e.windowFocused=!0,e.playbackController=(0,F.setupStatusV3Controller)(e.props.mediaData,e.props.msg),e.statusViewEvent=new O.default.WebcStatusView({webcStatusLoaded:!1,webcStatusReplyCount:0,webcStatusViewT:0}),e}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.statusV3,n=t.msg,i=t.mediaData,r=t.msgIdx,o=t.sessionId;if(null!=o){var d;d=a.contact.isMe?O.default.WEBC_STATUS_ROW_SECTION.MY:a.contact.statusMute?O.default.WEBC_STATUS_ROW_SECTION.MUTED:a.hasUnread?O.default.WEBC_STATUS_ROW_SECTION.RECENT:O.default.WEBC_STATUS_ROW_SECTION.VIEWED;var l,c=this.props.rowIdx||0,s=a.msgs.length-1-r<a.unreadCount;i?l=i.isGif?O.default.WEBC_STATUS_MEDIA_TYPE.GIF:"video"===i.type?O.default.WEBC_STATUS_MEDIA_TYPE.VIDEO:O.default.WEBC_STATUS_MEDIA_TYPE.IMAGE:(l=n.getLinks().length?O.default.WEBC_STATUS_MEDIA_TYPE.URL:O.default.WEBC_STATUS_MEDIA_TYPE.TEXT,this.statusViewEvent.markWebcStatusLoadT(),this.statusViewEvent.webcStatusLoaded=!0),this.statusViewEvent.webcStatusSessionId=o,this.statusViewEvent.webcStatusRowSection=d,this.statusViewEvent.webcStatusRowIndex=c,this.statusViewEvent.webcStatusMediaType=l,this.statusViewEvent.webcStatusUnread=s}this.refProgressBarComponent&&this.refProgressBarComponent.current&&this.playbackController.addListeners((function(t,a){var n=e.refProgressBarComponent&&e.refProgressBarComponent.current;n&&n.onStart(t,a)}),(function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onPause()}),(function(){var t=e.refProgressBarComponent&&e.refProgressBarComponent.current;t&&t.onEnded().checkpoint(e.props.rejectOnUnmount()).then((function(){e.props.onNext()})).catchType(y.Unmount,(function(){}))})),i?(this.play(),i&&i.mediaStage===w.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)):(this.props.msg.type,j.default.MSG_TYPE.CHAT,this.play(),this.props.markRead(this.props.statusV3,this.props.msg));var u=this.refWrapper&&this.refWrapper.current;u&&u.focus();var h=this.props.listeners;h.add(window,"focus",this.onWindowGainedFocus),h.add(window,"blur",this.onWindowLostFocus),h.add(window,"resize",(0,f.default)(this.onWindowResize)),this.onWindowResize()}},{key:"render",value:function(){var e,t,a=this,n=this.props,i=n.msg,r=n.mediaData,o=n.statusV3;if(r&&r.preview)e={backgroundImage:"url(".concat(r.preview.url(),")")};else if(i.type===j.default.MSG_TYPE.CHAT){e={backgroundColor:i.statusV3TextBg}}if(r)switch(r.type){case w.default.TYPE.IMAGE:t=p.createElement(q,{msg:i,statusV3:o,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;case w.default.TYPE.VIDEO:t=p.createElement(X,{msg:i,statusV3:o,mediaData:r,markRead:this.props.markRead,play:this.play,pause:this.pause,playbackController:this.playbackController,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});break;default:__LOG__(3)(z(),r.type)}else t=i.type===j.default.MSG_TYPE.CHAT?p.createElement(J,{msg:i,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp}):p.createElement(Q,{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp});var d,l=p.createElement("div",{ref:this.refProgressBar},p.createElement(V.default,{ref:this.refProgressBarComponent,current:this.props.msgIdx,total:this.props.totalMsgs,onClick:this.props.onClickProgressBar}));i.type!==j.default.MSG_TYPE.CHAT&&(d=p.createElement("div",{className:B.default.captionBackdrop},p.createElement(C.default,{className:B.default.mediaCaption,text:i.caption,formatters:T.Configuration.StatusV3Caption()})));var c,s,u=(0,h.default)(B.default.profile,{[B.default.nonClickProfile]:i.isSentByMe,[B.default.profileNarrow]:this.state.narrow}),f=(0,h.default)(B.default.profile,B.default.measuringProfile,{}),g=p.createElement("div",{className:u,onClick:i.isSentByMe?null:this.onClickProfile},p.createElement("div",{className:B.default.playerAvatar},p.createElement(E.default,{id:o.contact.id,theme:"status_v3",size:40})),p.createElement("div",{className:B.default.msgInfo},p.createElement(C.default,{className:B.default.msgInfoName,text:o.contact.formattedName}),p.createElement("div",{className:B.default.timestamp},b.default.relativeDateAndTimeStr(i.t)))),m=p.createElement("div",{ref:this.refMeasuringProfile,className:f},p.createElement("div",{className:B.default.playerAvatar},p.createElement(E.default,{id:o.contact.id,theme:"status_v3",size:40})),p.createElement("div",{className:B.default.msgInfo},p.createElement(C.default,{className:B.default.msgInfoName,text:o.contact.formattedName}),p.createElement("div",{className:B.default.timestamp},b.default.relativeDateAndTimeStr(i.t)))),v={tab:this.onTab,"shift+tab":this.onTab},y=function(e){return e.stopPropagation()};r&&(c=p.createElement(ee,{mediaData:r})),this.props.statusV3.contact.isMe||(s=p.createElement(M.default,{handlers:{left:y,right:y}},p.createElement(U.default,{msg:this.props.msg,dismissReply:this.dismissReply,onSend:this.onSend,pause:this.pause,play:this.play,ref:(0,k.GetRef)("composeBox",this)})));var S,_=(0,h.default)(B.default.playerBackground,{[B.default.media]:r}),I=(0,h.default)(B.default.progressBackdrop,{[B.default.progressBarBackdropNarrow]:this.state.narrow});return i.type!==j.default.MSG_TYPE.CHAT&&(S=p.createElement("div",{className:I})),p.createElement(G.default,{displayName:"StatusV3Player",escapable:!0,requestDismiss:function(e){e||a.props.closeStatusViewer()},requestFocus:this.dismissReply},p.createElement(M.default,{handlers:v},p.createElement("div",{className:B.default.playerWrapper,key:i.id.toString(),tabIndex:-1,ref:this.refWrapper},m,g,S,l,d,p.createElement("div",{className:_,style:e}),t,c,s)))}}]),t}(p.Component),K=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i))))._renderImage=function(e){var t=a.props,n=t.msg,i=t.mediaData,r=(0,h.default)(B.default.playerContent,B.default.v3Image);return p.createElement("div",{className:r,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp,onDragEnd:a.props.onMouseUp},p.createElement(A.default,{type:A.FIT_TYPE.CONTAIN,size:{width:i.fullWidth,height:i.fullHeight}},p.createElement("div",{className:B.default.mediaViewer},p.createElement(I.default,{src:e,disableContextMenu:!0}),n&&n.interactiveAnnotations&&n.interactiveAnnotations.length>0&&p.createElement(g.default,{annotations:n.interactiveAnnotations,onTooltipDisplay:a.props.onMouseDown,onTooltipDismiss:a.props.onMouseUp}))))},a._renderPreviewImage=function(){var e=a.props.mediaData,t=(0,h.default)(B.default.playerContent,B.default.v3Image,B.default.loading);return p.createElement("div",{className:t,onMouseDown:a.props.onMouseDown,onMouseUp:a.props.onMouseUp},p.createElement(A.default,{type:A.FIT_TYPE.CONTAIN,size:{width:e.aspectRatio,height:1}},p.createElement(I.default,{src:e.preview&&e.preview.url()})))},a._downloadMedia=function(){return a.props.msg.downloadMedia(!0,O.default.WEBC_RMR_REASON_CODE.STATUS_V3)},a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.props.mediaData.mediaStage!==w.default.STAGE.RESOLVED&&this.props.msg.downloadMedia(!0,O.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===w.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){return p.createElement(N.default,{mediaData:this.props.mediaData,placeholderRenderer:this._renderPreviewImage,downloadMedia:this._downloadMedia,renderProgressively:!0},this._renderImage)}}]),t}(p.PureComponent);K.CONCERNS={mediaData:["mediaStage","renderableUrl","preview","fullWidth","fullHeight","aspectRatio"]};var q=(0,x.default)(K,K.CONCERNS),Z=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).refVideo=p.createRef(),a.setRefVideo=function(e){a.refVideo=e,a.props.playbackController.setVideo(a.refVideo.current)},a}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.mediaData;e.streamable||e.isStreamable()||this.props.msg.downloadMedia(!0,O.default.WEBC_RMR_REASON_CODE.STATUS_V3)}},{key:"componentDidUpdate",value:function(){this.props.play();var e=this.props.mediaData;e&&e.mediaStage===w.default.STAGE.RESOLVED&&this.props.markRead(this.props.statusV3,this.props.msg)}},{key:"componentWillUnmount",value:function(){this.props.pause()}},{key:"render",value:function(){var e=this.props,t=e.msg,a=e.mediaData,n=e.onMouseDown,i=e.onMouseUp,r=a.mediaStage!==w.default.STAGE.RESOLVED,o=(0,h.default)(B.default.playerContent,B.default.v3Video,{loading:r}),d=a.preview?a.preview.url():void 0;return p.createElement("div",{className:o,onMouseDown:n,onMouseUp:i},p.createElement(A.default,{type:A.FIT_TYPE.CONTAIN,size:{width:a.fullWidth,height:a.fullHeight}},p.createElement("div",{className:B.default.mediaViewer},p.createElement(W.default,{msg:t,mediaData:a,autoPlay:!0,refVideo:this.setRefVideo,poster:d,disableContextMenu:!0},L.default.t(1339)),t&&t.interactiveAnnotations&&t.interactiveAnnotations.length>0&&p.createElement(g.default,{annotations:t.interactiveAnnotations,onTooltipDisplay:this.props.onMouseDown,onTooltipDismiss:this.props.onMouseUp}))))}}]),t}(p.PureComponent);Z.CONCERNS={mediaData:["preview","mediaStage","fullWidth","fullHeight","streamable"]};var X=(0,x.default)(Z,Z.CONCERNS),J=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){_.default.load(this.props.msg.font).catch((function(){}))}},{key:"render",value:function(){var e,t,a=(0,H.numCodepoints)(this.props.msg.body),n={[B.default["font_".concat(this.props.msg.font)]]:!0};return a<=60?(e=(0,h.default)(B.default.text,B.default.textLarge,n),t=T.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):a<=240?(e=(0,h.default)(B.default.text,B.default.textMedium,n),t=T.Configuration.StatusV3Text({links:this.props.msg.getLinks()})):e=(0,h.default)(B.default.text,B.default.textSmall,n),p.createElement("div",{className:(0,h.default)(B.default.playerContent,{[B.default.statusPanelPlayerContent]:"status-panel"===this.props.theme,[B.default.statusThumbnailPlayerContent]:"status-thumbnail"===this.props.theme,[B.default.textThumbnailPlayerContent]:"text-thumb"===this.props.theme}),onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},p.createElement("div",{className:e},p.createElement(C.default,{text:this.props.msg.body,formatters:t})))}}]),t}(p.PureComponent);t.StatusV3Text=J;var Q=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return p.createElement("div",{className:B.default.playerContent,onMouseDown:this.props.onMouseDown,onMouseUp:this.props.onMouseUp},p.createElement("div",{className:B.default.unknown},L.default.t(1236)))}}]),t}(p.PureComponent),$=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,u.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){return this.props.mediaData.mediaStage!==w.default.STAGE.RESOLVED?p.createElement("div",{className:B.default.mediaStateControls},p.createElement("button",{className:"icon-media-disabled"},p.createElement(D.default,{size:50,stroke:4,color:"white"}))):null}}]),t}(p.Component);$.CONCERNS={mediaData:["mediaStage"]};var ee=(0,x.default)($,$.CONCERNS),te=(0,R.default)((0,P.default)(Y));t.default=te},diebdcceag:function(e,t){e.exports={container:"_2nT_s",popupPanel:"_36FL8",wrapper:"_3w8Xk",emojiIcon:"vqfUC",sendIcon:"_1Myo-",lineWrapper:"_3PPL0"}},diibfjicfe:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setPushnameLocally=function(e){i.default.pushname=e,(0,r.setPushname)(e)};var i=n(a("bjigbaghc")),r=a("ddbdgibbbi")},dijcebghbf:function(e,t){e.exports={container:"_1erYH",selected:"uHXuH",glow:"LbLoZ",stale:"udkUO",expired:"_2KhF6",pin:"_2T2Fj"}},djdjdgjjdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bjhdcidgah")),f=n(a("djbghdgcj")),h=i(a("ccbgfecegc")),p=i(a("bibjjjghee")),g=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),b=i(a("cciafahdib")),v=n(a("bjjhgjdbhd")),j=a("djaiggcdb"),E=a("facgccaif"),C=i(a("bhbdiadfhj")),y=i(a("ebhiccidcj")),S=i(a("djbjbichdf")),_=i(a("bdjjabfecc")),k=i(a("jabfchggf")),M=i(a("bdcchebfge")),I=i(a("djiecjceea")),T=a("dfjhjafaab"),L=i(a("jajhhaah")),P={id:"animated-doodle",selectors:[".".concat(y.default.animation)],low:{default:u.default},high:{default:u.default}},w=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).openTime=-1,a.actionsTaken=!1,a.onTOS=function(){a.actionsTaken=!0,(0,j.openExternalLink)((0,T.getTosUrl)())},a.onFAQ=function(){(0,j.openExternalLink)((0,E.getFaqUrl)()),a.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.FAQ)},a.onContactUs=function(){h.default.openModal(C.default.supportsFeature(C.default.F.SUPPORT)?s.createElement(p.default,{onCancel:a.onContactUsCancel}):s.createElement(I.default,{onCancel:a.onContactUsCancel,onSend:a.onContactUsSend}))},a.onLicenses=function(){h.default.openModal(s.createElement(k.default,{onOk:a.onLicensesOk}))},a.onContactUsCancel=function(){a.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.PROBLEM_DESCRIPTION)},a.onContactUsSend=function(e){a.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.EMAIL_SEND,e)},a.onLicensesOk=function(){},a.onKeyboardShortcuts=function(){h.default.openModal(s.createElement(S.default,null))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.openTime=performance.now(),f.default.loadAsset(P,f.LOAD_PRIORITY.HELP_ANIMATED_DOODLE)}},{key:"componentWillUnmount",value:function(){this.actionsTaken||this.logSessionEvent(M.default.CONTACT_US_EXIT_STATE.CANCELLED)}},{key:"logSessionEvent",value:function(e,t){var a=new M.default.ContactUsSession({contactUsExitState:e,contactUsT:Math.ceil(performance.now()-this.openTime)});t&&(a.contactUsAutomaticEmail=!0,a.contactUsProblemDescription=t.subject,a.contactUsScreenshotC=t.numScreenshots),a.commit(),this.actionsTaken=!0}},{key:"render",value:function(){var e;return C.default.supportsFeature(C.default.F.LICENSES_PAGE)&&(e=s.createElement(b.default,{a8nText:"li-licenses",onClick:this.onLicenses},_.default.t(760))),s.createElement(g.default,null,s.createElement(v.default,{a8n:"drawer-title-help",title:_.default.t(724),onBack:this.props.onClose,type:v.DRAWER_HEADER_TYPE.LARGE}),s.createElement(m.default,null,s.createElement("div",{className:y.default.animation}),s.createElement(L.default,{className:y.default.versionInfo}),s.createElement(b.default,{a8nText:"li-faq",onClick:this.onFAQ},_.default.t(1657)),void 0,s.createElement(b.default,{a8nText:"li-contact-us",onClick:this.onContactUs},_.default.t(1199)),e,s.createElement(b.default,{a8nText:"li-tos",onClick:this.onTOS},_.default.t(1271)),void 0,void 0))}}]),t}(s.Component);t.default=w},djgcaefhci:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("hgigjbgie")),h=i(a("hhcjfgifh")),p=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),b=i(a("gfebgebbi")),v=i(a("bjjaehbf")),j=i(a("bdjjabfecc")),E=i(a("dgjfidhijd")),C=i(a("cbdjcijgja")),y=i(a("dhefcajhhb")),S=i(a("dhccahhefj")),_=i(a("deffjjfcba")),k=i(a("dgdcjccfdi")),M=i(a("dbihaeaggd")),I=i(a("didfdhbecg")),T=i(a("bjieiiccce")),L=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={isBusy:!1,inviteComment:j.default.t(686)},a.setRefParticipantList=function(e){a.refParticipantList=e},a.onClose=function(){(0,a.props.onClose)()},a.getGroupThumbBase64=function(){var e=a.props.gid,t=y.default.get(e);return new Promise((function(e){t&&t.img?T.default.get(t.img,T.default.RESP_TYPE.BLOB).then((function(t){if(200===t.status){var a=new FileReader;a.onloadend=function(){var t=a.result;if(null!=t){var n=t.toString().split(",")[1];e(n)}else e(void 0)},a.readAsDataURL(t.response)}else e(void 0)})).catch((function(){return e(void 0)})):e(void 0)}))},a.onSend=function(){var e=a.props.onSend,t=a.state.inviteComment;a.getGroupThumbBase64().then((function(a){e(t,a)}))},a.onInviteCommentChange=function(e){a.setState({inviteComment:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=s.createElement(_.default,{a8nText:"group-participants-btn",large:!0,onClick:this.onSend},s.createElement(k.default,{name:"send",directional:!0})),t=s.createElement(h.default,{id:this.props.gid}),a=s.createElement(b.default,{text:this.props.subject});return s.createElement(E.default,{type:"invite"},s.createElement(p.default,{theme:"invite"},s.createElement(m.default,{type:m.DRAWER_HEADER_TYPE.POPUP,title:j.default.t(695),onCancel:this.onClose}),s.createElement(g.default,null,s.createElement("div",{className:v.default.search},s.createElement("div",{"data-list-scroll-container":!0},s.createElement(C.default,{ref:this.setRefParticipantList,theme:"list-names",contacts:this.props.participants.map((function(e){return e.contact}))}))),s.createElement("div",{className:v.default.commentInput},s.createElement(M.default,{a8n:"groups-v4-invite-add-comment-input",ref:this.setRefEmojiInput,value:this.state.inviteComment,showRemaining:!0,maxLength:f.default.MAX_CAPTION_LENGTH,onChange:this.onInviteCommentChange,theme:"v4-invite-caption",supportsEmoji:!0})),s.createElement(I.default,{transitionName:"btn",className:v.default.onSendInvite},e),s.createElement("div",{className:v.default.groupInfo},s.createElement(u.default,{idle:!0,image:t,primary:a,secondary:j.default.t(691),theme:"group_v4_invite"})))))}}]),t}(s.Component),P=(0,S.default)(L);t.default=P},djifeiaaea:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("bhabhhjdch")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),d=a("cabeijgaif");function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var c=a("dhigcdiaid"),s={};s[d.ExtendedTextMessageFontType.SERIF]={google:{families:["Roboto"]}},s[d.ExtendedTextMessageFontType.SANS_SERIF]={google:{families:["Droid Serif"]}},s[d.ExtendedTextMessageFontType.NORICAN_REGULAR]={google:{families:["Norican"]}},s[d.ExtendedTextMessageFontType.BRYNDAN_WRITE]={custom:{families:["Bryndan-Write"]}},s[d.ExtendedTextMessageFontType.OSWALD_HEAVY]={google:{families:["Oswald:bold"]}};var u={};u[d.ExtendedTextMessageFontType.BRYNDAN_WRITE]='@font-face {font-family:"Bryndan-Write"; src:url("'.concat(c,'") format("truetype");}');var f=new(function(){function e(){(0,r.default)(this,e),this.loadedFonts={},this.loadingPromise={}}return(0,o.default)(e,[{key:"load",value:function(e){var t=this;if(this.loadedFonts[e])return Promise.resolve();if(this.loadingPromise[e])return this.loadingPromise[e];var a=s[e],n=u[e],r=(n?new Promise((function(e,t){var a=document.createElement("style");a.appendChild(document.createTextNode(n)),a.onload=e,a.onerror=t,document.head&&document.head.appendChild(a)})):Promise.resolve()).then((function(){return new Promise((function(n,r){var o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,{active:function(){t.loadedFonts[e]=!0,n()},inactive:function(){t.loadingPromise[e]=void 0,r("Failed to load font: "+e)}});WebFont.load(o)}))}));return this.loadingPromise[e]=r,r}},{key:"loadAllFonts",value:function(){var e=this;return Promise.all(Array.from(d.ExtendedTextMessageFontType.members()).map((function(t){return e.load(t)})))}}]),e}());t.default=f},djihccehdc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("defdgchjjh")),f=i(a("bdeebiagii")),h=a("cjahggceac"),p=a("difhgjjfcb"),g=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).sendMedia=function(e){var t=e.getImg,n=e.caption,i=e.mentionedJidList,r=a.props.chat,o=r.composeQuotedMsg;r.composeQuotedMsg=null;var d=r.getComposeContents().ctwaContext||void 0;(0,h.prepRawMedia)(t,{}).sendToChat(r,{caption:n,mentionedJidList:i,quotedMsg:o,ctwaContext:d}),a.props.onCaptureSent(),a.end()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.push(s.createElement(u.default,{onBack:function(){e.end()},chat:this.props.chat,caption:!0,layoutType:p.FIT_TYPE.CONTAIN,onSend:this.sendMedia,stream:this.props.stream}))}}]),t}(f.default);t.default=g},eaaffccdb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.setupStatusV3Controller=function(e,t){if(e){if(e.type===c.default.TYPE.IMAGE){var a=4500;return(0,d.default)(t.caption)||(a+=2e3*Math.min(t.caption.length/150,1)),new h(a)}return e.type===c.default.TYPE.VIDEO?t.isGif?new p:new s.default:new h(3e3)}if(t.type===l.default.MSG_TYPE.CHAT){var n=2e3+60*Math.min(t.body.length,1e3);return new h(n)}return new h(3e3)},t.StatusV3GifController=t.StatusV3CountdownController=void 0;var i=n(a("dfadhaifh")),r=n(a("eaidjcib")),o=n(a("dgcdacjddi")),d=n(a("bebajedcaf")),l=n(a("hgigjbgie")),c=n(a("dcjigehfeb")),s=n(a("dhibhgiihj"));function u(){var e=(0,i.default)(["Timer stop called on stopped timer"]);return u=function(){return e},e}function f(){var e=(0,i.default)(["Duplicate timer start"]);return f=function(){return e},e}var h=function(){function e(t){var a=this;(0,r.default)(this,e),this.addListeners=function(e,t,n){a._onStart=e,a._onPause=t,a._onEnded=n},this.removeListeners=function(){a._onStart=void 0,a._onPause=void 0,a._onEnded=void 0},this.play=function(){if(a._timer)__LOG__(1)(f());else{a._timer=setTimeout(a._onTimeup,a._timeout),a._start=(new Date).getTime();var e=a._onStart;e&&e(a._timeout,a._duration)}},this.stop=function(){if(a._timer){clearTimeout(a._timer),a._timer=null;var e=(new Date).getTime();a._timeout-=e-a._start;var t=a._onPause;t&&t()}else __LOG__(1)(u())},this.resume=function(){a.play()},this.pause=function(){a.stop()},this._onTimeup=function(){var e=a._onEnded;e&&e()},this._duration=t,this._timeout=this._duration,this._start=0}return(0,o.default)(e,[{key:"duration",get:function(){return this._duration}}]),e}();t.StatusV3CountdownController=h;var p=function(){function e(){var t=this;(0,r.default)(this,e),this.removeListeners=function(){t._onStart=void 0,t._onPause=void 0,t._onEnded=void 0,t._videoController.removeListeners(),t._countdownController.removeListeners()},this.setVideo=function(e,a){t._video!==e&&(t._video=e,null!=a&&(t._duration=a),t._videoController.setVideo(e))},this._onVideoStartHandler=function(){var e=t._video;if(null!=e){var a=t._onStart,n=e.duration||t._duration,i=Math.max(3*n*1e3,6e3);a&&a(i-1e3*n*t._playCounter-1e3*e.currentTime,i)}},this._onVideoPauseHandler=function(){var e=t._onPause;e&&e()},this._onVideoEndedHandler=function(){var e=t._video;if(null!=e){t._playCounter++;var a=t._onEnded;3===t._playCounter&&(t._videoEnded=!0,t._timerEnded&&a&&a()),e.currentTime=0,t._videoEnded&&t._timerEnded||setTimeout((function(){t._videoController.play()}),0)}},this._onTimerEndedHandler=function(){var e=t._onEnded;t._timerEnded=!0,e&&t._videoEnded&&e()},this.play=function(){t._videoController.play(),t._countdownController.play()},this.stop=function(){t._videoController.stop(),t._countdownController.stop()},this.resume=function(){t._videoController.resume(),t._countdownController.resume()},this.pause=function(){t._videoController.pause(),t._countdownController.pause()},this._playCounter=0,this._timerEnded=!1,this._videoEnded=!1,this._videoController=new s.default,this._countdownController=new h(6e3),this._videoController.addListeners(this._onVideoStartHandler,this._onVideoPauseHandler,this._onVideoEndedHandler),this._countdownController.addListeners(void 0,void 0,this._onTimerEndedHandler)}return(0,o.default)(e,[{key:"addListeners",value:function(e,t,a){this._onStart=e,this._onPause=t,this._onEnded=a}},{key:"duration",get:function(){return Math.max(3*(this._video&&this._video.duration||this._duration)*1e3,6e3)}}]),e}();t.StatusV3GifController=p},eabhbddaei:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ccbgfecegc")),f=i(a("bbfjdcedab")),h=i(a("dahagdijgh")),p=i(a("bjheffjbgd")),g=n(a("bjjhgjdbhd")),m=a("eajdbbfgfg"),b=i(a("bdjjabfecc")),v=i(a("bdehjcecig")),j=a("dcfieddiah"),E=i(a("ebddggeaib")),C=i(a("bdcchebfge")),y=i(a("bhgjeaceh")),S=i(a("dgaefbheia")),_=i(a("dceicchccd")),k=i(a("deffjjfcba")),M=i(a("dgdcjccfdi")),I=function(e){function t(){var e;return(0,r.default)(this,t),(e=(0,d.default)(this,(0,l.default)(t).call(this))).onMultiSelect=function(){var t=e.multiSelection.getSelected().length;e.setState({selectedCount:t})},e.shouldScrollIntoViewAndSelect=function(){return{shouldScrollIntoView:!0,shouldSelect:!1}},e.onDeleteLabel=function(t){u.default.closeModal(),e.multiSelection.unsetAll(),e.props.onDeleteLabel(t)},e.confirmDeleteSelectedLabels=function(){var t=e.multiSelection.getSelected();(0,j.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,t.length,C.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),u.default.openModal(s.createElement(f.default,{title:b.default.t(473,{_plural:t.length}),okText:b.default.t(1716),cancelText:b.default.t(1583),onCancel:function(){(0,j.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_NEGATIVE,1,C.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),u.default.closeModal()},onOK:function(){(0,j.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.CLICK_POSITIVE,1,C.default.LABEL_TARGETS.DELETE_LABEL_DIALOG),e.onDeleteLabel(t)}}))},e.onCancelSelection=function(){e.multiSelection.unsetAll(),e.setState({selectedCount:0})},e.multiSelection=new _.default([],(function(e){return e.id})),e.state={selectedCount:0},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,j.logLabelOperationEvent)(C.default.LABEL_OPERATIONS.VIEW,void 0,C.default.LABEL_TARGETS.LABELS_SCREEN)}},{key:"render",value:function(){var e=null;e=this.state.selectedCount>0?s.createElement(y.default,{selectedModels:this.multiSelection,onCancel:this.onCancelSelection,onDelete:this.confirmDeleteSelectedLabels,theme:"drawer-header"}):s.createElement(g.default,{title:b.default.t(757),onBack:this.props.onClose,type:g.DRAWER_HEADER_TYPE.LARGE});var t=(0,m.canEditLabel)()&&s.createElement("div",{className:v.default.addLabelBtContainer},s.createElement(k.default,{large:!0,onClick:this.props.openAddLabel},s.createElement(M.default,{name:"plus-large"})));return s.createElement(h.default,{theme:"settings"},e,s.createElement(p.default,null,s.createElement(S.default,{shouldScrollIntoViewAndSelect:this.shouldScrollIntoViewAndSelect,selectedLabels:this.multiSelection,renderContext:"label-list",onMultiSelect:this.onMultiSelect,onLabelClick:this.props.onLabelClick})),t)}}]),t}(s.PureComponent),T=(0,E.default)(I);t.default=T},eaeceibcgf:function(e,t){e.exports={container:"_2WRXM",wallpaperColorCanvas:"_1t_q7",wallpaperColorEmpty:"_1hFiW",canvasActive:"_3BX0_",canvasHover:"y9QW2"}},eafahcacji:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).setRefCanvas=function(e){a.refCanvas=e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.createElement("canvas",{className:this.props.className,ref:this.setRefCanvas})}}]),t}(s.Component);t.default=u},eafijicig:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("cfadcbbiie")),p=i(a("hgigjbgie")),g=a("bgihjbde"),m=n(a("cajijabhgb")),b=i(a("bhbdiadfhj")),v=i(a("bdjjabfecc")),j=i(a("ebddggeaib")),E=i(a("eigdejjai")),C=i(a("dhccahhefj")),y=i(a("ecdebjcgfa")),S=i(a("hjigficga")),_=a("dieaaaeidb"),k=i(a("dgdcjccfdi"));function M(){var e=(0,r.default)(["error while loading all out status: ",""]);return M=function(){return e},e}var I=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t,a=u.createElement(L,{statusV3:this.props.status,onOpenStatus:this.props.onOpenStatus});return b.default.supportsFeature(b.default.F.STATUS_V3_UI_SENDING)&&(e=u.createElement("div",{className:S.default.updateWrapper},u.createElement("div",{className:S.default.updateTitle},v.default.t(1237)),u.createElement("div",{className:S.default.uploadButtons},u.createElement("div",{className:S.default.buttonContainer},u.createElement(k.default,{name:"status-v3-upload",className:S.default.buttonIcon}),v.default.t(1238)),u.createElement("div",{className:S.default.buttonContainer},u.createElement(k.default,{name:"status-v3-camera",className:S.default.buttonIcon}),v.default.t(1224)))),t=u.createElement("hr",null)),u.createElement("div",{className:S.default.outStatusPanel},e,t,a)}}]),t}(u.Component),T=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).rerender=function(){a.forceUpdate()},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.statusV3,a=e.listeners;t&&(a.add(t,"change:msgsChanged",this.rerender),t.loadMore(t.totalCount).catch((function(e){__LOG__(3)(M(),String(e))})))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.listeners,n=t.statusV3,i=e.statusV3;i!==n&&(i&&a.remove(i,"change:msgsChanged",this.rerender),n&&a.add(n,"change:msgsChanged",this.rerender))}},{key:"render",value:function(){var e=this,t=this.props.statusV3;if(t&&t.msgs.length>0){var a=t.msgs.map((function(a){return u.createElement(w,{key:a.id.toString(),msg:a,status:t,onOpenStatus:e.props.onOpenStatus})}));return u.createElement("div",{className:S.default.viewWrapper},u.createElement("div",{className:S.default.viewTitle},v.default.t(1239)),u.createElement("div",{className:S.default.viewUpdates},a))}return u.createElement("div",{className:S.default.viewWrapper},u.createElement("div",{className:S.default.placeholderIcon},u.createElement(k.default,{name:"status-v3-placeholder"})),u.createElement("div",{"data-a8n":f.default.key("status-placeholder"),className:S.default.placeholderText},v.default.t(1233)))}}]),t}(u.Component),L=(0,j.default)(T),P=function(e){function t(){var e;return(0,o.default)(this,t),(e=(0,l.default)(this,(0,c.default)(t).apply(this,arguments))).state={},e}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){var e=this;E.default.find(this.props.msg.id).checkpoint(this.props.rejectOnUnmount()).then((function(t){e.props.listeners.add(t.read,"add remove",(function(){e.setState({seenCount:t.read.length})})),e.setState({seenCount:t.read.length})})).catchType(m.Unmount,(function(){})).catchType(g.EphemeralDrop,(function(){}))}},{key:"render",value:function(){var e,t,a,n=this,i=this.props,r=i.msg,o=i.status,d=r.mediaData;if(d&&d.preview)e={backgroundImage:"url(".concat(d.preview.url(),")")};else if(r.type===p.default.MSG_TYPE.CHAT){e={backgroundColor:r.statusV3TextBg}}return r.type===p.default.MSG_TYPE.CHAT&&(t=u.createElement(_.StatusV3Text,{msg:r,theme:"status-panel"})),a=void 0!==this.state.seenCount?u.createElement(u.Fragment,null,u.createElement(k.default,{name:"status-v3-seen",className:S.default.iconSeen}),u.createElement("div",{className:S.default.seenCount},this.state.seenCount)):u.createElement(y.default,{stroke:3,size:12}),u.createElement("div",{className:S.default.outDetail},u.createElement("div",{className:S.default.statusImage,style:e,onClickCapture:function(e){n.props.onOpenStatus(o,r),e.preventDefault(),e.stopPropagation()}},t),u.createElement("div",{className:S.default.seen},a),u.createElement("div",{className:S.default.timestamp},h.default.relativeDateAndTimeStr(r.t)))}}]),t}(u.Component),w=(0,C.default)((0,j.default)(P)),N=I;t.default=N},eahdicfdjf:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("bdjjabfecc")),f=i(a("dhjihjcdah")),h=i(a("dcdbbhicce")),p=i(a("dgdcjccfdi")),g=i(a("dhhjhedjij")),m=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.msg,t=e.numTimesForwarded,a=e.isFrequentlyForwarded;if(t<=0||a)return null;var n=s.createElement(p.default,{name:"forwarded",display:"inline",className:f.default.icon}),i=u.default.t(600,{count:t,_plural:t});return s.createElement("div",{className:f.default.title},n,s.createElement(g.default,{theme:"title",className:f.default.text},i))}}]),t}(s.PureComponent);m.CONCERNS={msg:["numTimesForwarded","isFrequentlyForwarded"]};var b=(0,h.default)(m,m.CONCERNS);t.default=b},eahjciebii:function(e,t){e.exports={mediaViewerImg:"_3svEr",cropOverlay:"_33eED"}},ebhaddigcf:function(e,t){e.exports={photoPickerWrapper:"_2PkS4",scale:"QDaP-",nameWrapper:"_2fM4q","well-animation":"_2gB43",wellAnimation:"_2gB43"}},ebhiccidcj:function(e,t){e.exports={animation:"_2mKzQ","play-ltr":"BX5_9",playLtr:"BX5_9","play-rtl":"_8Mz0e",playRtl:"_8Mz0e",versionInfo:"_1ILLr"}},ebjcghgjdh:function(e,t){e.exports={overlay:"_2H1bg",icon:"_1Zi9g",text:"_2r5kE"}},ecbbjjjhh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("gfebgebbi")),h=a("eajdbbfgfg"),p=i(a("bdjjabfecc")),g=i(a("bijffg")),m=n(a("eeebhdeed")),b=i(a("ebddggeaib")),v=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).updateLabels=function(){a.forceUpdate()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(g.default,"label_updated_".concat(this.props.label),this.updateLabels)}},{key:"render",value:function(){var e=this.props.label,t=g.default.get(e);if(!t||!t.name)return null;if("label-list"===this.props.theme){var a=s.createElement(m.default,{renderAsCircle:"label-list"===this.props.theme,theme:this.props.theme,labels:[e]}),n=s.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return s.createElement(u.default,{theme:(0,h.canEditLabel)()?"chat-checkbox":void 0,image:a,primary:n,secondary:p.default.t(754,{count:parseInt(t.count||0,10),_plural:parseInt(t.count||0,10)})})}var i=(0,m.renderLabelSvg)(t.hexColor),r=s.createElement(f.default,{text:t.name,ellipsify:!0,titlify:!0});return s.createElement(u.default,{theme:"label-selection",image:i,primary:r})}}]),t}(s.PureComponent),j=(0,b.default)(v);t.default=j},ecbiejfbbg:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProductDetailsForDeepLink=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("ejegihaeh")),f=i(a("dahagdijgh")),h=i(a("bjheffjbgd")),p=n(a("bjjhgjdbhd")),g=a("dhjcdeigfi"),m=i(a("hhibigida")),b=i(a("bahheegiac")),v=i(a("bdjjabfecc")),j=i(a("cahfddcdga")),E=i(a("bhfadhddje")),C=i(a("dhccahhefj")),y=a("dcbdjheea"),S=function(e){function t(e){var a;(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).state={product:null,productFetchState:"NONE"};var n=a.props.productInfo,i=n.productId,o=n.businessOwnerJid,c=(0,b.default)({productId:i,businessOwnerJid:o});return a.state=c?{product:c,productFetchState:"NONE"}:{product:c,productFetchState:"PENDING"},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.state.product||this._fetchProduct()}},{key:"_fetchProduct",value:function(){var e=this,t=this.props.productInfo,a=t.productId,n=t.businessOwnerJid,i=(0,y.createWid)(n);u.default.findProduct({catalogWid:i,productId:a}).checkpoint(this.props.rejectOnUnmount()).then((function(){var t=u.default.get(i),n=(0,j.default)(t,"catalog").productCollection.get(a);e.setState({product:n,productFetchState:"SUCCESS"})})).catch((function(t){(0,g.parseErrorState)(t,(function(t){return e.setState({productFetchState:t})}))}))}},{key:"render",value:function(){return this.state.product?s.createElement(E.default,{product:this.state.product,onEnd:this.props.onEnd,onBack:this.props.onBack,onProductDetail:this.props.onProductDetail,onProductCatalog:this.props.onProductCatalog,refreshCarousel:!0,sessionId:this.props.sessionId,onProductLinkClick:this.props.onProductLinkClick}):s.createElement(f.default,{onDrop:this.props.onBack,key:"product-details-drawer"},s.createElement(p.default,{a8n:"drawer-title-profile",title:v.default.t(1070),onBack:this.props.onBack,type:p.DRAWER_HEADER_TYPE.SMALL}),s.createElement(h.default,null,s.createElement(m.default,{fetchState:this.state.productFetchState})))}}]),t}(s.PureComponent);t.ProductDetailsForDeepLink=S;var _=(0,C.default)(S);t.default=_},eccdcgiace:function(e,t){e.exports={imageGallery:"_2HQL6",imageGalleryList:"_2NvS_",imageGalleryItem:"a0ssR",imageGalleryItemSpacer:"_1Hl0y",imageGalleryItemImage:"_3-2X6",imageGalleryItemOverlay:"_33MY_",selected:"_1B_Ro",imageGalleryFooter:"_3pZ4j",focusAnimation:"_3IxUg",focusAnimationKeyframes:"_3ZhNH"}},ecgbjdgfdd:function(e,t){e.exports={inputContainer:"_3X9KY",label:"_1mQLv",input:"_3UjcX"}},ecgechdigh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("dfadhaifh")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("iidhbgeed")),f=n(a("ddhijeejag")),h=i(a("dababjcdei")),p=i(a("ecfgahegjj")),g=i(a("ccbgfecegc")),m=i(a("bbfjdcedab")),b=i(a("hgigjbgie")),v=i(a("dhigahgdjb")),j=i(a("dcjhajfghf")),E=i(a("dgebcfedgb")),C=i(a("bjbifafigc")),y=a("cgffhfegce"),S=i(a("hjieaedbd")),_=i(a("bhbdiadfhj")),k=i(a("jheedhagg")),M=i(a("dcfihjeedb")),I=i(a("bhbcdbjdeg")),T=i(a("bdjjabfecc")),L=n(a("baffhfhhda")),P=n(a("dgjfidhijd")),w=n(a("difhgjjfcb")),N=i(a("djgffgcaie")),O=i(a("cfcfdeifjb")),A=i(a("dcbcigbda")),R=i(a("dgdcjccfdi")),D=i(a("ddggdgafij")),x=i(a("cgjdibiahi")),U=i(a("dfciadajdf")),F=i(a("didfdhbecg"));function B(){var e=(0,r.default)(["PhotoPicker:onImageReceived failed to load image: ",""]);return B=function(){return e},e}var V=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={img:a.props.startImage,hover:!1,imageSize:null},a.setRefImageContainer=function(e){a.refImageContainer=e},a.setRefImageInput=function(e){a.refImageInput=e},a.onUpload=function(){var e=a.refImageInput;if(e)return e.click(),!0},a.removeImage=function(){a.props.onImageSet(),g.default.closeModal()},a.onRemove=function(){var e=a.props.type===O.default.GROUP?T.default.t(1101):T.default.t(1105);g.default.openModal(f.createElement(m.default,{onOK:a.removeImage,okText:T.default.t(1100),onCancel:function(){return g.default.closeModal()},cancelText:T.default.t(1436)},e))},a.onView=function(){var e=a.refImageContainer,t=a.props,n=t.id,i=t.attachToChat;if(e&&n){var r=v.default.assertGet(n),o={transition:"profile-viewer"};i&&(o.uim=a.props.uim),g.default.openModalMedia(f.createElement(A.default,{contact:r,profilePicThumb:r.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(t){t(e)}}),o)}},a.onPaste=function(e){if(a.state.contextMenu){var t=new j.default(e.clipboardData),n=(0,u.default)(t.getFiles(),(function(e){return"image"===(0,y.typeFromMimetype)(e.type)}));if(n.length){e.preventDefault(),e.stopPropagation(),a.closeContextMenu();var i=n[0];a.onImagePick(i)}}},a.onImageSelected=function(e){a.closeContextMenu();var t=e.target.files[0];if(!t)return!1;a.onImagePick(t),e.target.value=""},a.onImageReceived=function(e,t){e?L.loadImage(e).then((function(){a.setState({img:e}),a.props.onImageSet(e,t)})).catch((function(e){__LOG__(3)(B(),String(e));var t=a.props.type===O.default.GROUP?T.default.t(89):T.default.t(159);g.default.openModal(f.createElement(m.default,{onOK:function(){return g.default.closeModal()}},t))})):a.setState({img:null,imageSize:null})},a.onSearch=function(){g.default.openModal(f.createElement(P.default,{type:P.BoxModalType},f.createElement(M.default,{onFinished:a.onImageReceived})))},a.onImagePick=function(e){var t=URL.createObjectURL(e);L.loadImage(t).then((function(t){t&&(t.width<b.default.MIN_PIC_SIDE||t.height<b.default.MIN_PIC_SIDE)?g.default.openModal(f.createElement(m.default,{onOK:function(){return g.default.closeModal()}},T.default.t(1092,{size:b.default.MIN_PIC_SIDE,_plural:b.default.MIN_PIC_SIDE}))):g.default.openModal(f.createElement(P.default,{type:P.BoxModalType},f.createElement(C.default,{img:e,onFinished:a.onImageReceived,onRetake:a.onUpload})))})).catch((function(){var e=a.props.type===O.default.GROUP?T.default.t(89):T.default.t(159);g.default.openModal(f.createElement(m.default,{onOK:function(){return g.default.closeModal()}},e))})).finally((function(){URL.revokeObjectURL(t)}))},a.onImageClick=function(e){if(a.props.readOnly)a.state.img&&a.onView();else{e.stopPropagation(),e.preventDefault();var t=[];a.props.id&&a.state.img&&t.push(f.createElement(E.default,{a8n:"mi-view-photo",key:"view",action:a.onView},T.default.t(1348))),S.default&&t.push(f.createElement(D.default,{key:"take",onImageTake:a.onImageReceived})),t.push(f.createElement(E.default,{a8n:"mi-upload-photo",key:"upload",action:a.onUpload},T.default.t(1313))),_.default.supportsFeature(_.default.F.BING_IMAGE_SEARCH)&&a.props.type===O.default.GROUP&&t.push(f.createElement(E.default,{a8n:"mi-search-photo",key:"search",action:a.onSearch},T.default.t(1650))),a.state.img&&t.push(f.createElement(E.default,{a8n:"mi-remove-photo",key:"remove",action:a.onRemove},T.default.t(1104))),e.persist(),a.setState({contextMenu:{menu:t,event:e}})}},a.closeContextMenu=function(){a.setState({contextMenu:null})},a.onMouseOver=function(){a.state.hover||a.setState({hover:!0})},a.onMouseEnter=function(){a.state.hover||a.setState({hover:!0})},a.onMouseLeave=function(){a.state.hover&&a.setState({hover:!1})},a.onLoad=function(e){var t=e.target.clientWidth,n=e.target.clientHeight;a.setState({imageSize:{width:t,height:n}})},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e,t;this.state.img&&(e=f.createElement(w.default,{type:w.FIT_TYPE.COVER,size:this.state.imageSize},f.createElement(I.default,{src:this.state.img,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:this.onLoad}))),(this.props.pending||this.state.img&&!this.state.imageSize)&&(t=f.createElement(p.default,null));var a=null;if(!this.props.pending&&!this.props.readOnly&&(!this.state.img||this.state.imageSize)&&(!this.state.img||this.state.contextMenu||this.state.hover)){var n="";switch(this.props.type){case O.default.GROUP:n=this.state.img?T.default.t(372):T.default.t(187);break;case O.default.PROFILE:n=this.state.img?T.default.t(377):T.default.t(193)}a=f.createElement(h.default,{icon:f.createElement(R.default,{name:"camera"}),text:n})}var i,r,o=this.props.pending||!this.state.imageSize&&this.state.img?function(){}:this.onImageClick;if(this.state.contextMenu&&(i=f.createElement(x.default,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,requestDismiss:this.closeContextMenu},f.createElement(U.default,{contextMenu:this.state.contextMenu}))),this.props.pending||!this.state.img||this.state.img&&!this.state.imageSize){var d=this.props.type===O.default.PROFILE?"default-user":"default-group";r=f.createElement("div",{className:N.default.defaultIcon},f.createElement(R.default,{name:d}))}return f.createElement("div",{className:N.default.container},f.createElement("div",{className:N.default.body,onClick:o,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPaste:this.onPaste,ref:this.setRefImageContainer,dir:"ltr"},f.createElement("div",{className:N.default.imageContainer},e,r),f.createElement(F.default,{transitionName:"fade"},t,a)),f.createElement("input",{ref:this.setRefImageInput,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:this.onImageSelected}),i)}}],[{key:"getDerivedStateFromProps",value:function(e){return e.startImage?{img:e.startImage}:{img:e.startImage,imageSize:null}}}]),t}(f.Component),G=(0,k.default)(V);t.default=G},egjijhafj:function(e,t){e.exports={disabled:"_27yrw",title:"_2Yi4e"}},fabfijbdh:function(e,t){e.exports={dimmed:"_31FKq"}},fcdheigeg:function(e,t){e.exports={thumb:"_38JkY",active:"_1S5c-",body:"TZVqr",btnDelete:"_2FYaw",bodyDoc:"LYKOB"}},ffecbdcib:function(e,t){e.exports={addItemPlaceholder:"sXfuK",placeholderIcon:"-cIln",placeholderContainer:"_3qBSu",divider:"_2YCgv"}},fgghedjgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cefccdiabc")),f=i(a("ccbgfecegc")),h=i(a("chhdaecjcj")),p=n(a("hhcjfgifh")),g=i(a("dahagdijgh")),m=i(a("bjheffjbgd")),b=i(a("cciafahdib")),v=n(a("bjjhgjdbhd")),j=i(a("gfebgebbi")),E=a("cdhbdacigj"),C=a("bgihjbde"),y=n(a("cajijabhgb")),S=a("bejbgaghc"),_=i(a("bbfcdhjiba")),k=i(a("bffajdjibj")),M=i(a("bdjjabfecc")),I=i(a("dhccahhefj")),T=a("cbhhehcjbb"),L=i(a("caifaihfad")),P=i(a("ddjgdbbihc")),w=i(a("dcdbbhicce")),N=i(a("dgdcjccfdi")),O=n(a("bjhgigfbec")),A=0,R=1,D=2,x=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).state={state:A},a.getErrorMessageFromStatusCode=function(e){switch(e){case 401:return M.default.t(658);case 403:return M.default.t(659);case 404:return M.default.t(660);default:return M.default.t(661)}},a.handleLoadingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),f.default.openToast(s.createElement(O.default,{msg:t,id:(0,O.genId)()}))},a.handleRevokeGroupInvite=function(){f.default.openModal(s.createElement(k.default,{pushTransition:"none",popTransition:"none",chat:a.props.chat,onConfirm:a.handleConfirmRevokeGroupInvite}),{transition:"modal-flow"})},a.handleRevokingErrorStatusCode=function(e){var t=a.getErrorMessageFromStatusCode(e);a.props.onBack(),f.default.openToast(s.createElement(O.default,{msg:t,id:(0,O.genId)()}))},a.handleConfirmRevokeGroupInvite=function(){a.setState({state:R});var e=(0,S.revokeGroupInvite)(a.props.groupMetadata);Promise.delay(500).then((function(){return e})).checkpoint(a.props.rejectOnUnmount()).then((function(){f.default.openToast(s.createElement(O.default,{msg:M.default.t(666),id:(0,O.genId)()})),a.setState({state:D})})).catchType(C.ServerStatusCodeError,(function(e){a.handleRevokingErrorStatusCode(e.statusCode)})).catchType(y.Unmount,(function(){}))},a.handleSendGroupInviteLink=function(){f.default.openModal(s.createElement(L.default,{chat:a.props.chat}),{transition:"modal-flow"})},a.handleClickGroupInviteLinkCapture=function(e){e.preventDefault(),e.stopPropagation()},a.renderDrawerBody=function(){var e,t=a.props.groupMetadata;if(a.state.state===A)e=s.createElement(E.LoadingWithText,{text:M.default.t(649)});else if(a.state.state===R)e=s.createElement(E.LoadingWithText,{text:M.default.t(665,{groupName:a.props.chat.contact.name})});else{var n=t.groupInviteLink,i=null;document.queryCommandSupported("copy")&&(i=s.createElement(h.default,{elementId:"group-invite-link-anchor"}));var r=s.createElement(p.default,{id:a.props.chat.id,size:82,quality:p.DETAIL_IMAGE_QUALITY.HIGH}),o=s.createElement("span",{className:_.default.linkContainer},s.createElement(T.SelectableLink,{id:"group-invite-link-anchor",href:n,selectable:!0},n));e=s.createElement(m.default,null,s.createElement(u.default,{image:r,primary:s.createElement(j.default,{text:a.props.chat.contact.name,direction:"auto"}),theme:"identity",secondary:o}),s.createElement("div",{className:_.default.descContainer},M.default.t(656)),s.createElement(P.default,{onClick:a.handleSendGroupInviteLink}),i,s.createElement(b.default,{a8nText:"li-revoke-link",icon:s.createElement(N.default,{name:"revoke",className:_.default.icon}),onClick:a.handleRevokeGroupInvite},M.default.t(653)))}return e},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,S.queryGroupInviteCode)(this.props.groupMetadata).checkpoint(this.props.rejectOnUnmount()).then((function(){e.setState({state:D})})).catchType(C.ServerStatusCodeError,(function(t){e.handleLoadingErrorStatusCode(t.statusCode)})).catchType(y.Unmount,(function(){}))}},{key:"render",value:function(){return s.createElement(g.default,null,s.createElement(v.default,{title:M.default.t(655),onBack:this.props.onBack,type:v.DRAWER_HEADER_TYPE.SMALL}),this.renderDrawerBody())}}]),t}(s.Component);x.CONCERNS={groupMetadata:["inviteCode","groupInviteLink"]};var U=(0,I.default)((0,w.default)(x,x.CONCERNS));t.default=U},fhajfeecb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("hbddjfeei")),o=i(a("eaidjcib")),d=i(a("dgcdacjddi")),l=i(a("ffceefejc")),c=i(a("cjedcdbdii")),s=i(a("dbjagcfebh")),u=i(a("bebajedcaf")),f=i(a("ceffhbhahb")),h=a("biciedabid"),p=n(a("ddhijeejag")),g=n(a("dfhjacfbjg")),m=i(a("ccbgfecegc")),b=i(a("bbfjdcedab")),v=i(a("bjigbaghc")),j=i(a("hgigjbgie")),E=a("cfffidafid"),C=a("ddbdgibbbi"),y=i(a("dhfbfehaef")),S=i(a("bdjjabfecc")),_=n(a("dbcedfihd")),k=i(a("bbjcfdhfhb")),M=i(a("dgdcjccfdi")),I=i(a("dbihaeaggd")),T=n(a("bjhgigfbec")),L=j.default.SEND_LOGS_MAX_EMAIL_LENGTH,P=j.default.SEND_LOGS_MAX_SUBJECT_LENGTH,w=j.default.SEND_LOGS_MIN_DESC_LENGTH,N=j.default.SEND_LOGS_MAX_DESC_LENGTH,O=j.default.SEND_LOGS_MAX_SCREENSHOTS,A=j.default.SEND_LOGS_MAX_SCREENSHOT_SIZE;function R(){return v.default.isSMB?S.default.t(1202):S.default.t(1203)}var D=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=(0,l.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(i)))).state={email:"",emailError:void 0,confirmEmail:"",confirmEmailError:void 0,subject:R(),subjectError:void 0,description:"",descriptionError:void 0,screenshots:[],isDragging:!1},a.setAttachButton=function(e){a.attachButton=e},a.setEmailAddr=function(e){a.emailAddrInput=e},a.onSend=function(){var e={},t=a.state,n=t.email,i=t.confirmEmail,r=t.subject,o=t.description,d=t.screenshots,l=n.trim(),c=i.trim();if(a.validateEmail(l)||(e.emailError=S.default.t(1189)),a.validateConfirmEmail(c)||(e.confirmEmailError=S.default.t(1190)),a.validateDescription(o)||(e.descriptionError=S.default.t(1201)),a.validateSubject(r)||(e.subjectError=S.default.t(1198)),(0,u.default)(e)){a.setState({email:l,confirmEmail:c,emailError:void 0,confirmEmailError:void 0,descriptionError:void 0,subjectError:void 0}),d.map((function(e){e.url&&(URL.revokeObjectURL(e.url),delete e.url)}));var s=(0,C.getMaybeMeUser)(),f=s?(0,h.formatPhone)(s.user):null,b=r.trim()||S.default.t(1186);g.uploadUserReport(f,l,b,o,d),a.props.onSend&&a.props.onSend({subject:b,description:o,numScreenshots:d.length}),m.default.closeModal(),m.default.openToast(p.createElement(T.default,{msg:S.default.t(1197),id:(0,T.genId)()}))}else e.email=l,e.confirmEmail=c,a.setState(e)},a.onCancel=function(){a.props.onCancel&&a.props.onCancel(),m.default.closeModal()},a.onSubjectChange=function(e){var t={subject:e,subjectError:a.state.subjectError};a.state.subjectError&&a.validateSubject(t.subject)&&(t.subjectError=void 0),a.setState(t)},a.onSubjectBlur=function(){var e;a.validateSubject(a.state.subject)||(e=S.default.t(1198)),a.state.subjectError!==e&&a.setState({subjectError:e})},a.onDescriptionChange=function(e){var t={description:e,descriptionError:a.state.descriptionError};a.state.descriptionError&&a.validateDescription(t.description)&&(t.descriptionError=void 0),a.setState(t)},a.onDescriptionBlur=function(){var e;!a.state.description&&!a.state.descriptionError||a.validateDescription(a.state.description)||(e=S.default.t(1201)),a.state.descriptionError!==e&&a.setState({descriptionError:e})},a.onEmailChange=function(e){var t={email:e,emailError:a.state.emailError};a.state.emailError&&a.validateEmail(t.email)&&(t.emailError=void 0),a.setState(t)},a.onEmailBlur=function(){var e,t=a.state.email.trim(),n={};!a.state.email&&!a.state.emailError||a.validateEmail(t)||(e=S.default.t(1189)),a.state.emailError!==e&&(n.emailError=e),a.state.email!==t&&(n.email=t),(0,u.default)(n)||a.setState(n)},a.onConfirmEmailChange=function(e){var t={confirmEmail:e,confirmEmailError:a.state.confirmEmailError};a.state.confirmEmailError&&a.validateConfirmEmail(t.confirmEmail)&&(t.confirmEmailError=void 0),a.setState(t)},a.onConfirmEmailBlur=function(){var e,t=a.state.confirmEmail.trim(),n={};!a.state.confirmEmail&&!a.state.confirmEmailError||a.validateConfirmEmail(t)||(e=S.default.t(1190)),a.state.confirmEmailError!==e&&(n.confirmEmailError=e),a.state.confirmEmail!==t&&(n.confirmEmail=t),(0,u.default)(n)||a.setState(n)},a.validateEmail=function(e){return _.validateEmail(e)},a.validateConfirmEmail=function(e){return a.state.email===e},a.validateDescription=function(e){return e.length>w},a.validateSubject=function(){return!0},a.onFilePick=function(e){e.preventDefault(),e.stopPropagation(),a.reachMaxScreenshots()||(0,E.getFiles)(e,"image/*").then((function(e){a.attachButton&&(a.attachButton.value="");var t=e.filter((function(e){return e.size<=A}));t.length<e.length&&m.default.openToast(p.createElement(T.default,{msg:S.default.t(1192),id:(0,T.genId)()}));var n=a.state.screenshots.concat(t).slice(0,O);n.map((function(e){e.url||(e.url=URL.createObjectURL(e))})),a.setState({screenshots:n})}))},a.onDragChange=function(e){a.setState({isDragging:e})},a.handleAttachClick=function(){a.attachButton&&!a.reachMaxScreenshots()&&a.attachButton.click()},a.stopPropagation=function(e){e.stopPropagation()},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this.emailAddrInput&&this.emailAddrInput.restoreFocus()}},{key:"componentWillUnmount",value:function(){this.state.screenshots.map((function(e){var t=e.url;return t&&URL.revokeObjectURL(t)}))}},{key:"reachMaxScreenshots",value:function(){return this.state.screenshots.length>=O}},{key:"deleteScreenshot",value:function(e){var t=this.state.screenshots.slice(),a=t.splice(e,1),n=(0,r.default)(a,1)[0];n.url&&URL.revokeObjectURL(n.url),this.setState({screenshots:t})}},{key:"getScreenshotsList",value:function(){var e=this,t=this.state.screenshots.map((function(t,a){if(!t.url)return null;var n="url(".concat(t.url,")"),i="screenshot-".concat(a);return p.createElement("div",{key:i,className:k.default.screenshotsImg,style:{backgroundImage:n}},p.createElement("button",{className:k.default.btnDelete,onClick:function(){e.deleteScreenshot(a)}},p.createElement(M.default,{name:"x-alt"})))}));return t.length?p.createElement("div",{className:k.default.screenshotPreview},t):null}},{key:"getScreenshotAction",value:function(){if(this.reachMaxScreenshots()){var e=O;return p.createElement("div",{className:(0,f.default)(k.default.action,k.default.disabled)},S.default.t(1200,{count:e,_plural:e}))}return this.state.isDragging?p.createElement("div",{className:k.default.action},S.default.t(1195)):p.createElement("div",{className:k.default.action,onClick:this.handleAttachClick},S.default.t(1196))}},{key:"render",value:function(){var e={enter:this.stopPropagation},t=p.createElement("div",{className:k.default.screenshots},this.getScreenshotsList(),this.getScreenshotAction(),p.createElement("input",{accept:"image/*",type:"file",multiple:!0,onClick:this.stopPropagation,onChange:this.onFilePick,ref:this.setAttachButton,disabled:this.reachMaxScreenshots()}));return p.createElement(b.default,{title:S.default.t(1199),okText:S.default.t(1185),onOK:this.onSend,onCancel:this.onCancel,onDrop:this.onFilePick,onDragChange:this.onDragChange},p.createElement(y.default,{handlers:e},p.createElement(I.default,{ref:this.setEmailAddr,value:this.state.email,error:this.state.emailError,maxLength:L,onChange:this.onEmailChange,onBlur:this.onEmailBlur,placeholder:S.default.t(1187)}),p.createElement(I.default,{editable:!0,value:this.state.confirmEmail,error:this.state.confirmEmailError,maxLength:L,onChange:this.onConfirmEmailChange,onBlur:this.onConfirmEmailBlur,placeholder:S.default.t(1188)}),p.createElement(I.default,{value:this.state.subject,error:this.state.subjectError,maxLength:P,onChange:this.onSubjectChange,onBlur:this.onSubjectBlur,placeholder:S.default.t(1191)}),p.createElement(I.default,{value:this.state.description,error:this.state.descriptionError,maxLength:N,onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,placeholder:S.default.t(477),multiline:!0}),t))}}]),t}(p.Component);t.default=D},gafggdea:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("djecdhecha")),s=i(a("dbjagcfebh")),u=i(a("fhfbcdaib")),f=n(a("ddhijeejag")),h=i(a("effbcehec")),p=a("dfdebdgdei"),g=i(a("hgfdbdadf")),m=i(a("bgfcjjddjf")),b=i(a("ccbgfecegc")),v=i(a("bbfjdcedab")),j=i(a("ieeidjijb")),E=i(a("dhigahgdjb")),C=i(a("bdacheahgj")),y=i(a("dahagdijgh")),S=i(a("bjheffjbgd")),_=i(a("cciafahdib")),k=n(a("bjjhgjdbhd")),M=a("cdhbdacigj"),I=i(a("bgheieccaj")),T=i(a("bfchfhibba")),L=i(a("dbfjeecgih")),P=i(a("bdjjabfecc")),w=i(a("ebddggeaib")),N=i(a("dgdcjccfdi")),O=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new L.default,a.onBlockConfirm=function(e){(0,p.blockContact)(e).catch((function(){})),b.default.closeModal()},a.onBlock=function(){b.default.openModal(f.createElement(C.default,{title:P.default.t(183),filter:function(e){return!!E.default.isFilteredContact(e)&&(!m.default.get(e.id)||P.default.t(1047))},onCancel:function(){return b.default.closeModal()},onSelect:(0,u.default)(a.onBlockConfirm)}))},a.onUnblockConfirm=function(e){(0,p.unblockContact)(e).catch((function(){})),b.default.closeModal()},a.onUnblockCancel=function(){b.default.closeModal()},a.onUnblock=function(e,t){b.default.openModal(f.createElement(v.default,{okText:P.default.t(1283),onOK:a.onUnblockConfirm.bind((0,c.default)(a),t),cancelText:P.default.t(1436),onCancel:a.onUnblockCancel},P.default.t(1284,{contact:t.formattedName})))},a.renderItem=function(e){var t=e.blocklist.contact();return f.createElement(j.default,{contact:t,key:t.id.toString(),onClick:a.onUnblock,onDelete:a.onUnblock,waitIdle:!0})},a}return(0,s.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.listeners.add(m.default,"add remove",(function(){e.forceUpdate()}))}},{key:"getData",value:function(){return m.default.map((function(e){return{itemKey:e.id.toString(),blocklist:e}}))}},{key:"render",value:function(){var e,t;return m.default.length>0?(e=f.createElement(T.default,{flatListControllers:[this.flatListController],className:g.default.list},f.createElement(I.default,{flatListController:this.flatListController,direction:"vertical",data:this.getData(),renderItem:this.renderItem})),t=f.createElement("div",{"data-a8n":h.default.key("blocked-description"),className:g.default.hint},P.default.t(180))):e=f.createElement(M.Blocked,null),f.createElement(y.default,null,f.createElement(k.default,{title:P.default.t(250),onBack:this.props.onClose,type:k.DRAWER_HEADER_TYPE.LARGE}),f.createElement("div",{className:g.default.button},f.createElement(_.default,{a8nText:"li-add-blocked",onClick:this.onBlock,icon:f.createElement(N.default,{name:"add-user",directional:!0})},P.default.t(183))),f.createElement(S.default,null,e,t))}}]),t}(f.Component),A=(0,w.default)(O);t.default=A},gddidehjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("dhigahgdjb")),p=i(a("bjcgjiedih")),g=i(a("bdeebiagii")),m=i(a("bdjjabfecc")),b=i(a("hdhcfhidh")),v=i(a("cejfghgbfb")),j=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onClick=function(e,t){u.default.find(t.id).then(f.default.openChatFromUnread.bind(f.default)),a.end()},a.onNewGroup=function(){a.push(s.createElement(v.default,{onBack:a.pop,onContinue:a.onSetGroupInfo}))},a.onSetGroupInfo=function(e){a.push(s.createElement(b.default,{participants:e,onBack:function(){a.popAndUpdate({participants:e})},onContinue:a.end}))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){h.default.ensureSorted(),this.push(s.createElement(p.default,{title:m.default.t(995),onBack:this.end,onClick:this.onClick,onNewGroup:this.onNewGroup}))}}]),t}(g.default);t.default=j},gfhdfcfge:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){r.default.supportsFeature(r.default.F.MD_BACKEND);return o.default.setPushname(e).then((function(e){if(e.status&&200!==e.status)throw new i.ServerStatusCodeError(e.status);return{_duplicate:e._duplicate}}))};var i=a("bgihjbde"),r=n(a("bhbdiadfhj")),o=n(a("cfidecfjad"))},ghjbjjbch:function(e,t){e.exports={container:"_3PMNQ",preview:"_2clhP",caption:"VSuD-",img:"_1rASv"}},gjiifgfgh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("gafggdea")),f=n(a("dfhjacfbjg")),h=i(a("ccbgfecegc")),p=i(a("bjigbaghc")),g=i(a("bdeebiagii")),m=a("ddbdgibbbi"),b=i(a("djdjdgjjdc")),v=i(a("dcjahegieh")),j=i(a("daehjhdfgf")),E=i(a("dhefcajhhb")),C=i(a("cghhjgjffa")),y=i(a("gbbacfeci")),S=i(a("bhfeiiegef")),_=i(a("bjjegffjad")),k=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).showWallpaperDrawer=function(){a.push(s.createElement(_.default,{onClose:a._pop}))},a.showBlockedDrawer=function(){a.push(s.createElement(u.default,{onClose:a._pop}))},a.showProfileDrawer=function(){var e=(0,m.getMaybeMeUser)(),t=y.default.assertGet(e),n=E.default.assertGet(e);a.push(s.createElement(j.default,{status:t,profilePicThumb:n,conn:p.default,onClose:a._pop}))},a.showNotifications=function(){a.push(s.createElement(v.default,{onClose:a._pop}))},a.showHelp=function(){f.upload({reason:"help-page-opened",isHighPri:!0}),a.push(s.createElement(b.default,{onClose:a._pop}))},a.showThemePopup=function(){h.default.openModal(s.createElement(S.default,null))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.push(s.createElement(C.default,{profileId:(0,m.getMaybeMeUser)(),onWallpaper:this.showWallpaperDrawer,onBlocked:this.showBlockedDrawer,onProfile:this.showProfileDrawer,onNotifications:this.showNotifications,onHelp:this.showHelp,onThemeSettings:this.showThemePopup,onClose:this._pop}))}}]),t}(g.default);t.default=k},hdhcfhidh:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("fhfbcdaib")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=a("dffedeegcb"),p=i(a("dahagdijgh")),g=i(a("bjheffjbgd")),m=n(a("bjjhgjdbhd")),b=a("dgjddffcfg"),v=i(a("bdjjabfecc")),j=i(a("cejgdbefcg")),E=i(a("hajhefagc")),C=i(a("cfcfdeifjb")),y=i(a("deffjjfcba")),S=i(a("dgdcjccfdi")),_=i(a("dbihaeaggd")),k=i(a("didfdhbecg")),M=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onImageSet=function(e,t){a.setState({thumb:e,full:t})},a.onContinue=function(){var e=(0,b.emojify)(a.state.text.trim());(0,h.createGroup)(e,a.state.thumb,a.state.full,a.props.participants),a.props.onContinue()},a.onSubjectChange=function(e){a.setState({text:e})},a.setRefEmojiInput=function(e){a.refEmojiInput=e},a.state={text:e.subject||"",thumb:e.thumb,full:e.full},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.refEmojiInput&&this.refEmojiInput.restoreFocus()}},{key:"render",value:function(){var e=this.state.text.trim().length>0,t=e?u.createElement("div",{className:j.default.nextButton},u.createElement(y.default,{a8nText:"create-group-btn",onClick:(0,s.default)(this.onContinue)},u.createElement(S.default,{name:"checkmark-medium"}))):null;return u.createElement(p.default,null,u.createElement(m.default,{title:v.default.t(996),type:m.DRAWER_HEADER_TYPE.LARGE,onBack:this.props.onBack}),u.createElement(g.default,null,u.createElement("div",{className:j.default.section},u.createElement(E.default,{type:C.default.GROUP,attachToChat:!1,startImage:this.state.full,onImageSet:this.onImageSet})),u.createElement("div",{"data-a8n":f.default.key("group-subject"),className:j.default.section},u.createElement(_.default,{ref:this.setRefEmojiInput,value:this.state.text,maxLength:25,showRemaining:!0,onChange:this.onSubjectChange,placeholder:v.default.t(685),onEnter:e?(0,s.default)(this.onContinue):function(){},supportsEmoji:!0})),u.createElement(k.default,{transitionName:"btn"},t)))}}]),t}(u.Component);t.default=M},heaagdjji:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetersBetweenLatLngs=function(e,t,a,i){var r=n(a-e),o=n(i-t),d=Math.sin(r/2)*Math.sin(r/2)+Math.cos(n(e))*Math.cos(n(a))*Math.sin(o/2)*Math.sin(o/2),l=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d));return 6371e3*l},t.getMetersPerPixel=function(e,t){var a=Math.cos(e*Math.PI/180),n=1/Math.pow(2,t);return 156543.03392*a*n},t.getLatDiff=function(e){return i(e/6371e3)},t.getLngDiff=function(e,t){var a=6371e3*Math.cos(n(t));return i(e/a)};function n(e){return e*(Math.PI/180)}function i(e){return e*(180/Math.PI)}},hgfdbdadf:function(e,t){e.exports={list:"_8vEbr",hint:"_279Df",button:"NmSjS"}},icfeihfad:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("bdeebiagii")),g=i(a("djaadchjch")),m=i(a("djgcaefhci")),b=i(a("bdjjabfecc")),v=i(a("cjfeddifcd")),j=i(a("gjbhafcjg")),E=a("dgbddfjdhi"),C=n(a("bjhgigfbec")),y=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onSendInvite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;f.default.closeModal(),Promise.all(a.props.participantNeedInvite.map((function(n){var i=n.contact,r=n.invite_code,o=n.invite_code_exp;return u.default.find(i.id).then((function(n){var d=a.props.groupGid.toString(),l=g.default.assertGet(d);return n.sendGroupInviteMessage(d,a.props.subject,r||"",o,e,t).then((function(e){return e===E.SendMsgResult.OK&&(l.pendingParticipants.add({id:i.id}),!0)}))}))}))).then((function(e){var t=e.filter(Boolean).length;f.default.openToast(s.createElement(C.default,{msg:b.default.t(1555,{num:t,_plural:t}),id:(0,C.genId)()}))}))},a.addInviteCommment=function(e){a.push(s.createElement(m.default,{participants:e,gid:a.props.groupGid,subject:a.props.subject,groupDesc:a.props.groupDesc,onClose:a._pop,onSend:a.onSendInvite}))},a._pop=function(){a.pop()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.participantNeedInvite,t=this.getFormattedNames(e.map((function(e){return e.contact})),!0),a=b.default.t(690,{participant:t,_plural:e.length});this.push(s.createElement(h.default,{onOK:this.addInviteCommment.bind(this,e),okText:b.default.t(1554),onCancel:this._pop,cancelText:b.default.t(1436)},a))}},{key:"getFormattedName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e.formattedUser:s.createElement(j.default,{contact:e})}},{key:"getFormattedNames",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return this.getFormattedName(e,a);var n=e.map((function(e){return t.getFormattedName(e,a)}));return(0,v.default)(n,a)}}]),t}(p.default);t.default=y,y.defaultProps={removeTopDrawer:!0,pushTransition:"none",popTransition:"none"}},iieiegjjd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("ffceefejc")),d=i(a("cjedcdbdii")),l=i(a("dgcdacjddi")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=a("biheibdage"),h=i(a("cababhbggf")),p=i(a("bghfehcaaj")),g=i(a("cdbfcccegj")),m=i(a("bfajgaeghd")),b=i(a("cggjjcbdia")),v=i(a("bihjdjceid")),j=i(a("bjddhceafh")),E=i(a("fhgchaefa")),C=i(a("ccbgfecegc")),y=i(a("bbfjdcedab")),S=i(a("hgigjbgie")),_=i(a("dcjhajfghf")),k=i(a("dahagdijgh")),M=i(a("bjheffjbgd")),I=n(a("bjjhgjdbhd")),T=a("cfffidafid"),L=n(a("cajijabhgb")),P=a("cgffhfegce"),w=i(a("ddajbaceej")),N=i(a("dhfbfehaef")),O=i(a("bdjjabfecc")),A=i(a("ebddggeaib")),R=i(a("chjejfcdd")),D=i(a("bdcchebfge")),x=a("cedhgehjef"),U=i(a("dhccahhefj")),F=i(a("deffjjfcba")),B=i(a("bfgbdiffgd")),V=i(a("ecdebjcgfa")),G=i(a("dgdcjccfdi")),H=n(a("bjhgigfbec")),W=i(a("bchiiahecb")),z=i(a("didfdhbecg")),Y=S.default.MSG_TYPE,K=Y.IMAGE,q=Y.VIDEO,Z=Y.DOCUMENT,X=Y.AUDIO,J=f.ATTACH_MEDIA_STATE.PROCESSING,Q=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,o.default)(this,(0,d.default)(t).call(this,e))).attachMediaRefMap=new Map,a.setRefContainer=function(e){a.refContainer=e},a.setRefInput=function(e){a.refInput=e},a.setAttachMediaRef=function(e,t){a.attachMediaRefMap.set(e,t)},a.onMediaProcessUpdate=function(){var e=a.props.mediaCollection;if(e.canSend()){var t=e.uiProcessMsgs().errorMsgs,n=e.getPreviewableMedias();t&&n.length>0&&C.default.openToast(u.createElement(H.default,{msg:t,id:(0,H.genId)()})),a.forceUpdate()}},a.onFilesNotSupported=function(){var e=a.props.mediaCollection.filter((function(e){return e.exception}));e.length>0&&a.props.onFailedMedias(e)},a.showIgnoredToast=function(e){if(e>0){var t=O.default.t(1276,{number:e,_plural:e});C.default.openToast(u.createElement(H.default,{msg:t,id:(0,H.genId)()}))}},a.onDrop=function(e){a.onFilePick(e)},a.onDragLeave=function(){a.props.mediaCollection.length||a.props.onBack()},a.onDragChange=function(e,t){a.setState({isDragging:e}),e||t||a.props.mediaCollection.length||a.props.onBack()},a.onEnter=function(e){a.state.activeMedia&&(e.repeat||e.shiftKey||a.onSend())},a.onArrowLeft=function(e){if(a.state.activeMedia&&!e.repeat){var t=a.state.activeMedia&&!a.state.activeMedia.caption,n=a.refCaptionInput&&a.refCaptionInput.refInput;(t||n&&!n.isFocused()||n&&n.cursorIsAtStart())&&a.onPrev()}},a.onArrowRight=function(e){if(a.state.activeMedia&&!e.repeat){var t=a.state.activeMedia&&!a.state.activeMedia.caption,n=a.refCaptionInput&&a.refCaptionInput.refInput;(t||n&&!n.isFocused()||n&&n.cursorIsAtEnd())&&a.onNext()}},a.onNext=function(){a.props.mediaCollection.setNextAsActive()&&(a.refSendButton&&w.default.focus(a.refSendButton),a._scrollIntoView())},a.onPrev=function(){a.props.mediaCollection.setPrevAsActive()&&(a.refSendButton&&w.default.focus(a.refSendButton),a._scrollIntoView())},a._scrollIntoView=function(){var e=a.props.mediaCollection.getActive();if(e){var t=a.attachMediaRefMap.get(e.id);t&&t.scrollIntoView()}},a.onSelectThumb=function(e){a.props.mediaCollection.setActive(e)},a.onSend=function(e){e&&e.preventDefault(),e&&e.shiftKey||a.props.mediaCollection.canSend()&&Promise.all([]).then((function(){var e=a.props.mediaCollection.getPreviewableMedias();if(0!==e.length){var t=e.map((function(e){var t=e.caption,n=[],i=a.refCaptionInput&&a.refCaptionInput.refInput;if(t&&i){var r=i.serialize(t),o=[r[0].trim(),r[1]],d=o[0],l=o[1];d.length&&(t=d,n=l.mentionedJidList||[])}return e.caption=t||void 0,{media:e,mentionedJidList:n}}));a.props.onSendMedia(t,a.state.isInitCaptionUsed,a.state.isViewOnce)}}))},a.onAddFileClick=function(){a.refInput&&a.refInput.click()},a.onFilePick=function(e){(0,T.getFiles)(e).then((function(e){return a.props.mediaCollection.processAttachments(e.map((function(e){return{file:e}})),D.default.MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY)})).checkpoint(a.props.rejectOnUnmount()).catchType(L.Unmount,(function(){})).catchType(L.MediaDragDropError,(function(e){a.props.mediaCollection.length||a.props.onDropText(e.src)})),e.target&&e.target.value&&(e.target.value="")},a.onRemoveThumb=function(e,t){t.stopPropagation(),t.preventDefault(),a.props.mediaCollection.remove(e),0===a.props.mediaCollection.getValidMedias().length?a.delayedClose=setTimeout((function(){a.props.onBack()}),200):a.refSendButton&&w.default.focus(a.refSendButton)},a.onCaptionChange=function(e){var t=a.state,n=t.activeMedia,i=t.isInitCaptionUsed;if(n){var r=a.props.mediaCollection.indexOf(n);n.caption=e,0===r&&""===e&&i?a.setState({isInitCaptionUsed:!1}):a.forceUpdate()}},a.onPaste=function(e){e.preventDefault(),e.stopPropagation();var t=new _.default(e.clipboardData);t.hasFiles()&&a.onFiles(t)},a.onFiles=function(e){var t=e.getFiles().filter((function(e){var t=(0,P.typeFromMimetype)(e.type);return"image"===t||"video"===t})).map((function(e){return{file:e}}));a.props.mediaCollection.processAttachments(t,D.default.MEDIA_PICKER_ORIGIN_TYPE.PASTE)},a.onViewOnceChange=function(){a.setState((function(e){return{isViewOnce:!e.isViewOnce}}))},a.setRefCaptionInput=function(e){a.state.activeMedia&&!e||(a.refCaptionInput=e)},a.getMedia=function(e){var t,n,i;switch(e.type){case K:case q:t||(t=u.createElement(v.default,{mimeType:e.mimetype,url:e.fullPreview,isGif:e.isGif,size:e.fullPreviewSize,processing:e.state===J,preview:e.preview}));var r=B.default.viewOnceWrite&&1===a.props.mediaCollection.length;n=u.createElement("div",{className:h.default.captionInput,"data-animate-media-caption":!0},u.createElement(R.default,{ref:a.setRefCaptionInput,value:e.caption,placeholder:O.default.t(178),maxLength:S.default.MAX_CAPTION_LENGTH,onEnter:a.onSend,onChange:a.onCaptionChange,onFiles:a.onFiles,chat:a.props.chat,showRemaining:!0,spellCheck:!0,multiline:!0,supportsEmoji:!0}),r?u.createElement(W.default,{className:(0,s.default)(h.default.btnViewOnce,{[h.default.btnViewOnceActive]:a.state.isViewOnce}),onClick:a.onViewOnceChange},u.createElement(G.default,{name:"view-once"})):null);break;case X:t=u.createElement(g.default,{mimeType:e.mimetype,url:e.fullPreview});break;case Z:switch((0,x.previewType)(e.mimetype)){case"pdf":t=u.createElement(j.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,pageCount:e.documentPageCount,mimeType:e.mimetype,filename:e.filename});break;case"msoffice":t=u.createElement(m.default,{fullPreview:e.fullPreview,fullPreviewSize:e.fullPreviewSize,mimeType:e.mimetype,filename:e.filename});break;default:t=u.createElement(b.default,{mimeType:e.mimetype,filename:e.filename})}}return"image/gif"===e.originalMimetype&&(i=u.createElement("div",{className:h.default.mediaWarning,"data-animate-attach-media":!0},O.default.t(822)," ",u.createElement(E.default,{onClick:a.onWarningCtaClick},O.default.t(759)))),u.createElement("div",{className:h.default.mediaBody,key:e.id},t,i,n)},a.onWarningCtaClick=function(e){e.preventDefault(),C.default.openModal(u.createElement(y.default,{onOK:function(){return C.default.closeModal()}},O.default.t(615)))},a.getThumbs=function(e){return e.map((function(e){return u.createElement(p.default,{id:e.id,key:"media-"+e.id,active:e===a.state.activeMedia,attachMedia:e,onClick:a.onSelectThumb,onClose:a.onRemoveThumb,onRef:a.setAttachMediaRef})}))},a.setRefSendButton=function(e){a.refSendButton=e},a.state={activeMedia:null,prevActiveMedia:null,isDragging:!1,isInitCaptionUsed:!1,isViewOnce:!1},a}return(0,c.default)(t,e),(0,l.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.mediaCollection.getActive(),n=e.initCaption&&e.initCaption.text,i=t.isInitCaptionUsed;return i||t.activeMedia||!n||!a||a.type!==K&&a.type!==q||(a.caption=n,i=!0),{prevActiveMedia:t.activeMedia,activeMedia:a,isInitCaptionUsed:i}}}]),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.mediaCollection,n=t.listeners;n.add(a,"add remove reset",(function(){e.forceUpdate()})),n.add(a,"active-change change:state change:previewable",this.onMediaProcessUpdate),n.add(a,"files_not_supported",this.onFilesNotSupported),n.add(a,"max_upload_limit",this.showIgnoredToast),a.mediaPickerStatsLogger.resumeTimer()}},{key:"componentDidUpdate",value:function(e,t){var a=this;!t.activeMedia&&this.state.activeMedia&&this.refCaptionInput?this.props.listeners.uiIdle((function(){a.refCaptionInput&&a.refCaptionInput.restoreFocus()})):this.refSendButton&&this.refContainer&&!this.refContainer.contains(document.activeElement)&&w.default.focus(this.refSendButton)}},{key:"componentWillUnmount",value:function(){this.delayedClose&&clearTimeout(this.delayedClose),this.props.mediaCollection.mediaPickerStatsLogger.pauseTimer()}},{key:"render",value:function(){var e,t,a,n=this.props.mediaCollection,i=this.state,r=i.activeMedia,o=i.prevActiveMedia,d=0,l=!0,c=n.getPreviewableMedias();c.length>S.default.MAX_FILES&&(c=c.slice(0,S.default.MAX_FILES)),n.canSend()?r?e=this.getMedia(r):0===c.length&&n.errorMsgs&&(e=u.createElement("div",{className:h.default.invalidContainer,key:"pending"},u.createElement("div",{className:h.default.invalidMedia},n.errorMsgs))):(l=!1,e=u.createElement(V.default,{key:"processing",color:"highlight"})),c.length>0&&(t=this.getThumbs(c),d=1===c.length?400:400+(150+15*c.length),a=l?u.createElement("div",{className:h.default.btnSend,tabIndex:"-1",ref:this.setRefSendButton,onKeyPress:function(e){return e.preventDefault()}},u.createElement(F.default,{large:!0,onClick:this.onSend},u.createElement(G.default,{name:"send",directional:!0}))):null);var f=this.state.isDragging?u.createElement("div",{key:"container",className:h.default.dropOverlay},u.createElement("div",{className:h.default.dropOverlayOutline},O.default.t(509))):null,p=c.length<S.default.MAX_FILES?u.createElement("div",{className:(0,s.default)(h.default.btnAdd,{[h.default.btnAddDisabled]:this.state.isViewOnce}),key:"media-more",onClick:this.state.isViewOnce?void 0:this.onAddFileClick,role:"button"},u.createElement(G.default,{name:"add-alt"}),u.createElement("div",{className:h.default.btnAddText},O.default.t(185))):null,g={enter:this.onEnter,left:this.onArrowLeft,right:this.onArrowRight},m="*"===x.DOC_MIMES?"*":[S.default.IMAGE_MIMES,S.default.VIDEO_MIMES,x.DOC_MIMES].join(),b="media-scale";return r&&o&&r!==o&&(b=n.indexOf(r)>n.indexOf(o)?"media-slide-forward":"media-slide-back"),u.createElement(N.default,{handlers:g,onRef:this.setRefContainer},u.createElement(k.default,{key:"attach-image-modal",theme:"media",onDrop:this.onDrop,onDragChange:this.onDragChange},u.createElement(I.default,{title:O.default.t(1641),type:I.DRAWER_HEADER_TYPE.OFFSET,onCancel:this.props.onBack}),u.createElement(M.default,{tabIndex:"-1",overflow:"hidden",onPaste:this.onPaste},f,u.createElement("div",{className:h.default.body},u.createElement(z.default,{transitionName:b},e)),u.createElement("div",{className:h.default.thumbs},u.createElement(z.default,{transitionAppear:!0,transitionName:"thumb-scale",className:h.default.thumbsContainer},t),p),u.createElement(z.default,{transitionAppear:!0,transitionName:"btn",delay:d},a),u.createElement("input",{ref:this.setRefInput,type:"file",accept:m,style:{display:"none"},onChange:this.onFilePick,multiple:!0}))))}}]),t}(u.Component),$=(0,U.default)((0,A.default)(Q));t.default=$},jajhhaah:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("ceffhbhahb")),u=n(a("ddhijeejag")),f=i(a("effbcehec")),h=i(a("hgigjbgie")),p=i(a("bdjjabfecc")),g=a("cbhhehcjbb"),m=i(a("bgcdjjjjad")),b=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,l.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=h.default.VERSION_STR;return u.createElement(g.SelectableDiv,{"data-a8n":f.default.key("version"),className:(0,s.default)(m.default.versionInfo,this.props.className),selectable:!0},p.default.t(1335,{version:""}),u.createElement("span",{dir:"LTR"},e),null)}}]),t}(u.PureComponent);t.default=b},jbeeghga:function(e,t){e.exports={title:"_3ooFS"}},jdibabjeb:function(e,t,a){"use strict";var n=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("eaidjcib")),r=n(a("ffceefejc")),o=n(a("cjedcdbdii")),d=n(a("dbjagcfebh")),l=n(a("cfgafiffdb")),c=n(a("dfdhhbaich")),s=n(a("dbbhijehii")),u=n(a("ecddiajibj")),f=n(a("igieaiddf")),h=n(a("ifdgihhgf")),p=n(a("cecdefhddc")),g=n(a("dajheaeehj")),m=new u.default,b=new l.default,v=function(e){function t(){return(0,i.default)(this,t),(0,r.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,d.default)(t,e),t}((0,f.default)([c.default,b,m,h.default]));t.default=v,v.MentionSuggestions=(0,g.default)(p.default,{plugin:m}),v.EmojiSuggestions=(0,g.default)(s.default,{plugin:b})},jgabafafc:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("cidchbceif")),f=i(a("hhcjfgifh")),h=i(a("bgheieccaj")),p=i(a("bfchfhibba")),g=i(a("dbfjeecgih")),m=i(a("bdjjabfecc")),b=i(a("gjbhafcjg")),v=i(a("dgdcjccfdi")),j=i(a("dggddfhei")),E=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).flatListController=new g.default,a.renderListItem=function(e){var t=e.participant,n=t.isMe?s.createElement("div",{className:u.default.time},s.createElement(j.default,{participant:t})):null;return s.createElement("div",{className:u.default.item,onClick:function(){return a.props.onParticipantSelected(t.contact.id.toString())}},s.createElement("div",{className:u.default.left},s.createElement(f.default,{id:t.contact.id,size:28})),s.createElement("div",{className:u.default.right},s.createElement("div",{className:u.default.name},s.createElement(b.default,{contact:t.contact,titlify:!0,ellipsify:!0,you:!0})),n))},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"getListData",value:function(){return this.props.participants.map((function(e){return{itemKey:e.id.toString(),participant:e}}))}},{key:"render",value:function(){return s.createElement("div",{className:u.default.container},s.createElement("div",{className:u.default.header},s.createElement("div",{className:u.default.left},s.createElement("span",{className:u.default.close,onClick:this.props.onClearSelected},s.createElement(v.default,{name:"x"}))),s.createElement("div",{className:u.default.right},m.default.t(767,{count:this.props.participants.length,_plural:this.props.participants.length}))),s.createElement(p.default,{className:u.default.list,flatListControllers:[this.flatListController]},s.createElement(h.default,{data:this.getListData(),flatListController:this.flatListController,direction:"vertical",defaultItemHeight:48,renderItem:this.renderListItem})))}}]),t}(s.Component);t.default=E},jgjccejgb:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=i(a("eaaagccfda")),u=i(a("iidhbgeed")),f=i(a("dbafiicfja")),h=n(a("ddhijeejag")),p=n(a("dighcbdehd")),g=a("cdhbdacigj"),m=a("dgjddffcfg"),b=i(a("bdjjabfecc")),v=i(a("bciccdecig")),j=i(a("dcaibchbg")),E=function(e){function t(e){var a;return(0,r.default)(this,t),(a=(0,d.default)(this,(0,l.default)(t).call(this,e))).onSelect=function(e,t){if(t instanceof p.Mode){var n=t.props.chat;!0===a.props.filter(n)&&a.props.onGroup(t.props.chat)}},a.onSearch=(0,s.default)((function(e){a.setState({searchText:e})}),100),a.renderItem=function(e){var t,n,i=a.props,r=i.onGroup,o=(0,i.filter)(e.chat),d="boolean"!=typeof o;return d&&(t=o,n="group-modal"),h.createElement(p.default,{chat:e.chat,contact:e.chat.contact,mode:p.Mode.INFO,active:a.selection,secondary:t,noContext:!0,theme:n,onClick:d?void 0:r.bind(null,e.chat)})},a.selection=new j.default,a.state={loading:!0,searchText:void 0},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chats;Promise.delay(300).then((function(){return Promise.all((0,f.default)((0,u.default)(t,(function(e){return e.groupMetadata.stale})),(function(e){return a("djaadchjch").default.update(e.groupMetadata.id).catch((function(){}))})))})).then((function(){return e.setState({loading:!1})}))}},{key:"getData",value:function(){var e=this.props,t=e.chats,a=e.filter,n=this.state,i=n.loading,r=n.searchText;if(i)return[];var o=b.default.accentFold(r),d=(0,m.numberSearch)(o),l=t.filter((function(e){return a(e)&&(!o||o&&e.contact.searchMatch(o,d))}));return this.selection.init(l.filter((function(e){return!0===a(e)})).map((function(e){return e.id}))),l.map((function(e){return{chat:e,itemKey:e.id.toString()}}))}},{key:"render",value:function(){var e=this.props.onCancel,t=this.state.loading?h.createElement(g.Loading,null):h.createElement(g.SearchGroups,null);return h.createElement(v.default,{title:b.default.t(1557),data:this.getData(),renderItem:this.renderItem,emptyState:t,selection:this.selection,onSearch:this.onSearch,searchPlaceholder:b.default.t(1158),onSelect:this.onSelect,onCancel:e})}}]),t}(h.Component);t.default=E,E.defaultProps={filter:function(){return!0}}},jjhjbgbd:function(e,t,a){"use strict";var n=a("bfejgijfbh"),i=a("cfjecfhbfg");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("eaidjcib")),o=i(a("dgcdacjddi")),d=i(a("ffceefejc")),l=i(a("cjedcdbdii")),c=i(a("dbjagcfebh")),s=n(a("ddhijeejag")),u=i(a("dbdfbgehgj")),f=i(a("ccbgfecegc")),h=i(a("bbfjdcedab")),p=i(a("gfebgebbi")),g=i(a("bdjjabfecc")),m=function(e){function t(){var e,a;(0,r.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=(0,d.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(i)))).onCancel=function(){f.default.closeModal()},a.onUnstar=function(){var e=a.props.chat,t=a.props.msgs;e&&e.pendingAction++,u.default.unstarAllMessages(t,e).finally((function(){e&&e.pendingAction--})),f.default.closeModal()},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return s.createElement(h.default,{onOK:this.onUnstar,okText:g.default.t(1292),onCancel:this.onCancel},s.createElement("div",null,s.createElement(p.default,{text:g.default.t(1293)})))}}]),t}(s.Component);t.default=m}}]);